"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/drizzle-orm";
exports.ids = ["vendor-chunks/drizzle-orm"];
exports.modules = {

/***/ "(rsc)/./node_modules/drizzle-orm/alias-cf8e03cd.mjs":
/*!*****************************************************!*\
  !*** ./node_modules/drizzle-orm/alias-cf8e03cd.mjs ***!
  \*****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   $: () => (/* binding */ PgArrayBuilder),\n/* harmony export */   A: () => (/* binding */ getOrderByOperators),\n/* harmony export */   B: () => (/* binding */ normalizeRelation),\n/* harmony export */   C: () => (/* binding */ ColumnBuilder),\n/* harmony export */   D: () => (/* binding */ DrizzleError),\n/* harmony export */   E: () => (/* binding */ and),\n/* harmony export */   F: () => (/* binding */ eq),\n/* harmony export */   G: () => (/* binding */ aliasedTable),\n/* harmony export */   H: () => (/* binding */ applyMixins),\n/* harmony export */   I: () => (/* binding */ getTableColumns),\n/* harmony export */   J: () => (/* binding */ TypedQueryBuilder),\n/* harmony export */   K: () => (/* binding */ getTableLikeName),\n/* harmony export */   L: () => (/* binding */ PgColumnBuilder),\n/* harmony export */   M: () => (/* binding */ Many),\n/* harmony export */   N: () => (/* binding */ PgColumn),\n/* harmony export */   O: () => (/* binding */ One),\n/* harmony export */   P: () => (/* binding */ PgDialect),\n/* harmony export */   Q: () => (/* binding */ QueryPromise),\n/* harmony export */   R: () => (/* binding */ pgTableWithSchema),\n/* harmony export */   S: () => (/* binding */ SQL),\n/* harmony export */   T: () => (/* binding */ Table),\n/* harmony export */   U: () => (/* binding */ pgViewWithSchema),\n/* harmony export */   V: () => (/* binding */ ViewBaseConfig),\n/* harmony export */   W: () => (/* binding */ WithSubquery),\n/* harmony export */   X: () => (/* binding */ pgMaterializedViewWithSchema),\n/* harmony export */   Y: () => (/* binding */ CheckBuilder),\n/* harmony export */   Z: () => (/* binding */ Check),\n/* harmony export */   _: () => (/* binding */ check),\n/* harmony export */   a: () => (/* binding */ extractTablesRelationalConfig),\n/* harmony export */   a$: () => (/* binding */ PgView),\n/* harmony export */   a0: () => (/* binding */ PgArray),\n/* harmony export */   a1: () => (/* binding */ PgDateBuilder),\n/* harmony export */   a2: () => (/* binding */ PgDate),\n/* harmony export */   a3: () => (/* binding */ PgDateStringBuilder),\n/* harmony export */   a4: () => (/* binding */ PgDateString),\n/* harmony export */   a5: () => (/* binding */ date),\n/* harmony export */   a6: () => (/* binding */ PgJsonBuilder),\n/* harmony export */   a7: () => (/* binding */ PgJson),\n/* harmony export */   a8: () => (/* binding */ json),\n/* harmony export */   a9: () => (/* binding */ PgJsonbBuilder),\n/* harmony export */   aA: () => (/* binding */ PrimaryKeyBuilder),\n/* harmony export */   aB: () => (/* binding */ PrimaryKey),\n/* harmony export */   aC: () => (/* binding */ PgSelectQueryBuilder),\n/* harmony export */   aD: () => (/* binding */ PgSelect),\n/* harmony export */   aE: () => (/* binding */ InlineForeignKeys),\n/* harmony export */   aF: () => (/* binding */ PgTable),\n/* harmony export */   aG: () => (/* binding */ pgTable),\n/* harmony export */   aH: () => (/* binding */ pgTableCreator),\n/* harmony export */   aI: () => (/* binding */ unique),\n/* harmony export */   aJ: () => (/* binding */ uniqueKeyName),\n/* harmony export */   aK: () => (/* binding */ UniqueConstraintBuilder),\n/* harmony export */   aL: () => (/* binding */ UniqueOnConstraintBuilder),\n/* harmony export */   aM: () => (/* binding */ UniqueConstraint),\n/* harmony export */   aN: () => (/* binding */ getTableConfig),\n/* harmony export */   aO: () => (/* binding */ getViewConfig),\n/* harmony export */   aP: () => (/* binding */ getMaterializedViewConfig),\n/* harmony export */   aQ: () => (/* binding */ parsePgNestedArray),\n/* harmony export */   aR: () => (/* binding */ parsePgArray),\n/* harmony export */   aS: () => (/* binding */ makePgArray),\n/* harmony export */   aT: () => (/* binding */ DefaultViewBuilderCore),\n/* harmony export */   aU: () => (/* binding */ ViewBuilder),\n/* harmony export */   aV: () => (/* binding */ ManualViewBuilder),\n/* harmony export */   aW: () => (/* binding */ MaterializedViewBuilderCore),\n/* harmony export */   aX: () => (/* binding */ MaterializedViewBuilder),\n/* harmony export */   aY: () => (/* binding */ ManualMaterializedViewBuilder),\n/* harmony export */   aZ: () => (/* binding */ PgViewBase),\n/* harmony export */   a_: () => (/* binding */ PgViewConfig),\n/* harmony export */   aa: () => (/* binding */ PgJsonb),\n/* harmony export */   ab: () => (/* binding */ jsonb),\n/* harmony export */   ac: () => (/* binding */ PgNumericBuilder),\n/* harmony export */   ad: () => (/* binding */ PgNumeric),\n/* harmony export */   ae: () => (/* binding */ numeric),\n/* harmony export */   af: () => (/* binding */ decimal),\n/* harmony export */   ag: () => (/* binding */ PgTimeBuilder),\n/* harmony export */   ah: () => (/* binding */ PgTime),\n/* harmony export */   ai: () => (/* binding */ time),\n/* harmony export */   aj: () => (/* binding */ PgTimestampBuilder),\n/* harmony export */   ak: () => (/* binding */ PgTimestamp),\n/* harmony export */   al: () => (/* binding */ PgTimestampStringBuilder),\n/* harmony export */   am: () => (/* binding */ PgTimestampString),\n/* harmony export */   an: () => (/* binding */ timestamp),\n/* harmony export */   ao: () => (/* binding */ PgUUIDBuilder),\n/* harmony export */   ap: () => (/* binding */ PgUUID),\n/* harmony export */   aq: () => (/* binding */ uuid),\n/* harmony export */   ar: () => (/* binding */ ForeignKeyBuilder),\n/* harmony export */   as: () => (/* binding */ ForeignKey),\n/* harmony export */   at: () => (/* binding */ foreignKey),\n/* harmony export */   au: () => (/* binding */ IndexBuilderOn),\n/* harmony export */   av: () => (/* binding */ IndexBuilder),\n/* harmony export */   aw: () => (/* binding */ Index),\n/* harmony export */   ax: () => (/* binding */ index),\n/* harmony export */   ay: () => (/* binding */ uniqueIndex),\n/* harmony export */   az: () => (/* binding */ primaryKey),\n/* harmony export */   b: () => (/* binding */ Param),\n/* harmony export */   b0: () => (/* binding */ PgMaterializedViewConfig),\n/* harmony export */   b1: () => (/* binding */ PgMaterializedView),\n/* harmony export */   b2: () => (/* binding */ pgView),\n/* harmony export */   b3: () => (/* binding */ pgMaterializedView),\n/* harmony export */   b4: () => (/* binding */ ColumnAliasProxyHandler),\n/* harmony export */   b5: () => (/* binding */ RelationTableAliasProxyHandler),\n/* harmony export */   b6: () => (/* binding */ aliasedRelation),\n/* harmony export */   b7: () => (/* binding */ hasOwnEntityKind),\n/* harmony export */   b8: () => (/* binding */ bindIfParam),\n/* harmony export */   b9: () => (/* binding */ ne),\n/* harmony export */   bA: () => (/* binding */ createOne),\n/* harmony export */   bB: () => (/* binding */ createMany),\n/* harmony export */   bC: () => (/* binding */ FakePrimitiveParam),\n/* harmony export */   bD: () => (/* binding */ isSQLWrapper),\n/* harmony export */   bE: () => (/* binding */ StringChunk),\n/* harmony export */   bF: () => (/* binding */ Name),\n/* harmony export */   bG: () => (/* binding */ name),\n/* harmony export */   bH: () => (/* binding */ isDriverValueEncoder),\n/* harmony export */   bI: () => (/* binding */ noopDecoder),\n/* harmony export */   bJ: () => (/* binding */ noopEncoder),\n/* harmony export */   bK: () => (/* binding */ noopMapper),\n/* harmony export */   bL: () => (/* binding */ param),\n/* harmony export */   bM: () => (/* binding */ Placeholder),\n/* harmony export */   bN: () => (/* binding */ placeholder),\n/* harmony export */   bO: () => (/* binding */ TableName),\n/* harmony export */   bP: () => (/* binding */ Schema),\n/* harmony export */   bQ: () => (/* binding */ Columns),\n/* harmony export */   bR: () => (/* binding */ OriginalName),\n/* harmony export */   bS: () => (/* binding */ BaseName),\n/* harmony export */   bT: () => (/* binding */ IsAlias),\n/* harmony export */   bU: () => (/* binding */ ExtraConfigBuilder),\n/* harmony export */   bV: () => (/* binding */ isTable),\n/* harmony export */   bW: () => (/* binding */ iife),\n/* harmony export */   ba: () => (/* binding */ or),\n/* harmony export */   bb: () => (/* binding */ not),\n/* harmony export */   bc: () => (/* binding */ gt),\n/* harmony export */   bd: () => (/* binding */ gte),\n/* harmony export */   be: () => (/* binding */ lt),\n/* harmony export */   bf: () => (/* binding */ lte),\n/* harmony export */   bg: () => (/* binding */ inArray),\n/* harmony export */   bh: () => (/* binding */ notInArray),\n/* harmony export */   bi: () => (/* binding */ isNull),\n/* harmony export */   bj: () => (/* binding */ isNotNull),\n/* harmony export */   bk: () => (/* binding */ exists),\n/* harmony export */   bl: () => (/* binding */ notExists),\n/* harmony export */   bm: () => (/* binding */ between),\n/* harmony export */   bn: () => (/* binding */ notBetween),\n/* harmony export */   bo: () => (/* binding */ like),\n/* harmony export */   bp: () => (/* binding */ notLike),\n/* harmony export */   bq: () => (/* binding */ ilike),\n/* harmony export */   br: () => (/* binding */ notIlike),\n/* harmony export */   bs: () => (/* binding */ arrayContains),\n/* harmony export */   bt: () => (/* binding */ arrayContained),\n/* harmony export */   bu: () => (/* binding */ arrayOverlaps),\n/* harmony export */   bv: () => (/* binding */ asc),\n/* harmony export */   bw: () => (/* binding */ desc),\n/* harmony export */   bx: () => (/* binding */ Relation),\n/* harmony export */   by: () => (/* binding */ Relations),\n/* harmony export */   bz: () => (/* binding */ relations),\n/* harmony export */   c: () => (/* binding */ createTableRelationsHelpers),\n/* harmony export */   d: () => (/* binding */ mapUpdateSet),\n/* harmony export */   e: () => (/* binding */ entityKind),\n/* harmony export */   f: () => (/* binding */ fillPlaceholders),\n/* harmony export */   g: () => (/* binding */ mapRelationalRow),\n/* harmony export */   h: () => (/* binding */ QueryBuilder),\n/* harmony export */   i: () => (/* binding */ is),\n/* harmony export */   j: () => (/* binding */ SelectionProxyHandler),\n/* harmony export */   k: () => (/* binding */ PgSelectBuilder),\n/* harmony export */   l: () => (/* binding */ TransactionRollbackError),\n/* harmony export */   m: () => (/* binding */ mapResultRow),\n/* harmony export */   n: () => (/* binding */ TableAliasProxyHandler),\n/* harmony export */   o: () => (/* binding */ orderSelectedFields),\n/* harmony export */   p: () => (/* binding */ Column),\n/* harmony export */   q: () => (/* binding */ getTableName),\n/* harmony export */   r: () => (/* binding */ Subquery),\n/* harmony export */   s: () => (/* binding */ sql),\n/* harmony export */   t: () => (/* binding */ tracer),\n/* harmony export */   u: () => (/* binding */ SubqueryConfig),\n/* harmony export */   v: () => (/* binding */ View),\n/* harmony export */   w: () => (/* binding */ aliasedTableColumn),\n/* harmony export */   x: () => (/* binding */ getOperators),\n/* harmony export */   y: () => (/* binding */ mapColumnsInSQLToAlias),\n/* harmony export */   z: () => (/* binding */ mapColumnsInAliasedSQLToAlias)\n/* harmony export */ });\nconst entityKind = Symbol.for(\"drizzle:entityKind\");\nconst hasOwnEntityKind = Symbol.for(\"drizzle:hasOwnEntityKind\");\nfunction is(value, type) {\n    if (!value || typeof value !== \"object\") {\n        return false;\n    }\n    if (value instanceof type) {\n        return true;\n    }\n    if (!Object.prototype.hasOwnProperty.call(type, entityKind)) {\n        throw new Error(`Class \"${type.name ?? \"<unknown>\"}\" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);\n    }\n    let cls = value.constructor;\n    if (cls) {\n        // Traverse the prototype chain to find the entityKind\n        while(cls){\n            if (entityKind in cls && cls[entityKind] === type[entityKind]) {\n                return true;\n            }\n            cls = Object.getPrototypeOf(cls);\n        }\n    }\n    return false;\n}\n/*\n    `Column` only accepts a full `ColumnConfig` as its generic.\n    To infer parts of the config, use `AnyColumn` that accepts a partial config.\n    See `GetColumnData` for example usage of inferring.\n*/ class Column {\n    static{\n        this[entityKind] = \"Column\";\n    }\n    constructor(table, config){\n        this.enumValues = undefined;\n        this.table = table;\n        this.config = config;\n        this.name = config.name;\n        this.notNull = config.notNull;\n        this.default = config.default;\n        this.defaultFn = config.defaultFn;\n        this.hasDefault = config.hasDefault;\n        this.primary = config.primaryKey;\n        this.isUnique = config.isUnique;\n        this.uniqueName = config.uniqueName;\n        this.uniqueType = config.uniqueType;\n        this.dataType = config.dataType;\n        this.columnType = config.columnType;\n    }\n    mapFromDriverValue(value) {\n        return value;\n    }\n    mapToDriverValue(value) {\n        return value;\n    }\n}\nconst ViewBaseConfig = Symbol.for(\"drizzle:ViewBaseConfig\");\nclass View {\n    static{\n        this[entityKind] = \"View\";\n    }\n    constructor({ name, schema, selectedFields, query }){\n        this[ViewBaseConfig] = {\n            name,\n            originalName: name,\n            schema,\n            selectedFields,\n            query: query,\n            isExisting: !query,\n            isAlias: false\n        };\n    }\n    getSQL() {\n        return new SQL([\n            this\n        ]);\n    }\n}\nconst SubqueryConfig = Symbol.for(\"drizzle:SubqueryConfig\");\nclass Subquery {\n    static{\n        this[entityKind] = \"Subquery\";\n    }\n    constructor(sql, selection, alias, isWith = false){\n        this[SubqueryConfig] = {\n            sql,\n            selection,\n            alias,\n            isWith\n        };\n    }\n    getSQL() {\n        return new SQL([\n            this\n        ]);\n    }\n}\nclass WithSubquery extends Subquery {\n    static{\n        this[entityKind] = \"WithSubquery\";\n    }\n}\nclass SelectionProxyHandler {\n    static{\n        this[entityKind] = \"SelectionProxyHandler\";\n    }\n    constructor(config){\n        this.config = {\n            ...config\n        };\n    }\n    get(subquery, prop) {\n        if (prop === SubqueryConfig) {\n            return {\n                ...subquery[SubqueryConfig],\n                selection: new Proxy(subquery[SubqueryConfig].selection, this)\n            };\n        }\n        if (prop === ViewBaseConfig) {\n            return {\n                ...subquery[ViewBaseConfig],\n                selectedFields: new Proxy(subquery[ViewBaseConfig].selectedFields, this)\n            };\n        }\n        if (typeof prop === \"symbol\") {\n            return subquery[prop];\n        }\n        const columns = is(subquery, Subquery) ? subquery[SubqueryConfig].selection : is(subquery, View) ? subquery[ViewBaseConfig].selectedFields : subquery;\n        const value = columns[prop];\n        if (is(value, SQL.Aliased)) {\n            // Never return the underlying SQL expression for a field previously selected in a subquery\n            if (this.config.sqlAliasedBehavior === \"sql\" && !value.isSelectionField) {\n                return value.sql;\n            }\n            const newValue = value.clone();\n            newValue.isSelectionField = true;\n            return newValue;\n        }\n        if (is(value, SQL)) {\n            if (this.config.sqlBehavior === \"sql\") {\n                return value;\n            }\n            throw new Error(`You tried to reference \"${prop}\" field from a subquery, which is a raw SQL field, but it doesn't have an alias declared. Please add an alias to the field using \".as('alias')\" method.`);\n        }\n        if (is(value, Column)) {\n            if (this.config.alias) {\n                return new Proxy(value, new ColumnAliasProxyHandler(new Proxy(value.table, new TableAliasProxyHandler(this.config.alias, this.config.replaceOriginalName ?? false))));\n            }\n            return value;\n        }\n        if (typeof value !== \"object\" || value === null) {\n            return value;\n        }\n        return new Proxy(value, new SelectionProxyHandler(this.config));\n    }\n}\n/** @internal */ function mapResultRow(columns, row, joinsNotNullableMap) {\n    // Key -> nested object key, value -> table name if all fields in the nested object are from the same table, false otherwise\n    const nullifyMap = {};\n    const result = columns.reduce((result, { path, field }, columnIndex)=>{\n        let decoder;\n        if (is(field, Column)) {\n            decoder = field;\n        } else if (is(field, SQL)) {\n            decoder = field.decoder;\n        } else {\n            decoder = field.sql.decoder;\n        }\n        let node = result;\n        for (const [pathChunkIndex, pathChunk] of path.entries()){\n            if (pathChunkIndex < path.length - 1) {\n                if (!(pathChunk in node)) {\n                    node[pathChunk] = {};\n                }\n                node = node[pathChunk];\n            } else {\n                const rawValue = row[columnIndex];\n                const value = node[pathChunk] = rawValue === null ? null : decoder.mapFromDriverValue(rawValue);\n                if (joinsNotNullableMap && is(field, Column) && path.length === 2) {\n                    const objectName = path[0];\n                    if (!(objectName in nullifyMap)) {\n                        nullifyMap[objectName] = value === null ? getTableName(field.table) : false;\n                    } else if (typeof nullifyMap[objectName] === \"string\" && nullifyMap[objectName] !== getTableName(field.table)) {\n                        nullifyMap[objectName] = false;\n                    }\n                }\n            }\n        }\n        return result;\n    }, {});\n    // Nullify all nested objects from nullifyMap that are nullable\n    if (joinsNotNullableMap && Object.keys(nullifyMap).length > 0) {\n        for (const [objectName, tableName] of Object.entries(nullifyMap)){\n            if (typeof tableName === \"string\" && !joinsNotNullableMap[tableName]) {\n                result[objectName] = null;\n            }\n        }\n    }\n    return result;\n}\n/** @internal */ function orderSelectedFields(fields, pathPrefix) {\n    return Object.entries(fields).reduce((result, [name, field])=>{\n        if (typeof name !== \"string\") {\n            return result;\n        }\n        const newPath = pathPrefix ? [\n            ...pathPrefix,\n            name\n        ] : [\n            name\n        ];\n        if (is(field, Column) || is(field, SQL) || is(field, SQL.Aliased)) {\n            result.push({\n                path: newPath,\n                field\n            });\n        } else if (is(field, Table)) {\n            result.push(...orderSelectedFields(field[Table.Symbol.Columns], newPath));\n        } else {\n            result.push(...orderSelectedFields(field, newPath));\n        }\n        return result;\n    }, []);\n}\n/** @internal */ function mapUpdateSet(table, values) {\n    const entries = Object.entries(values).filter(([, value])=>value !== undefined).map(([key, value])=>{\n        // eslint-disable-next-line unicorn/prefer-ternary\n        if (is(value, SQL)) {\n            return [\n                key,\n                value\n            ];\n        } else {\n            return [\n                key,\n                new Param(value, table[Table.Symbol.Columns][key])\n            ];\n        }\n    });\n    if (entries.length === 0) {\n        throw new Error(\"No values to set\");\n    }\n    return Object.fromEntries(entries);\n}\n/** @internal */ function applyMixins(baseClass, extendedClasses) {\n    for (const extendedClass of extendedClasses){\n        for (const name of Object.getOwnPropertyNames(extendedClass.prototype)){\n            Object.defineProperty(baseClass.prototype, name, Object.getOwnPropertyDescriptor(extendedClass.prototype, name) || Object.create(null));\n        }\n    }\n}\nfunction getTableColumns(table) {\n    return table[Table.Symbol.Columns];\n}\n/** @internal */ function getTableLikeName(table) {\n    return is(table, Subquery) ? table[SubqueryConfig].alias : is(table, View) ? table[ViewBaseConfig].name : is(table, SQL) ? undefined : table[Table.Symbol.IsAlias] ? table[Table.Symbol.Name] : table[Table.Symbol.BaseName];\n}\nfunction iife(fn, ...args) {\n    return fn(...args);\n}\n/** @internal */ const TableName = Symbol.for(\"drizzle:Name\");\n/** @internal */ const Schema = Symbol.for(\"drizzle:Schema\");\n/** @internal */ const Columns = Symbol.for(\"drizzle:Columns\");\n/** @internal */ const OriginalName = Symbol.for(\"drizzle:OriginalName\");\n/** @internal */ const BaseName = Symbol.for(\"drizzle:BaseName\");\n/** @internal */ const IsAlias = Symbol.for(\"drizzle:IsAlias\");\n/** @internal */ const ExtraConfigBuilder = Symbol.for(\"drizzle:ExtraConfigBuilder\");\nconst IsDrizzleTable = Symbol.for(\"drizzle:IsDrizzleTable\");\nclass Table {\n    static{\n        this[entityKind] = \"Table\";\n    }\n    static{\n        /** @internal */ this.Symbol = {\n            Name: TableName,\n            Schema: Schema,\n            OriginalName: OriginalName,\n            Columns: Columns,\n            BaseName: BaseName,\n            IsAlias: IsAlias,\n            ExtraConfigBuilder: ExtraConfigBuilder\n        };\n    }\n    constructor(name, schema, baseName){\n        /** @internal */ this[IsAlias] = false;\n        /** @internal */ this[ExtraConfigBuilder] = undefined;\n        this[IsDrizzleTable] = true;\n        this[TableName] = this[OriginalName] = name;\n        this[Schema] = schema;\n        this[BaseName] = baseName;\n    }\n    getSQL() {\n        return new SQL([\n            this\n        ]);\n    }\n}\nfunction isTable(table) {\n    return typeof table === \"object\" && table !== null && IsDrizzleTable in table;\n}\nfunction getTableName(table) {\n    return table[TableName];\n}\nlet prop;\nclass QueryPromise {\n    static{\n        prop = Symbol.toStringTag;\n    }\n    static{\n        this[entityKind] = \"QueryPromise\";\n    }\n    catch(onRejected) {\n        return this.then(undefined, onRejected);\n    }\n    finally(onFinally) {\n        return this.then((value)=>{\n            onFinally?.();\n            return value;\n        }, (reason)=>{\n            onFinally?.();\n            throw reason;\n        });\n    }\n    then(onFulfilled, onRejected) {\n        return this.execute().then(onFulfilled, onRejected);\n    }\n    constructor(){\n        this[prop] = \"QueryPromise\";\n    }\n}\n/** @internal */ const tracer = {\n    startActiveSpan (name, fn) {\n        {\n            return fn();\n        }\n    }\n};\nclass DrizzleError extends Error {\n    static{\n        this[entityKind] = \"DrizzleError\";\n    }\n    constructor(message){\n        super(message);\n        this.name = \"DrizzleError\";\n    }\n    static wrap(error, message) {\n        return error instanceof Error // eslint-disable-line no-instanceof/no-instanceof\n         ? new DrizzleError(message ? `${message}: ${error.message}` : error.message) : new DrizzleError(message ?? String(error));\n    }\n}\nclass TransactionRollbackError extends DrizzleError {\n    static{\n        this[entityKind] = \"TransactionRollbackError\";\n    }\n    constructor(){\n        super(\"Rollback\");\n    }\n}\n/** @internal */ const InlineForeignKeys = Symbol.for(\"drizzle:PgInlineForeignKeys\");\nlet prop1;\nclass PgTable extends Table {\n    static{\n        prop1 = Table.Symbol.ExtraConfigBuilder;\n    }\n    static{\n        this[entityKind] = \"PgTable\";\n    }\n    static{\n        /** @internal */ this.Symbol = Object.assign({}, Table.Symbol, {\n            InlineForeignKeys: InlineForeignKeys\n        });\n    }\n    constructor(...args){\n        super(...args);\n        /**@internal */ this[InlineForeignKeys] = [];\n        /** @internal */ this[prop1] = undefined;\n    }\n}\n/** @internal */ function pgTableWithSchema(name, columns, extraConfig, schema, baseName = name) {\n    const rawTable = new PgTable(name, schema, baseName);\n    const builtColumns = Object.fromEntries(Object.entries(columns).map(([name, colBuilderBase])=>{\n        const colBuilder = colBuilderBase;\n        const column = colBuilder.build(rawTable);\n        rawTable[InlineForeignKeys].push(...colBuilder.buildForeignKeys(column, rawTable));\n        return [\n            name,\n            column\n        ];\n    }));\n    const table = Object.assign(rawTable, builtColumns);\n    table[Table.Symbol.Columns] = builtColumns;\n    if (extraConfig) {\n        table[PgTable.Symbol.ExtraConfigBuilder] = extraConfig;\n    }\n    return table;\n}\nconst pgTable = (name, columns, extraConfig)=>{\n    return pgTableWithSchema(name, columns, extraConfig, undefined);\n};\nfunction pgTableCreator(customizeTableName) {\n    return (name, columns, extraConfig)=>{\n        return pgTableWithSchema(customizeTableName(name), columns, extraConfig, undefined, name);\n    };\n}\nclass CheckBuilder {\n    static{\n        this[entityKind] = \"PgCheckBuilder\";\n    }\n    constructor(name, value){\n        this.name = name;\n        this.value = value;\n    }\n    /** @internal */ build(table) {\n        return new Check(table, this);\n    }\n}\nclass Check {\n    static{\n        this[entityKind] = \"PgCheck\";\n    }\n    constructor(table, builder){\n        this.table = table;\n        this.name = builder.name;\n        this.value = builder.value;\n    }\n}\nfunction check(name, value) {\n    return new CheckBuilder(name, value);\n}\nclass ForeignKeyBuilder {\n    static{\n        this[entityKind] = \"PgForeignKeyBuilder\";\n    }\n    constructor(config, actions){\n        /** @internal */ this._onUpdate = \"no action\";\n        /** @internal */ this._onDelete = \"no action\";\n        this.reference = ()=>{\n            const { columns, foreignColumns } = config();\n            return {\n                columns,\n                foreignTable: foreignColumns[0].table,\n                foreignColumns\n            };\n        };\n        if (actions) {\n            this._onUpdate = actions.onUpdate;\n            this._onDelete = actions.onDelete;\n        }\n    }\n    onUpdate(action) {\n        this._onUpdate = action === undefined ? \"no action\" : action;\n        return this;\n    }\n    onDelete(action) {\n        this._onDelete = action === undefined ? \"no action\" : action;\n        return this;\n    }\n    /** @internal */ build(table) {\n        return new ForeignKey(table, this);\n    }\n}\nclass ForeignKey {\n    static{\n        this[entityKind] = \"PgForeignKey\";\n    }\n    constructor(table, builder){\n        this.table = table;\n        this.reference = builder.reference;\n        this.onUpdate = builder._onUpdate;\n        this.onDelete = builder._onDelete;\n    }\n    getName() {\n        const { columns, foreignColumns } = this.reference();\n        const columnNames = columns.map((column)=>column.name);\n        const foreignColumnNames = foreignColumns.map((column)=>column.name);\n        const chunks = [\n            this.table[PgTable.Symbol.Name],\n            ...columnNames,\n            foreignColumns[0].table[PgTable.Symbol.Name],\n            ...foreignColumnNames\n        ];\n        return `${chunks.join(\"_\")}_fk`;\n    }\n}\nfunction foreignKey(config) {\n    function mappedConfig() {\n        const { columns, foreignColumns } = config;\n        return {\n            columns,\n            foreignColumns\n        };\n    }\n    return new ForeignKeyBuilder(mappedConfig);\n}\nclass IndexBuilderOn {\n    static{\n        this[entityKind] = \"PgIndexBuilderOn\";\n    }\n    constructor(unique, name){\n        this.unique = unique;\n        this.name = name;\n    }\n    on(...columns) {\n        return new IndexBuilder(columns, this.unique, false, this.name);\n    }\n    onOnly(...columns) {\n        return new IndexBuilder(columns, this.unique, true, this.name);\n    }\n}\nclass IndexBuilder {\n    static{\n        this[entityKind] = \"PgIndexBuilder\";\n    }\n    constructor(columns, unique, only, name){\n        this.config = {\n            name,\n            columns,\n            unique,\n            only\n        };\n    }\n    concurrently() {\n        this.config.concurrently = true;\n        return this;\n    }\n    using(method) {\n        this.config.using = method;\n        return this;\n    }\n    asc() {\n        this.config.order = \"asc\";\n        return this;\n    }\n    desc() {\n        this.config.order = \"desc\";\n        return this;\n    }\n    nullsFirst() {\n        this.config.nulls = \"first\";\n        return this;\n    }\n    nullsLast() {\n        this.config.nulls = \"last\";\n        return this;\n    }\n    where(condition) {\n        this.config.where = condition;\n        return this;\n    }\n    /** @internal */ build(table) {\n        return new Index(this.config, table);\n    }\n}\nclass Index {\n    static{\n        this[entityKind] = \"PgIndex\";\n    }\n    constructor(config, table){\n        this.config = {\n            ...config,\n            table\n        };\n    }\n}\nfunction index(name) {\n    return new IndexBuilderOn(false, name);\n}\nfunction uniqueIndex(name) {\n    return new IndexBuilderOn(true, name);\n}\nfunction primaryKey(...columns) {\n    return new PrimaryKeyBuilder(columns);\n}\nclass PrimaryKeyBuilder {\n    static{\n        this[entityKind] = \"PgPrimaryKeyBuilder\";\n    }\n    constructor(columns){\n        this.columns = columns;\n    }\n    /** @internal */ build(table) {\n        return new PrimaryKey(table, this.columns);\n    }\n}\nclass PrimaryKey {\n    static{\n        this[entityKind] = \"PgPrimaryKey\";\n    }\n    constructor(table, columns){\n        this.table = table;\n        this.columns = columns;\n    }\n    getName() {\n        return `${this.table[PgTable.Symbol.Name]}_${this.columns.map((column)=>column.name).join(\"_\")}_pk`;\n    }\n}\nfunction unique(name) {\n    return new UniqueOnConstraintBuilder(name);\n}\nfunction uniqueKeyName(table, columns) {\n    return `${table[PgTable.Symbol.Name]}_${columns.join(\"_\")}_unique`;\n}\nclass UniqueConstraintBuilder {\n    static{\n        this[entityKind] = \"PgUniqueConstraintBuilder\";\n    }\n    constructor(columns, name){\n        /** @internal */ this.nullsNotDistinctConfig = false;\n        this.name = name;\n        this.columns = columns;\n    }\n    nullsNotDistinct() {\n        this.nullsNotDistinctConfig = true;\n        return this;\n    }\n    /** @internal */ build(table) {\n        return new UniqueConstraint(table, this.columns, this.nullsNotDistinctConfig, this.name);\n    }\n}\nclass UniqueOnConstraintBuilder {\n    static{\n        this[entityKind] = \"PgUniqueOnConstraintBuilder\";\n    }\n    constructor(name){\n        this.name = name;\n    }\n    on(...columns) {\n        return new UniqueConstraintBuilder(columns, this.name);\n    }\n}\nclass UniqueConstraint {\n    static{\n        this[entityKind] = \"PgUniqueConstraint\";\n    }\n    constructor(table, columns, nullsNotDistinct, name){\n        this.nullsNotDistinct = false;\n        this.table = table;\n        this.columns = columns;\n        this.name = name ?? uniqueKeyName(this.table, this.columns.map((column)=>column.name));\n        this.nullsNotDistinct = nullsNotDistinct;\n    }\n    getName() {\n        return this.name;\n    }\n}\nfunction getTableConfig(table) {\n    const columns = Object.values(table[Table.Symbol.Columns]);\n    const indexes = [];\n    const checks = [];\n    const primaryKeys = [];\n    const foreignKeys = Object.values(table[PgTable.Symbol.InlineForeignKeys]);\n    const uniqueConstraints = [];\n    const name = table[Table.Symbol.Name];\n    const schema = table[Table.Symbol.Schema];\n    const extraConfigBuilder = table[PgTable.Symbol.ExtraConfigBuilder];\n    if (extraConfigBuilder !== undefined) {\n        const extraConfig = extraConfigBuilder(table[Table.Symbol.Columns]);\n        for (const builder of Object.values(extraConfig)){\n            if (is(builder, IndexBuilder)) {\n                indexes.push(builder.build(table));\n            } else if (is(builder, CheckBuilder)) {\n                checks.push(builder.build(table));\n            } else if (is(builder, UniqueConstraintBuilder)) {\n                uniqueConstraints.push(builder.build(table));\n            } else if (is(builder, PrimaryKeyBuilder)) {\n                primaryKeys.push(builder.build(table));\n            } else if (is(builder, ForeignKeyBuilder)) {\n                foreignKeys.push(builder.build(table));\n            }\n        }\n    }\n    return {\n        columns,\n        indexes,\n        foreignKeys,\n        checks,\n        primaryKeys,\n        uniqueConstraints,\n        name,\n        schema\n    };\n}\nfunction getViewConfig(view) {\n    return {\n        ...view[ViewBaseConfig],\n        ...view[PgViewConfig]\n    };\n}\nfunction getMaterializedViewConfig(view) {\n    return {\n        ...view[ViewBaseConfig],\n        ...view[PgMaterializedViewConfig]\n    };\n}\nfunction parsePgArrayValue(arrayString, startFrom, inQuotes) {\n    for(let i = startFrom; i < arrayString.length; i++){\n        const char = arrayString[i];\n        if (char === \"\\\\\") {\n            i++;\n            continue;\n        }\n        if (char === '\"') {\n            return [\n                arrayString.slice(startFrom, i).replace(/\\\\/g, \"\"),\n                i + 1\n            ];\n        }\n        if (inQuotes) {\n            continue;\n        }\n        if (char === \",\" || char === \"}\") {\n            return [\n                arrayString.slice(startFrom, i).replace(/\\\\/g, \"\"),\n                i\n            ];\n        }\n    }\n    return [\n        arrayString.slice(startFrom).replace(/\\\\/g, \"\"),\n        arrayString.length\n    ];\n}\nfunction parsePgNestedArray(arrayString, startFrom = 0) {\n    const result = [];\n    let i = startFrom;\n    let lastCharIsComma = false;\n    while(i < arrayString.length){\n        const char = arrayString[i];\n        if (char === \",\") {\n            if (lastCharIsComma || i === startFrom) {\n                result.push(\"\");\n            }\n            lastCharIsComma = true;\n            i++;\n            continue;\n        }\n        lastCharIsComma = false;\n        if (char === \"\\\\\") {\n            i += 2;\n            continue;\n        }\n        if (char === '\"') {\n            const [value, startFrom] = parsePgArrayValue(arrayString, i + 1, true);\n            result.push(value);\n            i = startFrom;\n            continue;\n        }\n        if (char === \"}\") {\n            return [\n                result,\n                i + 1\n            ];\n        }\n        if (char === \"{\") {\n            const [value, startFrom] = parsePgNestedArray(arrayString, i + 1);\n            result.push(value);\n            i = startFrom;\n            continue;\n        }\n        const [value, newStartFrom] = parsePgArrayValue(arrayString, i, false);\n        result.push(value);\n        i = newStartFrom;\n    }\n    return [\n        result,\n        i\n    ];\n}\nfunction parsePgArray(arrayString) {\n    const [result] = parsePgNestedArray(arrayString, 1);\n    return result;\n}\nfunction makePgArray(array) {\n    return `{${array.map((item)=>{\n        if (Array.isArray(item)) {\n            return makePgArray(item);\n        }\n        if (typeof item === \"string\" && item.includes(\",\")) {\n            return `\"${item.replace(/\"/g, '\\\\\"')}\"`;\n        }\n        return `${item}`;\n    }).join(\",\")}}`;\n}\n// To understand how to use `ColumnBuilder` and `AnyColumnBuilder`, see `Column` and `AnyColumn` documentation.\nclass ColumnBuilder {\n    static{\n        this[entityKind] = \"ColumnBuilder\";\n    }\n    constructor(name, dataType, columnType){\n        /**\n     * Alias for {@link $defaultFn}.\n     */ this.$default = this.$defaultFn;\n        this.config = {\n            name,\n            notNull: false,\n            default: undefined,\n            hasDefault: false,\n            primaryKey: false,\n            isUnique: false,\n            uniqueName: undefined,\n            uniqueType: undefined,\n            dataType,\n            columnType\n        };\n    }\n    /**\n     * Changes the data type of the column. Commonly used with `json` columns. Also, useful for branded types.\n     *\n     * @example\n     * ```ts\n     * const users = pgTable('users', {\n     * \tid: integer('id').$type<UserId>().primaryKey(),\n     * \tdetails: json('details').$type<UserDetails>().notNull(),\n     * });\n     * ```\n     */ $type() {\n        return this;\n    }\n    /**\n     * Adds a `not null` clause to the column definition.\n     *\n     * Affects the `select` model of the table - columns *without* `not null` will be nullable on select.\n     */ notNull() {\n        this.config.notNull = true;\n        return this;\n    }\n    /**\n     * Adds a `default <value>` clause to the column definition.\n     *\n     * Affects the `insert` model of the table - columns *with* `default` are optional on insert.\n     *\n     * If you need to set a dynamic default value, use {@link $defaultFn} instead.\n     */ default(value) {\n        this.config.default = value;\n        this.config.hasDefault = true;\n        return this;\n    }\n    /**\n     * Adds a dynamic default value to the column.\n     * The function will be called when the row is inserted, and the returned value will be used as the column value.\n     *\n     * **Note:** This value does not affect the `drizzle-kit` behavior, it is only used at runtime in `drizzle-orm`.\n     */ $defaultFn(fn) {\n        this.config.defaultFn = fn;\n        this.config.hasDefault = true;\n        return this;\n    }\n    /**\n     * Adds a `primary key` clause to the column definition. This implicitly makes the column `not null`.\n     *\n     * In SQLite, `integer primary key` implicitly makes the column auto-incrementing.\n     */ primaryKey() {\n        this.config.primaryKey = true;\n        this.config.notNull = true;\n        return this;\n    }\n}\nclass PgColumnBuilder extends ColumnBuilder {\n    static{\n        this[entityKind] = \"PgColumnBuilder\";\n    }\n    array(size) {\n        return new PgArrayBuilder(this.config.name, this, size);\n    }\n    references(ref, actions = {}) {\n        this.foreignKeyConfigs.push({\n            ref,\n            actions\n        });\n        return this;\n    }\n    unique(name, config) {\n        this.config.isUnique = true;\n        this.config.uniqueName = name;\n        this.config.uniqueType = config?.nulls;\n        return this;\n    }\n    /** @internal */ buildForeignKeys(column, table) {\n        return this.foreignKeyConfigs.map(({ ref, actions })=>{\n            return iife((ref, actions)=>{\n                const builder = new ForeignKeyBuilder(()=>{\n                    const foreignColumn = ref();\n                    return {\n                        columns: [\n                            column\n                        ],\n                        foreignColumns: [\n                            foreignColumn\n                        ]\n                    };\n                });\n                if (actions.onUpdate) {\n                    builder.onUpdate(actions.onUpdate);\n                }\n                if (actions.onDelete) {\n                    builder.onDelete(actions.onDelete);\n                }\n                return builder.build(table);\n            }, ref, actions);\n        });\n    }\n    constructor(...args){\n        super(...args);\n        this.foreignKeyConfigs = [];\n    }\n}\n// To understand how to use `PgColumn` and `PgColumn`, see `Column` and `AnyColumn` documentation.\nclass PgColumn extends Column {\n    static{\n        this[entityKind] = \"PgColumn\";\n    }\n    constructor(table, config){\n        if (!config.uniqueName) {\n            config.uniqueName = uniqueKeyName(table, [\n                config.name\n            ]);\n        }\n        super(table, config);\n        this.table = table;\n    }\n}\nclass PgArrayBuilder extends PgColumnBuilder {\n    static{\n        this[entityKind] = \"PgArrayBuilder\";\n    }\n    constructor(name, baseBuilder, size){\n        super(name, \"array\", \"PgArray\");\n        this.config.baseBuilder = baseBuilder;\n        this.config.size = size;\n    }\n    /** @internal */ build(table) {\n        const baseColumn = this.config.baseBuilder.build(table);\n        return new PgArray(table, this.config, baseColumn);\n    }\n}\nclass PgArray extends PgColumn {\n    static{\n        this[entityKind] = \"PgArray\";\n    }\n    constructor(table, config, baseColumn, range){\n        super(table, config);\n        this.baseColumn = baseColumn;\n        this.range = range;\n        this.size = config.size;\n    }\n    getSQLType() {\n        return `${this.baseColumn.getSQLType()}[${typeof this.size === \"number\" ? this.size : \"\"}]`;\n    }\n    mapFromDriverValue(value) {\n        if (typeof value === \"string\") {\n            // Thank you node-postgres for not parsing enum arrays\n            value = parsePgArray(value);\n        }\n        return value.map((v)=>this.baseColumn.mapFromDriverValue(v));\n    }\n    mapToDriverValue(value, isNestedArray = false) {\n        const a = value.map((v)=>v === null ? null : is(this.baseColumn, PgArray) ? this.baseColumn.mapToDriverValue(v, true) : this.baseColumn.mapToDriverValue(v));\n        if (isNestedArray) return a;\n        return makePgArray(a);\n    }\n}\nclass PgDateColumnBaseBuilder extends PgColumnBuilder {\n    static{\n        this[entityKind] = \"PgDateColumnBaseBuilder\";\n    }\n    defaultNow() {\n        return this.default(sql`now()`);\n    }\n}\nclass PgDateBuilder extends PgDateColumnBaseBuilder {\n    static{\n        this[entityKind] = \"PgDateBuilder\";\n    }\n    constructor(name){\n        super(name, \"date\", \"PgDate\");\n    }\n    /** @internal */ build(table) {\n        return new PgDate(table, this.config);\n    }\n}\nclass PgDate extends PgColumn {\n    static{\n        this[entityKind] = \"PgDate\";\n    }\n    getSQLType() {\n        return \"date\";\n    }\n    mapFromDriverValue(value) {\n        return new Date(value);\n    }\n    mapToDriverValue(value) {\n        return value.toISOString();\n    }\n}\nclass PgDateStringBuilder extends PgDateColumnBaseBuilder {\n    static{\n        this[entityKind] = \"PgDateStringBuilder\";\n    }\n    constructor(name){\n        super(name, \"string\", \"PgDateString\");\n    }\n    /** @internal */ build(table) {\n        return new PgDateString(table, this.config);\n    }\n}\nclass PgDateString extends PgColumn {\n    static{\n        this[entityKind] = \"PgDateString\";\n    }\n    getSQLType() {\n        return \"date\";\n    }\n}\nfunction date(name, config) {\n    if (config?.mode === \"date\") {\n        return new PgDateBuilder(name);\n    }\n    return new PgDateStringBuilder(name);\n}\nclass PgJsonBuilder extends PgColumnBuilder {\n    static{\n        this[entityKind] = \"PgJsonBuilder\";\n    }\n    constructor(name){\n        super(name, \"json\", \"PgJson\");\n    }\n    /** @internal */ build(table) {\n        return new PgJson(table, this.config);\n    }\n}\nclass PgJson extends PgColumn {\n    static{\n        this[entityKind] = \"PgJson\";\n    }\n    constructor(table, config){\n        super(table, config);\n    }\n    getSQLType() {\n        return \"json\";\n    }\n    mapToDriverValue(value) {\n        return JSON.stringify(value);\n    }\n    mapFromDriverValue(value) {\n        if (typeof value === \"string\") {\n            try {\n                return JSON.parse(value);\n            } catch  {\n                return value;\n            }\n        }\n        return value;\n    }\n}\nfunction json(name) {\n    return new PgJsonBuilder(name);\n}\nclass PgJsonbBuilder extends PgColumnBuilder {\n    static{\n        this[entityKind] = \"PgJsonbBuilder\";\n    }\n    constructor(name){\n        super(name, \"json\", \"PgJsonb\");\n    }\n    /** @internal */ build(table) {\n        return new PgJsonb(table, this.config);\n    }\n}\nclass PgJsonb extends PgColumn {\n    static{\n        this[entityKind] = \"PgJsonb\";\n    }\n    constructor(table, config){\n        super(table, config);\n    }\n    getSQLType() {\n        return \"jsonb\";\n    }\n    mapToDriverValue(value) {\n        return JSON.stringify(value);\n    }\n    mapFromDriverValue(value) {\n        if (typeof value === \"string\") {\n            try {\n                return JSON.parse(value);\n            } catch  {\n                return value;\n            }\n        }\n        return value;\n    }\n}\nfunction jsonb(name) {\n    return new PgJsonbBuilder(name);\n}\nclass PgNumericBuilder extends PgColumnBuilder {\n    static{\n        this[entityKind] = \"PgNumericBuilder\";\n    }\n    constructor(name, precision, scale){\n        super(name, \"string\", \"PgNumeric\");\n        this.config.precision = precision;\n        this.config.scale = scale;\n    }\n    /** @internal */ build(table) {\n        return new PgNumeric(table, this.config);\n    }\n}\nclass PgNumeric extends PgColumn {\n    static{\n        this[entityKind] = \"PgNumeric\";\n    }\n    constructor(table, config){\n        super(table, config);\n        this.precision = config.precision;\n        this.scale = config.scale;\n    }\n    getSQLType() {\n        if (this.precision !== undefined && this.scale !== undefined) {\n            return `numeric(${this.precision}, ${this.scale})`;\n        } else if (this.precision === undefined) {\n            return \"numeric\";\n        } else {\n            return `numeric(${this.precision})`;\n        }\n    }\n}\nfunction numeric(name, config) {\n    return new PgNumericBuilder(name, config?.precision, config?.scale);\n}\nconst decimal = numeric;\nclass PgTimeBuilder extends PgDateColumnBaseBuilder {\n    static{\n        this[entityKind] = \"PgTimeBuilder\";\n    }\n    constructor(name, withTimezone, precision){\n        super(name, \"string\", \"PgTime\");\n        this.withTimezone = withTimezone;\n        this.precision = precision;\n        this.config.withTimezone = withTimezone;\n        this.config.precision = precision;\n    }\n    /** @internal */ build(table) {\n        return new PgTime(table, this.config);\n    }\n}\nclass PgTime extends PgColumn {\n    static{\n        this[entityKind] = \"PgTime\";\n    }\n    constructor(table, config){\n        super(table, config);\n        this.withTimezone = config.withTimezone;\n        this.precision = config.precision;\n    }\n    getSQLType() {\n        const precision = this.precision === undefined ? \"\" : `(${this.precision})`;\n        return `time${precision}${this.withTimezone ? \" with time zone\" : \"\"}`;\n    }\n}\nfunction time(name, config = {}) {\n    return new PgTimeBuilder(name, config.withTimezone ?? false, config.precision);\n}\nclass PgTimestampBuilder extends PgDateColumnBaseBuilder {\n    static{\n        this[entityKind] = \"PgTimestampBuilder\";\n    }\n    constructor(name, withTimezone, precision){\n        super(name, \"date\", \"PgTimestamp\");\n        this.config.withTimezone = withTimezone;\n        this.config.precision = precision;\n    }\n    /** @internal */ build(table) {\n        return new PgTimestamp(table, this.config);\n    }\n}\nclass PgTimestamp extends PgColumn {\n    static{\n        this[entityKind] = \"PgTimestamp\";\n    }\n    constructor(table, config){\n        super(table, config);\n        this.mapFromDriverValue = (value)=>{\n            return new Date(this.withTimezone ? value : value + \"+0000\");\n        };\n        this.mapToDriverValue = (value)=>{\n            return this.withTimezone ? value.toUTCString() : value.toISOString();\n        };\n        this.withTimezone = config.withTimezone;\n        this.precision = config.precision;\n    }\n    getSQLType() {\n        const precision = this.precision === undefined ? \"\" : ` (${this.precision})`;\n        return `timestamp${precision}${this.withTimezone ? \" with time zone\" : \"\"}`;\n    }\n}\nclass PgTimestampStringBuilder extends PgDateColumnBaseBuilder {\n    static{\n        this[entityKind] = \"PgTimestampStringBuilder\";\n    }\n    constructor(name, withTimezone, precision){\n        super(name, \"string\", \"PgTimestampString\");\n        this.config.withTimezone = withTimezone;\n        this.config.precision = precision;\n    }\n    /** @internal */ build(table) {\n        return new PgTimestampString(table, this.config);\n    }\n}\nclass PgTimestampString extends PgColumn {\n    static{\n        this[entityKind] = \"PgTimestampString\";\n    }\n    constructor(table, config){\n        super(table, config);\n        this.withTimezone = config.withTimezone;\n        this.precision = config.precision;\n    }\n    getSQLType() {\n        const precision = this.precision === undefined ? \"\" : `(${this.precision})`;\n        return `timestamp${precision}${this.withTimezone ? \" with time zone\" : \"\"}`;\n    }\n}\nfunction timestamp(name, config = {}) {\n    if (config.mode === \"string\") {\n        return new PgTimestampStringBuilder(name, config.withTimezone ?? false, config.precision);\n    }\n    return new PgTimestampBuilder(name, config.withTimezone ?? false, config.precision);\n}\nclass PgUUIDBuilder extends PgColumnBuilder {\n    static{\n        this[entityKind] = \"PgUUIDBuilder\";\n    }\n    constructor(name){\n        super(name, \"string\", \"PgUUID\");\n    }\n    /**\n     * Adds `default gen_random_uuid()` to the column definition.\n     */ defaultRandom() {\n        return this.default(sql`gen_random_uuid()`);\n    }\n    /** @internal */ build(table) {\n        return new PgUUID(table, this.config);\n    }\n}\nclass PgUUID extends PgColumn {\n    static{\n        this[entityKind] = \"PgUUID\";\n    }\n    getSQLType() {\n        return \"uuid\";\n    }\n}\nfunction uuid(name) {\n    return new PgUUIDBuilder(name);\n}\nclass PgDialect {\n    static{\n        this[entityKind] = \"PgDialect\";\n    }\n    async migrate(migrations, session) {\n        const migrationTableCreate = sql`\n\t\t\tCREATE TABLE IF NOT EXISTS \"drizzle\".\"__drizzle_migrations\" (\n\t\t\t\tid SERIAL PRIMARY KEY,\n\t\t\t\thash text NOT NULL,\n\t\t\t\tcreated_at bigint\n\t\t\t)\n\t\t`;\n        await session.execute(sql`CREATE SCHEMA IF NOT EXISTS \"drizzle\"`);\n        await session.execute(migrationTableCreate);\n        const dbMigrations = await session.all(sql`select id, hash, created_at from \"drizzle\".\"__drizzle_migrations\" order by created_at desc limit 1`);\n        const lastDbMigration = dbMigrations[0];\n        await session.transaction(async (tx)=>{\n            for await (const migration of migrations){\n                if (!lastDbMigration || Number(lastDbMigration.created_at) < migration.folderMillis) {\n                    for (const stmt of migration.sql){\n                        await tx.execute(sql.raw(stmt));\n                    }\n                    await tx.execute(sql`insert into \"drizzle\".\"__drizzle_migrations\" (\"hash\", \"created_at\") values(${migration.hash}, ${migration.folderMillis})`);\n                }\n            }\n        });\n    }\n    escapeName(name) {\n        return `\"${name}\"`;\n    }\n    escapeParam(num) {\n        return `$${num + 1}`;\n    }\n    escapeString(str) {\n        return `'${str.replace(/'/g, \"''\")}'`;\n    }\n    buildDeleteQuery({ table, where, returning }) {\n        const returningSql = returning ? sql` returning ${this.buildSelection(returning, {\n            isSingleTable: true\n        })}` : undefined;\n        const whereSql = where ? sql` where ${where}` : undefined;\n        return sql`delete from ${table}${whereSql}${returningSql}`;\n    }\n    buildUpdateSet(table, set) {\n        const setEntries = Object.entries(set);\n        const setSize = setEntries.length;\n        return sql.join(setEntries.flatMap(([colName, value], i)=>{\n            const col = table[Table.Symbol.Columns][colName];\n            const res = sql`${sql.identifier(col.name)} = ${value}`;\n            if (i < setSize - 1) {\n                return [\n                    res,\n                    sql.raw(\", \")\n                ];\n            }\n            return [\n                res\n            ];\n        }));\n    }\n    buildUpdateQuery({ table, set, where, returning }) {\n        const setSql = this.buildUpdateSet(table, set);\n        const returningSql = returning ? sql` returning ${this.buildSelection(returning, {\n            isSingleTable: true\n        })}` : undefined;\n        const whereSql = where ? sql` where ${where}` : undefined;\n        return sql`update ${table} set ${setSql}${whereSql}${returningSql}`;\n    }\n    /**\n     * Builds selection SQL with provided fields/expressions\n     *\n     * Examples:\n     *\n     * `select <selection> from`\n     *\n     * `insert ... returning <selection>`\n     *\n     * If `isSingleTable` is true, then columns won't be prefixed with table name\n     */ buildSelection(fields, { isSingleTable = false } = {}) {\n        const columnsLen = fields.length;\n        const chunks = fields.flatMap(({ field }, i)=>{\n            const chunk = [];\n            if (is(field, SQL.Aliased) && field.isSelectionField) {\n                chunk.push(sql.identifier(field.fieldAlias));\n            } else if (is(field, SQL.Aliased) || is(field, SQL)) {\n                const query = is(field, SQL.Aliased) ? field.sql : field;\n                if (isSingleTable) {\n                    chunk.push(new SQL(query.queryChunks.map((c)=>{\n                        if (is(c, PgColumn)) {\n                            return sql.identifier(c.name);\n                        }\n                        return c;\n                    })));\n                } else {\n                    chunk.push(query);\n                }\n                if (is(field, SQL.Aliased)) {\n                    chunk.push(sql` as ${sql.identifier(field.fieldAlias)}`);\n                }\n            } else if (is(field, Column)) {\n                if (isSingleTable) {\n                    chunk.push(sql.identifier(field.name));\n                } else {\n                    chunk.push(field);\n                }\n            }\n            if (i < columnsLen - 1) {\n                chunk.push(sql`, `);\n            }\n            return chunk;\n        });\n        return sql.join(chunks);\n    }\n    buildSelectQuery({ withList, fields, fieldsFlat, where, having, table, joins, orderBy, groupBy, limit, offset, lockingClauses, distinct }) {\n        const fieldsList = fieldsFlat ?? orderSelectedFields(fields);\n        for (const f of fieldsList){\n            if (is(f.field, Column) && getTableName(f.field.table) !== (is(table, Subquery) ? table[SubqueryConfig].alias : is(table, PgViewBase) ? table[ViewBaseConfig].name : is(table, SQL) ? undefined : getTableName(table)) && !((table)=>joins?.some(({ alias })=>alias === (table[Table.Symbol.IsAlias] ? getTableName(table) : table[Table.Symbol.BaseName])))(f.field.table)) {\n                const tableName = getTableName(f.field.table);\n                throw new Error(`Your \"${f.path.join(\"->\")}\" field references a column \"${tableName}\".\"${f.field.name}\", but the table \"${tableName}\" is not part of the query! Did you forget to join it?`);\n            }\n        }\n        const isSingleTable = !joins || joins.length === 0;\n        let withSql;\n        if (withList?.length) {\n            const withSqlChunks = [\n                sql`with `\n            ];\n            for (const [i, w] of withList.entries()){\n                withSqlChunks.push(sql`${sql.identifier(w[SubqueryConfig].alias)} as (${w[SubqueryConfig].sql})`);\n                if (i < withList.length - 1) {\n                    withSqlChunks.push(sql`, `);\n                }\n            }\n            withSqlChunks.push(sql` `);\n            withSql = sql.join(withSqlChunks);\n        }\n        let distinctSql;\n        if (distinct) {\n            distinctSql = distinct === true ? sql` distinct` : sql` distinct on (${sql.join(distinct.on, \", \")})`;\n        }\n        const selection = this.buildSelection(fieldsList, {\n            isSingleTable\n        });\n        const tableSql = (()=>{\n            if (is(table, Table) && table[Table.Symbol.OriginalName] !== table[Table.Symbol.Name]) {\n                let fullName = sql`${sql.identifier(table[Table.Symbol.OriginalName])}`;\n                if (table[Table.Symbol.Schema]) {\n                    fullName = sql`${sql.identifier(table[Table.Symbol.Schema])}.${fullName}`;\n                }\n                return sql`${fullName} ${sql.identifier(table[Table.Symbol.Name])}`;\n            }\n            return table;\n        })();\n        const joinsArray = [];\n        if (joins) {\n            for (const [index, joinMeta] of joins.entries()){\n                if (index === 0) {\n                    joinsArray.push(sql` `);\n                }\n                const table = joinMeta.table;\n                const lateralSql = joinMeta.lateral ? sql` lateral` : undefined;\n                if (is(table, PgTable)) {\n                    const tableName = table[PgTable.Symbol.Name];\n                    const tableSchema = table[PgTable.Symbol.Schema];\n                    const origTableName = table[PgTable.Symbol.OriginalName];\n                    const alias = tableName === origTableName ? undefined : joinMeta.alias;\n                    joinsArray.push(sql`${sql.raw(joinMeta.joinType)} join${lateralSql} ${tableSchema ? sql`${sql.identifier(tableSchema)}.` : undefined}${sql.identifier(origTableName)}${alias && sql` ${sql.identifier(alias)}`} on ${joinMeta.on}`);\n                } else if (is(table, View)) {\n                    const viewName = table[ViewBaseConfig].name;\n                    const viewSchema = table[ViewBaseConfig].schema;\n                    const origViewName = table[ViewBaseConfig].originalName;\n                    const alias = viewName === origViewName ? undefined : joinMeta.alias;\n                    joinsArray.push(sql`${sql.raw(joinMeta.joinType)} join${lateralSql} ${viewSchema ? sql`${sql.identifier(viewSchema)}.` : undefined}${sql.identifier(origViewName)}${alias && sql` ${sql.identifier(alias)}`} on ${joinMeta.on}`);\n                } else {\n                    joinsArray.push(sql`${sql.raw(joinMeta.joinType)} join${lateralSql} ${table} on ${joinMeta.on}`);\n                }\n                if (index < joins.length - 1) {\n                    joinsArray.push(sql` `);\n                }\n            }\n        }\n        const joinsSql = sql.join(joinsArray);\n        const whereSql = where ? sql` where ${where}` : undefined;\n        const havingSql = having ? sql` having ${having}` : undefined;\n        let orderBySql;\n        if (orderBy && orderBy.length > 0) {\n            orderBySql = sql` order by ${sql.join(orderBy, sql`, `)}`;\n        }\n        let groupBySql;\n        if (groupBy && groupBy.length > 0) {\n            groupBySql = sql` group by ${sql.join(groupBy, sql`, `)}`;\n        }\n        const limitSql = limit ? sql` limit ${limit}` : undefined;\n        const offsetSql = offset ? sql` offset ${offset}` : undefined;\n        const lockingClausesSql = sql.empty();\n        if (lockingClauses) {\n            for (const { strength, config } of lockingClauses){\n                const clauseSql = sql` for ${sql.raw(strength)}`;\n                if (config.of) {\n                    clauseSql.append(sql` of ${config.of}`);\n                }\n                if (config.noWait) {\n                    clauseSql.append(sql` no wait`);\n                } else if (config.skipLocked) {\n                    clauseSql.append(sql` skip locked`);\n                }\n                lockingClausesSql.append(clauseSql);\n            }\n        }\n        return sql`${withSql}select${distinctSql} ${selection} from ${tableSql}${joinsSql}${whereSql}${groupBySql}${havingSql}${orderBySql}${limitSql}${offsetSql}${lockingClausesSql}`;\n    }\n    buildInsertQuery({ table, values, onConflict, returning }) {\n        const valuesSqlList = [];\n        const columns = table[Table.Symbol.Columns];\n        const colEntries = Object.entries(columns);\n        const insertOrder = colEntries.map(([, column])=>sql.identifier(column.name));\n        for (const [valueIndex, value] of values.entries()){\n            const valueList = [];\n            for (const [fieldName, col] of colEntries){\n                const colValue = value[fieldName];\n                if (colValue === undefined || is(colValue, Param) && colValue.value === undefined) {\n                    // eslint-disable-next-line unicorn/no-negated-condition\n                    if (col.defaultFn !== undefined) {\n                        const defaultFnResult = col.defaultFn();\n                        const defaultValue = is(defaultFnResult, SQL) ? defaultFnResult : sql.param(defaultFnResult, col);\n                        valueList.push(defaultValue);\n                    } else {\n                        valueList.push(sql`default`);\n                    }\n                } else {\n                    valueList.push(colValue);\n                }\n            }\n            valuesSqlList.push(valueList);\n            if (valueIndex < values.length - 1) {\n                valuesSqlList.push(sql`, `);\n            }\n        }\n        const valuesSql = sql.join(valuesSqlList);\n        const returningSql = returning ? sql` returning ${this.buildSelection(returning, {\n            isSingleTable: true\n        })}` : undefined;\n        const onConflictSql = onConflict ? sql` on conflict ${onConflict}` : undefined;\n        return sql`insert into ${table} ${insertOrder} values ${valuesSql}${onConflictSql}${returningSql}`;\n    }\n    buildRefreshMaterializedViewQuery({ view, concurrently, withNoData }) {\n        const concurrentlySql = concurrently ? sql` concurrently` : undefined;\n        const withNoDataSql = withNoData ? sql` with no data` : undefined;\n        return sql`refresh materialized view${concurrentlySql} ${view}${withNoDataSql}`;\n    }\n    prepareTyping(encoder) {\n        if (is(encoder, PgJsonb) || is(encoder, PgJson)) {\n            return \"json\";\n        } else if (is(encoder, PgNumeric)) {\n            return \"decimal\";\n        } else if (is(encoder, PgTime)) {\n            return \"time\";\n        } else if (is(encoder, PgTimestamp)) {\n            return \"timestamp\";\n        } else if (is(encoder, PgDate)) {\n            return \"date\";\n        } else if (is(encoder, PgUUID)) {\n            return \"uuid\";\n        } else {\n            return \"none\";\n        }\n    }\n    sqlToQuery(sql) {\n        return sql.toQuery({\n            escapeName: this.escapeName,\n            escapeParam: this.escapeParam,\n            escapeString: this.escapeString,\n            prepareTyping: this.prepareTyping\n        });\n    }\n    // buildRelationalQueryWithPK({\n    // \tfullSchema,\n    // \tschema,\n    // \ttableNamesMap,\n    // \ttable,\n    // \ttableConfig,\n    // \tqueryConfig: config,\n    // \ttableAlias,\n    // \tisRoot = false,\n    // \tjoinOn,\n    // }: {\n    // \tfullSchema: Record<string, unknown>;\n    // \tschema: TablesRelationalConfig;\n    // \ttableNamesMap: Record<string, string>;\n    // \ttable: PgTable;\n    // \ttableConfig: TableRelationalConfig;\n    // \tqueryConfig: true | DBQueryConfig<'many', true>;\n    // \ttableAlias: string;\n    // \tisRoot?: boolean;\n    // \tjoinOn?: SQL;\n    // }): BuildRelationalQueryResult<PgTable, PgColumn> {\n    // \t// For { \"<relation>\": true }, return a table with selection of all columns\n    // \tif (config === true) {\n    // \t\tconst selectionEntries = Object.entries(tableConfig.columns);\n    // \t\tconst selection: BuildRelationalQueryResult<PgTable, PgColumn>['selection'] = selectionEntries.map((\n    // \t\t\t[key, value],\n    // \t\t) => ({\n    // \t\t\tdbKey: value.name,\n    // \t\t\ttsKey: key,\n    // \t\t\tfield: value as PgColumn,\n    // \t\t\trelationTableTsKey: undefined,\n    // \t\t\tisJson: false,\n    // \t\t\tselection: [],\n    // \t\t}));\n    // \t\treturn {\n    // \t\t\ttableTsKey: tableConfig.tsName,\n    // \t\t\tsql: table,\n    // \t\t\tselection,\n    // \t\t};\n    // \t}\n    // \t// let selection: BuildRelationalQueryResult<PgTable, PgColumn>['selection'] = [];\n    // \t// let selectionForBuild = selection;\n    // \tconst aliasedColumns = Object.fromEntries(\n    // \t\tObject.entries(tableConfig.columns).map(([key, value]) => [key, aliasedTableColumn(value, tableAlias)]),\n    // \t);\n    // \tconst aliasedRelations = Object.fromEntries(\n    // \t\tObject.entries(tableConfig.relations).map(([key, value]) => [key, aliasedRelation(value, tableAlias)]),\n    // \t);\n    // \tconst aliasedFields = Object.assign({}, aliasedColumns, aliasedRelations);\n    // \tlet where, hasUserDefinedWhere;\n    // \tif (config.where) {\n    // \t\tconst whereSql = typeof config.where === 'function' ? config.where(aliasedFields, operators) : config.where;\n    // \t\twhere = whereSql && mapColumnsInSQLToAlias(whereSql, tableAlias);\n    // \t\thasUserDefinedWhere = !!where;\n    // \t}\n    // \twhere = and(joinOn, where);\n    // \t// const fieldsSelection: { tsKey: string; value: PgColumn | SQL.Aliased; isExtra?: boolean }[] = [];\n    // \tlet joins: Join[] = [];\n    // \tlet selectedColumns: string[] = [];\n    // \t// Figure out which columns to select\n    // \tif (config.columns) {\n    // \t\tlet isIncludeMode = false;\n    // \t\tfor (const [field, value] of Object.entries(config.columns)) {\n    // \t\t\tif (value === undefined) {\n    // \t\t\t\tcontinue;\n    // \t\t\t}\n    // \t\t\tif (field in tableConfig.columns) {\n    // \t\t\t\tif (!isIncludeMode && value === true) {\n    // \t\t\t\t\tisIncludeMode = true;\n    // \t\t\t\t}\n    // \t\t\t\tselectedColumns.push(field);\n    // \t\t\t}\n    // \t\t}\n    // \t\tif (selectedColumns.length > 0) {\n    // \t\t\tselectedColumns = isIncludeMode\n    // \t\t\t\t? selectedColumns.filter((c) => config.columns?.[c] === true)\n    // \t\t\t\t: Object.keys(tableConfig.columns).filter((key) => !selectedColumns.includes(key));\n    // \t\t}\n    // \t} else {\n    // \t\t// Select all columns if selection is not specified\n    // \t\tselectedColumns = Object.keys(tableConfig.columns);\n    // \t}\n    // \t// for (const field of selectedColumns) {\n    // \t// \tconst column = tableConfig.columns[field]! as PgColumn;\n    // \t// \tfieldsSelection.push({ tsKey: field, value: column });\n    // \t// }\n    // \tlet initiallySelectedRelations: {\n    // \t\ttsKey: string;\n    // \t\tqueryConfig: true | DBQueryConfig<'many', false>;\n    // \t\trelation: Relation;\n    // \t}[] = [];\n    // \t// let selectedRelations: BuildRelationalQueryResult<PgTable, PgColumn>['selection'] = [];\n    // \t// Figure out which relations to select\n    // \tif (config.with) {\n    // \t\tinitiallySelectedRelations = Object.entries(config.with)\n    // \t\t\t.filter((entry): entry is [typeof entry[0], NonNullable<typeof entry[1]>] => !!entry[1])\n    // \t\t\t.map(([tsKey, queryConfig]) => ({ tsKey, queryConfig, relation: tableConfig.relations[tsKey]! }));\n    // \t}\n    // \tconst manyRelations = initiallySelectedRelations.filter((r) =>\n    // \t\tis(r.relation, Many)\n    // \t\t&& (schema[tableNamesMap[r.relation.referencedTable[Table.Symbol.Name]]!]?.primaryKey.length ?? 0) > 0\n    // \t);\n    // \t// If this is the last Many relation (or there are no Many relations), we are on the innermost subquery level\n    // \tconst isInnermostQuery = manyRelations.length < 2;\n    // \tconst selectedExtras: {\n    // \t\ttsKey: string;\n    // \t\tvalue: SQL.Aliased;\n    // \t}[] = [];\n    // \t// Figure out which extras to select\n    // \tif (isInnermostQuery && config.extras) {\n    // \t\tconst extras = typeof config.extras === 'function'\n    // \t\t\t? config.extras(aliasedFields, { sql })\n    // \t\t\t: config.extras;\n    // \t\tfor (const [tsKey, value] of Object.entries(extras)) {\n    // \t\t\tselectedExtras.push({\n    // \t\t\t\ttsKey,\n    // \t\t\t\tvalue: mapColumnsInAliasedSQLToAlias(value, tableAlias),\n    // \t\t\t});\n    // \t\t}\n    // \t}\n    // \t// Transform `fieldsSelection` into `selection`\n    // \t// `fieldsSelection` shouldn't be used after this point\n    // \t// for (const { tsKey, value, isExtra } of fieldsSelection) {\n    // \t// \tselection.push({\n    // \t// \t\tdbKey: is(value, SQL.Aliased) ? value.fieldAlias : tableConfig.columns[tsKey]!.name,\n    // \t// \t\ttsKey,\n    // \t// \t\tfield: is(value, Column) ? aliasedTableColumn(value, tableAlias) : value,\n    // \t// \t\trelationTableTsKey: undefined,\n    // \t// \t\tisJson: false,\n    // \t// \t\tisExtra,\n    // \t// \t\tselection: [],\n    // \t// \t});\n    // \t// }\n    // \tlet orderByOrig = typeof config.orderBy === 'function'\n    // \t\t? config.orderBy(aliasedFields, orderByOperators)\n    // \t\t: config.orderBy ?? [];\n    // \tif (!Array.isArray(orderByOrig)) {\n    // \t\torderByOrig = [orderByOrig];\n    // \t}\n    // \tconst orderBy = orderByOrig.map((orderByValue) => {\n    // \t\tif (is(orderByValue, Column)) {\n    // \t\t\treturn aliasedTableColumn(orderByValue, tableAlias) as PgColumn;\n    // \t\t}\n    // \t\treturn mapColumnsInSQLToAlias(orderByValue, tableAlias);\n    // \t});\n    // \tconst limit = isInnermostQuery ? config.limit : undefined;\n    // \tconst offset = isInnermostQuery ? config.offset : undefined;\n    // \t// For non-root queries without additional config except columns, return a table with selection\n    // \tif (\n    // \t\t!isRoot\n    // \t\t&& initiallySelectedRelations.length === 0\n    // \t\t&& selectedExtras.length === 0\n    // \t\t&& !where\n    // \t\t&& orderBy.length === 0\n    // \t\t&& limit === undefined\n    // \t\t&& offset === undefined\n    // \t) {\n    // \t\treturn {\n    // \t\t\ttableTsKey: tableConfig.tsName,\n    // \t\t\tsql: table,\n    // \t\t\tselection: selectedColumns.map((key) => ({\n    // \t\t\t\tdbKey: tableConfig.columns[key]!.name,\n    // \t\t\t\ttsKey: key,\n    // \t\t\t\tfield: tableConfig.columns[key] as PgColumn,\n    // \t\t\t\trelationTableTsKey: undefined,\n    // \t\t\t\tisJson: false,\n    // \t\t\t\tselection: [],\n    // \t\t\t})),\n    // \t\t};\n    // \t}\n    // \tconst selectedRelationsWithoutPK:\n    // \t// Process all relations without primary keys, because they need to be joined differently and will all be on the same query level\n    // \tfor (\n    // \t\tconst {\n    // \t\t\ttsKey: selectedRelationTsKey,\n    // \t\t\tqueryConfig: selectedRelationConfigValue,\n    // \t\t\trelation,\n    // \t\t} of initiallySelectedRelations\n    // \t) {\n    // \t\tconst normalizedRelation = normalizeRelation(schema, tableNamesMap, relation);\n    // \t\tconst relationTableName = relation.referencedTable[Table.Symbol.Name];\n    // \t\tconst relationTableTsName = tableNamesMap[relationTableName]!;\n    // \t\tconst relationTable = schema[relationTableTsName]!;\n    // \t\tif (relationTable.primaryKey.length > 0) {\n    // \t\t\tcontinue;\n    // \t\t}\n    // \t\tconst relationTableAlias = `${tableAlias}_${selectedRelationTsKey}`;\n    // \t\tconst joinOn = and(\n    // \t\t\t...normalizedRelation.fields.map((field, i) =>\n    // \t\t\t\teq(\n    // \t\t\t\t\taliasedTableColumn(normalizedRelation.references[i]!, relationTableAlias),\n    // \t\t\t\t\taliasedTableColumn(field, tableAlias),\n    // \t\t\t\t)\n    // \t\t\t),\n    // \t\t);\n    // \t\tconst builtRelation = this.buildRelationalQueryWithoutPK({\n    // \t\t\tfullSchema,\n    // \t\t\tschema,\n    // \t\t\ttableNamesMap,\n    // \t\t\ttable: fullSchema[relationTableTsName] as PgTable,\n    // \t\t\ttableConfig: schema[relationTableTsName]!,\n    // \t\t\tqueryConfig: selectedRelationConfigValue,\n    // \t\t\ttableAlias: relationTableAlias,\n    // \t\t\tjoinOn,\n    // \t\t\tnestedQueryRelation: relation,\n    // \t\t});\n    // \t\tconst field = sql`${sql.identifier(relationTableAlias)}.${sql.identifier('data')}`.as(selectedRelationTsKey);\n    // \t\tjoins.push({\n    // \t\t\ton: sql`true`,\n    // \t\t\ttable: new Subquery(builtRelation.sql as SQL, {}, relationTableAlias),\n    // \t\t\talias: relationTableAlias,\n    // \t\t\tjoinType: 'left',\n    // \t\t\tlateral: true,\n    // \t\t});\n    // \t\tselectedRelations.push({\n    // \t\t\tdbKey: selectedRelationTsKey,\n    // \t\t\ttsKey: selectedRelationTsKey,\n    // \t\t\tfield,\n    // \t\t\trelationTableTsKey: relationTableTsName,\n    // \t\t\tisJson: true,\n    // \t\t\tselection: builtRelation.selection,\n    // \t\t});\n    // \t}\n    // \tconst oneRelations = initiallySelectedRelations.filter((r): r is typeof r & { relation: One } =>\n    // \t\tis(r.relation, One)\n    // \t);\n    // \t// Process all One relations with PKs, because they can all be joined on the same level\n    // \tfor (\n    // \t\tconst {\n    // \t\t\ttsKey: selectedRelationTsKey,\n    // \t\t\tqueryConfig: selectedRelationConfigValue,\n    // \t\t\trelation,\n    // \t\t} of oneRelations\n    // \t) {\n    // \t\tconst normalizedRelation = normalizeRelation(schema, tableNamesMap, relation);\n    // \t\tconst relationTableName = relation.referencedTable[Table.Symbol.Name];\n    // \t\tconst relationTableTsName = tableNamesMap[relationTableName]!;\n    // \t\tconst relationTableAlias = `${tableAlias}_${selectedRelationTsKey}`;\n    // \t\tconst relationTable = schema[relationTableTsName]!;\n    // \t\tif (relationTable.primaryKey.length === 0) {\n    // \t\t\tcontinue;\n    // \t\t}\n    // \t\tconst joinOn = and(\n    // \t\t\t...normalizedRelation.fields.map((field, i) =>\n    // \t\t\t\teq(\n    // \t\t\t\t\taliasedTableColumn(normalizedRelation.references[i]!, relationTableAlias),\n    // \t\t\t\t\taliasedTableColumn(field, tableAlias),\n    // \t\t\t\t)\n    // \t\t\t),\n    // \t\t);\n    // \t\tconst builtRelation = this.buildRelationalQueryWithPK({\n    // \t\t\tfullSchema,\n    // \t\t\tschema,\n    // \t\t\ttableNamesMap,\n    // \t\t\ttable: fullSchema[relationTableTsName] as PgTable,\n    // \t\t\ttableConfig: schema[relationTableTsName]!,\n    // \t\t\tqueryConfig: selectedRelationConfigValue,\n    // \t\t\ttableAlias: relationTableAlias,\n    // \t\t\tjoinOn,\n    // \t\t});\n    // \t\tconst field = sql`case when ${sql.identifier(relationTableAlias)} is null then null else json_build_array(${\n    // \t\t\tsql.join(\n    // \t\t\t\tbuiltRelation.selection.map(({ field }) =>\n    // \t\t\t\t\tis(field, SQL.Aliased)\n    // \t\t\t\t\t\t? sql`${sql.identifier(relationTableAlias)}.${sql.identifier(field.fieldAlias)}`\n    // \t\t\t\t\t\t: is(field, Column)\n    // \t\t\t\t\t\t? aliasedTableColumn(field, relationTableAlias)\n    // \t\t\t\t\t\t: field\n    // \t\t\t\t),\n    // \t\t\t\tsql`, `,\n    // \t\t\t)\n    // \t\t}) end`.as(selectedRelationTsKey);\n    // \t\tconst isLateralJoin = is(builtRelation.sql, SQL);\n    // \t\tjoins.push({\n    // \t\t\ton: isLateralJoin ? sql`true` : joinOn,\n    // \t\t\ttable: is(builtRelation.sql, SQL)\n    // \t\t\t\t? new Subquery(builtRelation.sql, {}, relationTableAlias)\n    // \t\t\t\t: aliasedTable(builtRelation.sql, relationTableAlias),\n    // \t\t\talias: relationTableAlias,\n    // \t\t\tjoinType: 'left',\n    // \t\t\tlateral: is(builtRelation.sql, SQL),\n    // \t\t});\n    // \t\tselectedRelations.push({\n    // \t\t\tdbKey: selectedRelationTsKey,\n    // \t\t\ttsKey: selectedRelationTsKey,\n    // \t\t\tfield,\n    // \t\t\trelationTableTsKey: relationTableTsName,\n    // \t\t\tisJson: true,\n    // \t\t\tselection: builtRelation.selection,\n    // \t\t});\n    // \t}\n    // \tlet distinct: PgSelectConfig['distinct'];\n    // \tlet tableFrom: PgTable | Subquery = table;\n    // \t// Process first Many relation - each one requires a nested subquery\n    // \tconst manyRelation = manyRelations[0];\n    // \tif (manyRelation) {\n    // \t\tconst {\n    // \t\t\ttsKey: selectedRelationTsKey,\n    // \t\t\tqueryConfig: selectedRelationQueryConfig,\n    // \t\t\trelation,\n    // \t\t} = manyRelation;\n    // \t\tdistinct = {\n    // \t\t\ton: tableConfig.primaryKey.map((c) => aliasedTableColumn(c as PgColumn, tableAlias)),\n    // \t\t};\n    // \t\tconst normalizedRelation = normalizeRelation(schema, tableNamesMap, relation);\n    // \t\tconst relationTableName = relation.referencedTable[Table.Symbol.Name];\n    // \t\tconst relationTableTsName = tableNamesMap[relationTableName]!;\n    // \t\tconst relationTableAlias = `${tableAlias}_${selectedRelationTsKey}`;\n    // \t\tconst joinOn = and(\n    // \t\t\t...normalizedRelation.fields.map((field, i) =>\n    // \t\t\t\teq(\n    // \t\t\t\t\taliasedTableColumn(normalizedRelation.references[i]!, relationTableAlias),\n    // \t\t\t\t\taliasedTableColumn(field, tableAlias),\n    // \t\t\t\t)\n    // \t\t\t),\n    // \t\t);\n    // \t\tconst builtRelationJoin = this.buildRelationalQueryWithPK({\n    // \t\t\tfullSchema,\n    // \t\t\tschema,\n    // \t\t\ttableNamesMap,\n    // \t\t\ttable: fullSchema[relationTableTsName] as PgTable,\n    // \t\t\ttableConfig: schema[relationTableTsName]!,\n    // \t\t\tqueryConfig: selectedRelationQueryConfig,\n    // \t\t\ttableAlias: relationTableAlias,\n    // \t\t\tjoinOn,\n    // \t\t});\n    // \t\tconst builtRelationSelectionField = sql`case when ${\n    // \t\t\tsql.identifier(relationTableAlias)\n    // \t\t} is null then '[]' else json_agg(json_build_array(${\n    // \t\t\tsql.join(\n    // \t\t\t\tbuiltRelationJoin.selection.map(({ field }) =>\n    // \t\t\t\t\tis(field, SQL.Aliased)\n    // \t\t\t\t\t\t? sql`${sql.identifier(relationTableAlias)}.${sql.identifier(field.fieldAlias)}`\n    // \t\t\t\t\t\t: is(field, Column)\n    // \t\t\t\t\t\t? aliasedTableColumn(field, relationTableAlias)\n    // \t\t\t\t\t\t: field\n    // \t\t\t\t),\n    // \t\t\t\tsql`, `,\n    // \t\t\t)\n    // \t\t})) over (partition by ${sql.join(distinct.on, sql`, `)}) end`.as(selectedRelationTsKey);\n    // \t\tconst isLateralJoin = is(builtRelationJoin.sql, SQL);\n    // \t\tjoins.push({\n    // \t\t\ton: isLateralJoin ? sql`true` : joinOn,\n    // \t\t\ttable: isLateralJoin\n    // \t\t\t\t? new Subquery(builtRelationJoin.sql as SQL, {}, relationTableAlias)\n    // \t\t\t\t: aliasedTable(builtRelationJoin.sql as PgTable, relationTableAlias),\n    // \t\t\talias: relationTableAlias,\n    // \t\t\tjoinType: 'left',\n    // \t\t\tlateral: isLateralJoin,\n    // \t\t});\n    // \t\t// Build the \"from\" subquery with the remaining Many relations\n    // \t\tconst builtTableFrom = this.buildRelationalQueryWithPK({\n    // \t\t\tfullSchema,\n    // \t\t\tschema,\n    // \t\t\ttableNamesMap,\n    // \t\t\ttable,\n    // \t\t\ttableConfig,\n    // \t\t\tqueryConfig: {\n    // \t\t\t\t...config,\n    // \t\t\t\twhere: undefined,\n    // \t\t\t\torderBy: undefined,\n    // \t\t\t\tlimit: undefined,\n    // \t\t\t\toffset: undefined,\n    // \t\t\t\twith: manyRelations.slice(1).reduce<NonNullable<typeof config['with']>>(\n    // \t\t\t\t\t(result, { tsKey, queryConfig: configValue }) => {\n    // \t\t\t\t\t\tresult[tsKey] = configValue;\n    // \t\t\t\t\t\treturn result;\n    // \t\t\t\t\t},\n    // \t\t\t\t\t{},\n    // \t\t\t\t),\n    // \t\t\t},\n    // \t\t\ttableAlias,\n    // \t\t});\n    // \t\tselectedRelations.push({\n    // \t\t\tdbKey: selectedRelationTsKey,\n    // \t\t\ttsKey: selectedRelationTsKey,\n    // \t\t\tfield: builtRelationSelectionField,\n    // \t\t\trelationTableTsKey: relationTableTsName,\n    // \t\t\tisJson: true,\n    // \t\t\tselection: builtRelationJoin.selection,\n    // \t\t});\n    // \t\t// selection = builtTableFrom.selection.map((item) =>\n    // \t\t// \tis(item.field, SQL.Aliased)\n    // \t\t// \t\t? { ...item, field: sql`${sql.identifier(tableAlias)}.${sql.identifier(item.field.fieldAlias)}` }\n    // \t\t// \t\t: item\n    // \t\t// );\n    // \t\t// selectionForBuild = [{\n    // \t\t// \tdbKey: '*',\n    // \t\t// \ttsKey: '*',\n    // \t\t// \tfield: sql`${sql.identifier(tableAlias)}.*`,\n    // \t\t// \tselection: [],\n    // \t\t// \tisJson: false,\n    // \t\t// \trelationTableTsKey: undefined,\n    // \t\t// }];\n    // \t\t// const newSelectionItem: (typeof selection)[number] = {\n    // \t\t// \tdbKey: selectedRelationTsKey,\n    // \t\t// \ttsKey: selectedRelationTsKey,\n    // \t\t// \tfield,\n    // \t\t// \trelationTableTsKey: relationTableTsName,\n    // \t\t// \tisJson: true,\n    // \t\t// \tselection: builtRelationJoin.selection,\n    // \t\t// };\n    // \t\t// selection.push(newSelectionItem);\n    // \t\t// selectionForBuild.push(newSelectionItem);\n    // \t\ttableFrom = is(builtTableFrom.sql, PgTable)\n    // \t\t\t? builtTableFrom.sql\n    // \t\t\t: new Subquery(builtTableFrom.sql, {}, tableAlias);\n    // \t}\n    // \tif (selectedColumns.length === 0 && selectedRelations.length === 0 && selectedExtras.length === 0) {\n    // \t\tthrow new DrizzleError(`No fields selected for table \"${tableConfig.tsName}\" (\"${tableAlias}\")`);\n    // \t}\n    // \tlet selection: BuildRelationalQueryResult<PgTable, PgColumn>['selection'];\n    // \tfunction prepareSelectedColumns() {\n    // \t\treturn selectedColumns.map((key) => ({\n    // \t\t\tdbKey: tableConfig.columns[key]!.name,\n    // \t\t\ttsKey: key,\n    // \t\t\tfield: tableConfig.columns[key] as PgColumn,\n    // \t\t\trelationTableTsKey: undefined,\n    // \t\t\tisJson: false,\n    // \t\t\tselection: [],\n    // \t\t}));\n    // \t}\n    // \tfunction prepareSelectedExtras() {\n    // \t\treturn selectedExtras.map((item) => ({\n    // \t\t\tdbKey: item.value.fieldAlias,\n    // \t\t\ttsKey: item.tsKey,\n    // \t\t\tfield: item.value,\n    // \t\t\trelationTableTsKey: undefined,\n    // \t\t\tisJson: false,\n    // \t\t\tselection: [],\n    // \t\t}));\n    // \t}\n    // \tif (isRoot) {\n    // \t\tselection = [\n    // \t\t\t...prepareSelectedColumns(),\n    // \t\t\t...prepareSelectedExtras(),\n    // \t\t];\n    // \t}\n    // \tif (hasUserDefinedWhere || orderBy.length > 0) {\n    // \t\ttableFrom = new Subquery(\n    // \t\t\tthis.buildSelectQuery({\n    // \t\t\t\ttable: is(tableFrom, PgTable) ? aliasedTable(tableFrom, tableAlias) : tableFrom,\n    // \t\t\t\tfields: {},\n    // \t\t\t\tfieldsFlat: selectionForBuild.map(({ field }) => ({\n    // \t\t\t\t\tpath: [],\n    // \t\t\t\t\tfield: is(field, Column) ? aliasedTableColumn(field, tableAlias) : field,\n    // \t\t\t\t})),\n    // \t\t\t\tjoins,\n    // \t\t\t\tdistinct,\n    // \t\t\t}),\n    // \t\t\t{},\n    // \t\t\ttableAlias,\n    // \t\t);\n    // \t\tselectionForBuild = selection.map((item) =>\n    // \t\t\tis(item.field, SQL.Aliased)\n    // \t\t\t\t? { ...item, field: sql`${sql.identifier(tableAlias)}.${sql.identifier(item.field.fieldAlias)}` }\n    // \t\t\t\t: item\n    // \t\t);\n    // \t\tjoins = [];\n    // \t\tdistinct = undefined;\n    // \t}\n    // \tconst result = this.buildSelectQuery({\n    // \t\ttable: is(tableFrom, PgTable) ? aliasedTable(tableFrom, tableAlias) : tableFrom,\n    // \t\tfields: {},\n    // \t\tfieldsFlat: selectionForBuild.map(({ field }) => ({\n    // \t\t\tpath: [],\n    // \t\t\tfield: is(field, Column) ? aliasedTableColumn(field, tableAlias) : field,\n    // \t\t})),\n    // \t\twhere,\n    // \t\tlimit,\n    // \t\toffset,\n    // \t\tjoins,\n    // \t\torderBy,\n    // \t\tdistinct,\n    // \t});\n    // \treturn {\n    // \t\ttableTsKey: tableConfig.tsName,\n    // \t\tsql: result,\n    // \t\tselection,\n    // \t};\n    // }\n    buildRelationalQueryWithoutPK({ fullSchema, schema, tableNamesMap, table, tableConfig, queryConfig: config, tableAlias, nestedQueryRelation, joinOn }) {\n        let selection = [];\n        let limit, offset, orderBy = [], where;\n        const joins = [];\n        if (config === true) {\n            const selectionEntries = Object.entries(tableConfig.columns);\n            selection = selectionEntries.map(([key, value])=>({\n                    dbKey: value.name,\n                    tsKey: key,\n                    field: aliasedTableColumn(value, tableAlias),\n                    relationTableTsKey: undefined,\n                    isJson: false,\n                    selection: []\n                }));\n        } else {\n            const aliasedColumns = Object.fromEntries(Object.entries(tableConfig.columns).map(([key, value])=>[\n                    key,\n                    aliasedTableColumn(value, tableAlias)\n                ]));\n            if (config.where) {\n                const whereSql = typeof config.where === \"function\" ? config.where(aliasedColumns, getOperators()) : config.where;\n                where = whereSql && mapColumnsInSQLToAlias(whereSql, tableAlias);\n            }\n            const fieldsSelection = [];\n            let selectedColumns = [];\n            // Figure out which columns to select\n            if (config.columns) {\n                let isIncludeMode = false;\n                for (const [field, value] of Object.entries(config.columns)){\n                    if (value === undefined) {\n                        continue;\n                    }\n                    if (field in tableConfig.columns) {\n                        if (!isIncludeMode && value === true) {\n                            isIncludeMode = true;\n                        }\n                        selectedColumns.push(field);\n                    }\n                }\n                if (selectedColumns.length > 0) {\n                    selectedColumns = isIncludeMode ? selectedColumns.filter((c)=>config.columns?.[c] === true) : Object.keys(tableConfig.columns).filter((key)=>!selectedColumns.includes(key));\n                }\n            } else {\n                // Select all columns if selection is not specified\n                selectedColumns = Object.keys(tableConfig.columns);\n            }\n            for (const field of selectedColumns){\n                const column = tableConfig.columns[field];\n                fieldsSelection.push({\n                    tsKey: field,\n                    value: column\n                });\n            }\n            let selectedRelations = [];\n            // Figure out which relations to select\n            if (config.with) {\n                selectedRelations = Object.entries(config.with).filter((entry)=>!!entry[1]).map(([tsKey, queryConfig])=>({\n                        tsKey,\n                        queryConfig,\n                        relation: tableConfig.relations[tsKey]\n                    }));\n            }\n            let extras;\n            // Figure out which extras to select\n            if (config.extras) {\n                extras = typeof config.extras === \"function\" ? config.extras(aliasedColumns, {\n                    sql\n                }) : config.extras;\n                for (const [tsKey, value] of Object.entries(extras)){\n                    fieldsSelection.push({\n                        tsKey,\n                        value: mapColumnsInAliasedSQLToAlias(value, tableAlias)\n                    });\n                }\n            }\n            // Transform `fieldsSelection` into `selection`\n            // `fieldsSelection` shouldn't be used after this point\n            for (const { tsKey, value } of fieldsSelection){\n                selection.push({\n                    dbKey: is(value, SQL.Aliased) ? value.fieldAlias : tableConfig.columns[tsKey].name,\n                    tsKey,\n                    field: is(value, Column) ? aliasedTableColumn(value, tableAlias) : value,\n                    relationTableTsKey: undefined,\n                    isJson: false,\n                    selection: []\n                });\n            }\n            let orderByOrig = typeof config.orderBy === \"function\" ? config.orderBy(aliasedColumns, getOrderByOperators()) : config.orderBy ?? [];\n            if (!Array.isArray(orderByOrig)) {\n                orderByOrig = [\n                    orderByOrig\n                ];\n            }\n            orderBy = orderByOrig.map((orderByValue)=>{\n                if (is(orderByValue, Column)) {\n                    return aliasedTableColumn(orderByValue, tableAlias);\n                }\n                return mapColumnsInSQLToAlias(orderByValue, tableAlias);\n            });\n            limit = config.limit;\n            offset = config.offset;\n            // Process all relations\n            for (const { tsKey: selectedRelationTsKey, queryConfig: selectedRelationConfigValue, relation } of selectedRelations){\n                const normalizedRelation = normalizeRelation(schema, tableNamesMap, relation);\n                const relationTableName = relation.referencedTable[Table.Symbol.Name];\n                const relationTableTsName = tableNamesMap[relationTableName];\n                const relationTableAlias = `${tableAlias}_${selectedRelationTsKey}`;\n                const joinOn = and(...normalizedRelation.fields.map((field, i)=>eq(aliasedTableColumn(normalizedRelation.references[i], relationTableAlias), aliasedTableColumn(field, tableAlias))));\n                const builtRelation = this.buildRelationalQueryWithoutPK({\n                    fullSchema,\n                    schema,\n                    tableNamesMap,\n                    table: fullSchema[relationTableTsName],\n                    tableConfig: schema[relationTableTsName],\n                    queryConfig: is(relation, One) ? selectedRelationConfigValue === true ? {\n                        limit: 1\n                    } : {\n                        ...selectedRelationConfigValue,\n                        limit: 1\n                    } : selectedRelationConfigValue,\n                    tableAlias: relationTableAlias,\n                    joinOn,\n                    nestedQueryRelation: relation\n                });\n                const field = sql`${sql.identifier(relationTableAlias)}.${sql.identifier(\"data\")}`.as(selectedRelationTsKey);\n                joins.push({\n                    on: sql`true`,\n                    table: new Subquery(builtRelation.sql, {}, relationTableAlias),\n                    alias: relationTableAlias,\n                    joinType: \"left\",\n                    lateral: true\n                });\n                selection.push({\n                    dbKey: selectedRelationTsKey,\n                    tsKey: selectedRelationTsKey,\n                    field,\n                    relationTableTsKey: relationTableTsName,\n                    isJson: true,\n                    selection: builtRelation.selection\n                });\n            }\n        }\n        if (selection.length === 0) {\n            throw new DrizzleError(`No fields selected for table \"${tableConfig.tsName}\" (\"${tableAlias}\")`);\n        }\n        let result;\n        where = and(joinOn, where);\n        if (nestedQueryRelation) {\n            let field = sql`json_build_array(${sql.join(selection.map(({ field, tsKey, isJson })=>isJson ? sql`${sql.identifier(`${tableAlias}_${tsKey}`)}.${sql.identifier(\"data\")}` : is(field, SQL.Aliased) ? field.sql : field), sql`, `)})`;\n            if (is(nestedQueryRelation, Many)) {\n                field = sql`coalesce(json_agg(${field}${orderBy.length > 0 ? sql` order by ${sql.join(orderBy, sql`, `)}` : undefined}), '[]'::json)`;\n            // orderBy = [];\n            }\n            const nestedSelection = [\n                {\n                    dbKey: \"data\",\n                    tsKey: \"data\",\n                    field: field.as(\"data\"),\n                    isJson: true,\n                    relationTableTsKey: tableConfig.tsName,\n                    selection\n                }\n            ];\n            const needsSubquery = limit !== undefined || offset !== undefined || orderBy.length > 0;\n            if (needsSubquery) {\n                result = this.buildSelectQuery({\n                    table: aliasedTable(table, tableAlias),\n                    fields: {},\n                    fieldsFlat: [\n                        {\n                            path: [],\n                            field: sql.raw(\"*\")\n                        }\n                    ],\n                    where,\n                    limit,\n                    offset,\n                    orderBy\n                });\n                where = undefined;\n                limit = undefined;\n                offset = undefined;\n                orderBy = [];\n            } else {\n                result = aliasedTable(table, tableAlias);\n            }\n            result = this.buildSelectQuery({\n                table: is(result, PgTable) ? result : new Subquery(result, {}, tableAlias),\n                fields: {},\n                fieldsFlat: nestedSelection.map(({ field })=>({\n                        path: [],\n                        field: is(field, Column) ? aliasedTableColumn(field, tableAlias) : field\n                    })),\n                joins,\n                where,\n                limit,\n                offset,\n                orderBy\n            });\n        } else {\n            result = this.buildSelectQuery({\n                table: aliasedTable(table, tableAlias),\n                fields: {},\n                fieldsFlat: selection.map(({ field })=>({\n                        path: [],\n                        field: is(field, Column) ? aliasedTableColumn(field, tableAlias) : field\n                    })),\n                joins,\n                where,\n                limit,\n                offset,\n                orderBy\n            });\n        }\n        return {\n            tableTsKey: tableConfig.tsName,\n            sql: result,\n            selection\n        };\n    }\n}\nclass TypedQueryBuilder {\n    static{\n        this[entityKind] = \"TypedQueryBuilder\";\n    }\n    /** @internal */ getSelectedFields() {\n        return this._.selectedFields;\n    }\n}\nclass PgSelectBuilder {\n    static{\n        this[entityKind] = \"PgSelectBuilder\";\n    }\n    constructor(config){\n        this.withList = [];\n        this.fields = config.fields;\n        this.session = config.session;\n        this.dialect = config.dialect;\n        if (config.withList) {\n            this.withList = config.withList;\n        }\n        this.distinct = config.distinct;\n    }\n    /**\n     * Specify the table, subquery, or other target that you're\n     * building a select query against.\n     *\n     * {@link https://www.postgresql.org/docs/current/sql-select.html#SQL-FROM|Postgres from documentation}\n     */ from(source) {\n        const isPartialSelect = !!this.fields;\n        let fields;\n        if (this.fields) {\n            fields = this.fields;\n        } else if (is(source, Subquery)) {\n            // This is required to use the proxy handler to get the correct field values from the subquery\n            fields = Object.fromEntries(Object.keys(source[SubqueryConfig].selection).map((key)=>[\n                    key,\n                    source[key]\n                ]));\n        } else if (is(source, PgViewBase)) {\n            fields = source[ViewBaseConfig].selectedFields;\n        } else if (is(source, SQL)) {\n            fields = {};\n        } else {\n            fields = getTableColumns(source);\n        }\n        return new PgSelect({\n            table: source,\n            fields,\n            isPartialSelect,\n            session: this.session,\n            dialect: this.dialect,\n            withList: this.withList,\n            distinct: this.distinct\n        });\n    }\n}\nclass PgSelectQueryBuilder extends TypedQueryBuilder {\n    static{\n        this[entityKind] = \"PgSelectQueryBuilder\";\n    }\n    constructor({ table, fields, isPartialSelect, session, dialect, withList, distinct }){\n        super();\n        /**\n     * For each row of the table, include\n     * values from a matching row of the joined\n     * table, if there is a matching row. If not,\n     * all of the columns of the joined table\n     * will be set to null.\n     */ this.leftJoin = this.createJoin(\"left\");\n        /**\n     * Includes all of the rows of the joined table.\n     * If there is no matching row in the main table,\n     * all the columns of the main table will be\n     * set to null.\n     */ this.rightJoin = this.createJoin(\"right\");\n        /**\n     * This is the default type of join.\n     *\n     * For each row of the table, the joined table\n     * needs to have a matching row, or it will\n     * be excluded from results.\n     */ this.innerJoin = this.createJoin(\"inner\");\n        /**\n     * Rows from both the main & joined are included,\n     * regardless of whether or not they have matching\n     * rows in the other table.\n     */ this.fullJoin = this.createJoin(\"full\");\n        this.config = {\n            withList,\n            table,\n            fields: {\n                ...fields\n            },\n            distinct\n        };\n        this.isPartialSelect = isPartialSelect;\n        this.session = session;\n        this.dialect = dialect;\n        this._ = {\n            selectedFields: fields\n        };\n        this.tableName = getTableLikeName(table);\n        this.joinsNotNullableMap = typeof this.tableName === \"string\" ? {\n            [this.tableName]: true\n        } : {};\n    }\n    createJoin(joinType) {\n        return (table, on)=>{\n            const baseTableName = this.tableName;\n            const tableName = getTableLikeName(table);\n            if (typeof tableName === \"string\" && this.config.joins?.some((join)=>join.alias === tableName)) {\n                throw new Error(`Alias \"${tableName}\" is already used in this query`);\n            }\n            if (!this.isPartialSelect) {\n                // If this is the first join and this is not a partial select and we're not selecting from raw SQL, \"move\" the fields from the main table to the nested object\n                if (Object.keys(this.joinsNotNullableMap).length === 1 && typeof baseTableName === \"string\") {\n                    this.config.fields = {\n                        [baseTableName]: this.config.fields\n                    };\n                }\n                if (typeof tableName === \"string\" && !is(table, SQL)) {\n                    const selection = is(table, Subquery) ? table[SubqueryConfig].selection : is(table, View) ? table[ViewBaseConfig].selectedFields : table[Table.Symbol.Columns];\n                    this.config.fields[tableName] = selection;\n                }\n            }\n            if (typeof on === \"function\") {\n                on = on(new Proxy(this.config.fields, new SelectionProxyHandler({\n                    sqlAliasedBehavior: \"sql\",\n                    sqlBehavior: \"sql\"\n                })));\n            }\n            if (!this.config.joins) {\n                this.config.joins = [];\n            }\n            this.config.joins.push({\n                on,\n                table,\n                joinType,\n                alias: tableName\n            });\n            if (typeof tableName === \"string\") {\n                switch(joinType){\n                    case \"left\":\n                        {\n                            this.joinsNotNullableMap[tableName] = false;\n                            break;\n                        }\n                    case \"right\":\n                        {\n                            this.joinsNotNullableMap = Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([key])=>[\n                                    key,\n                                    false\n                                ]));\n                            this.joinsNotNullableMap[tableName] = true;\n                            break;\n                        }\n                    case \"inner\":\n                        {\n                            this.joinsNotNullableMap[tableName] = true;\n                            break;\n                        }\n                    case \"full\":\n                        {\n                            this.joinsNotNullableMap = Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([key])=>[\n                                    key,\n                                    false\n                                ]));\n                            this.joinsNotNullableMap[tableName] = false;\n                            break;\n                        }\n                }\n            }\n            return this;\n        };\n    }\n    /**\n     * Specify a condition to narrow the result set. Multiple\n     * conditions can be combined with the `and` and `or`\n     * functions.\n     *\n     * ## Examples\n     *\n     * ```ts\n     * // Find cars made in the year 2000\n     * db.select().from(cars).where(eq(cars.year, 2000));\n     * ```\n     */ where(where) {\n        if (typeof where === \"function\") {\n            where = where(new Proxy(this.config.fields, new SelectionProxyHandler({\n                sqlAliasedBehavior: \"sql\",\n                sqlBehavior: \"sql\"\n            })));\n        }\n        this.config.where = where;\n        return this;\n    }\n    /**\n     * Sets the HAVING clause of this query, which often\n     * used with GROUP BY and filters rows after they've been\n     * grouped together and combined.\n     *\n     * {@link https://www.postgresql.org/docs/current/sql-select.html#SQL-HAVING|Postgres having clause documentation}\n     */ having(having) {\n        if (typeof having === \"function\") {\n            having = having(new Proxy(this.config.fields, new SelectionProxyHandler({\n                sqlAliasedBehavior: \"sql\",\n                sqlBehavior: \"sql\"\n            })));\n        }\n        this.config.having = having;\n        return this;\n    }\n    groupBy(...columns) {\n        if (typeof columns[0] === \"function\") {\n            const groupBy = columns[0](new Proxy(this.config.fields, new SelectionProxyHandler({\n                sqlAliasedBehavior: \"alias\",\n                sqlBehavior: \"sql\"\n            })));\n            this.config.groupBy = Array.isArray(groupBy) ? groupBy : [\n                groupBy\n            ];\n        } else {\n            this.config.groupBy = columns;\n        }\n        return this;\n    }\n    orderBy(...columns) {\n        if (typeof columns[0] === \"function\") {\n            const orderBy = columns[0](new Proxy(this.config.fields, new SelectionProxyHandler({\n                sqlAliasedBehavior: \"alias\",\n                sqlBehavior: \"sql\"\n            })));\n            this.config.orderBy = Array.isArray(orderBy) ? orderBy : [\n                orderBy\n            ];\n        } else {\n            this.config.orderBy = columns;\n        }\n        return this;\n    }\n    /**\n     * Set the maximum number of rows that will be\n     * returned by this query.\n     *\n     * ## Examples\n     *\n     * ```ts\n     * // Get the first 10 people from this query.\n     * db.select().from(people).limit(10);\n     * ```\n     *\n     * {@link https://www.postgresql.org/docs/current/sql-select.html#SQL-LIMIT|Postgres LIMIT documentation}\n     */ limit(limit) {\n        this.config.limit = limit;\n        return this;\n    }\n    /**\n     * Skip a number of rows when returning results\n     * from this query.\n     *\n     * ## Examples\n     *\n     * ```ts\n     * // Get the 10th-20th people from this query.\n     * db.select().from(people).offset(10).limit(10);\n     * ```\n     */ offset(offset) {\n        this.config.offset = offset;\n        return this;\n    }\n    /**\n     * The FOR clause specifies a lock strength for this query\n     * that controls how strictly it acquires exclusive access to\n     * the rows being queried.\n     *\n     * {@link https://www.postgresql.org/docs/current/sql-select.html#SQL-FOR-UPDATE-SHARE|Postgres locking clause documentation}\n     */ for(strength, config = {}) {\n        if (!this.config.lockingClauses) {\n            this.config.lockingClauses = [];\n        }\n        this.config.lockingClauses.push({\n            strength,\n            config\n        });\n        return this;\n    }\n    /** @internal */ getSQL() {\n        return this.dialect.buildSelectQuery(this.config);\n    }\n    toSQL() {\n        const { typings: _typings, ...rest } = this.dialect.sqlToQuery(this.getSQL());\n        return rest;\n    }\n    as(alias) {\n        return new Proxy(new Subquery(this.getSQL(), this.config.fields, alias), new SelectionProxyHandler({\n            alias,\n            sqlAliasedBehavior: \"alias\",\n            sqlBehavior: \"error\"\n        }));\n    }\n}\nclass PgSelect extends PgSelectQueryBuilder {\n    static{\n        this[entityKind] = \"PgSelect\";\n    }\n    _prepare(name) {\n        const { session, config, dialect, joinsNotNullableMap } = this;\n        if (!session) {\n            throw new Error(\"Cannot execute a query on a query builder. Please use a database instance instead.\");\n        }\n        return tracer.startActiveSpan(\"drizzle.prepareQuery\", ()=>{\n            const fieldsList = orderSelectedFields(config.fields);\n            const query = session.prepareQuery(dialect.sqlToQuery(this.getSQL()), fieldsList, name);\n            query.joinsNotNullableMap = joinsNotNullableMap;\n            return query;\n        });\n    }\n    /**\n     * Create a prepared statement for this query. This allows\n     * the database to remember this query for the given session\n     * and call it by name, rather than specifying the full query.\n     *\n     * {@link https://www.postgresql.org/docs/current/sql-prepare.html|Postgres prepare documentation}\n     */ prepare(name) {\n        return this._prepare(name);\n    }\n    constructor(...args){\n        super(...args);\n        this.execute = (placeholderValues)=>{\n            return tracer.startActiveSpan(\"drizzle.operation\", ()=>{\n                return this._prepare().execute(placeholderValues);\n            });\n        };\n    }\n}\napplyMixins(PgSelect, [\n    QueryPromise\n]);\nclass QueryBuilder {\n    static{\n        this[entityKind] = \"PgQueryBuilder\";\n    }\n    $with(alias) {\n        const queryBuilder = this;\n        return {\n            as (qb) {\n                if (typeof qb === \"function\") {\n                    qb = qb(queryBuilder);\n                }\n                return new Proxy(new WithSubquery(qb.getSQL(), qb.getSelectedFields(), alias, true), new SelectionProxyHandler({\n                    alias,\n                    sqlAliasedBehavior: \"alias\",\n                    sqlBehavior: \"error\"\n                }));\n            }\n        };\n    }\n    with(...queries) {\n        const self = this;\n        function select(fields) {\n            return new PgSelectBuilder({\n                fields: fields ?? undefined,\n                session: undefined,\n                dialect: self.getDialect(),\n                withList: queries\n            });\n        }\n        function selectDistinct(fields) {\n            return new PgSelectBuilder({\n                fields: fields ?? undefined,\n                session: undefined,\n                dialect: self.getDialect(),\n                distinct: true\n            });\n        }\n        function selectDistinctOn(on, fields) {\n            return new PgSelectBuilder({\n                fields: fields ?? undefined,\n                session: undefined,\n                dialect: self.getDialect(),\n                distinct: {\n                    on\n                }\n            });\n        }\n        return {\n            select,\n            selectDistinct,\n            selectDistinctOn\n        };\n    }\n    select(fields) {\n        return new PgSelectBuilder({\n            fields: fields ?? undefined,\n            session: undefined,\n            dialect: this.getDialect()\n        });\n    }\n    selectDistinct(fields) {\n        return new PgSelectBuilder({\n            fields: fields ?? undefined,\n            session: undefined,\n            dialect: this.getDialect(),\n            distinct: true\n        });\n    }\n    selectDistinctOn(on, fields) {\n        return new PgSelectBuilder({\n            fields: fields ?? undefined,\n            session: undefined,\n            dialect: this.getDialect(),\n            distinct: {\n                on\n            }\n        });\n    }\n    // Lazy load dialect to avoid circular dependency\n    getDialect() {\n        if (!this.dialect) {\n            this.dialect = new PgDialect();\n        }\n        return this.dialect;\n    }\n}\nclass DefaultViewBuilderCore {\n    static{\n        this[entityKind] = \"PgDefaultViewBuilderCore\";\n    }\n    constructor(name, schema){\n        this.config = {};\n        this.name = name;\n        this.schema = schema;\n    }\n    with(config) {\n        this.config.with = config;\n        return this;\n    }\n}\nclass ViewBuilder extends DefaultViewBuilderCore {\n    static{\n        this[entityKind] = \"PgViewBuilder\";\n    }\n    as(qb) {\n        if (typeof qb === \"function\") {\n            qb = qb(new QueryBuilder());\n        }\n        const selectionProxy = new SelectionProxyHandler({\n            alias: this.name,\n            sqlBehavior: \"error\",\n            sqlAliasedBehavior: \"alias\",\n            replaceOriginalName: true\n        });\n        const aliasedSelection = new Proxy(qb.getSelectedFields(), selectionProxy);\n        return new Proxy(new PgView({\n            pgConfig: this.config,\n            config: {\n                name: this.name,\n                schema: this.schema,\n                selectedFields: aliasedSelection,\n                query: qb.getSQL().inlineParams()\n            }\n        }), selectionProxy);\n    }\n}\nclass ManualViewBuilder extends DefaultViewBuilderCore {\n    static{\n        this[entityKind] = \"PgManualViewBuilder\";\n    }\n    constructor(name, columns, schema){\n        super(name, schema);\n        this.columns = getTableColumns(pgTable(name, columns));\n    }\n    existing() {\n        return new Proxy(new PgView({\n            pgConfig: undefined,\n            config: {\n                name: this.name,\n                schema: this.schema,\n                selectedFields: this.columns,\n                query: undefined\n            }\n        }), new SelectionProxyHandler({\n            alias: this.name,\n            sqlBehavior: \"error\",\n            sqlAliasedBehavior: \"alias\",\n            replaceOriginalName: true\n        }));\n    }\n    as(query) {\n        return new Proxy(new PgView({\n            pgConfig: this.config,\n            config: {\n                name: this.name,\n                schema: this.schema,\n                selectedFields: this.columns,\n                query: query.inlineParams()\n            }\n        }), new SelectionProxyHandler({\n            alias: this.name,\n            sqlBehavior: \"error\",\n            sqlAliasedBehavior: \"alias\",\n            replaceOriginalName: true\n        }));\n    }\n}\nclass MaterializedViewBuilderCore {\n    static{\n        this[entityKind] = \"PgMaterializedViewBuilderCore\";\n    }\n    constructor(name, schema){\n        this.config = {};\n        this.name = name;\n        this.schema = schema;\n    }\n    using(using) {\n        this.config.using = using;\n        return this;\n    }\n    with(config) {\n        this.config.with = config;\n        return this;\n    }\n    tablespace(tablespace) {\n        this.config.tablespace = tablespace;\n        return this;\n    }\n    withNoData() {\n        this.config.withNoData = true;\n        return this;\n    }\n}\nclass MaterializedViewBuilder extends MaterializedViewBuilderCore {\n    static{\n        this[entityKind] = \"PgMaterializedViewBuilder\";\n    }\n    as(qb) {\n        if (typeof qb === \"function\") {\n            qb = qb(new QueryBuilder());\n        }\n        const selectionProxy = new SelectionProxyHandler({\n            alias: this.name,\n            sqlBehavior: \"error\",\n            sqlAliasedBehavior: \"alias\",\n            replaceOriginalName: true\n        });\n        const aliasedSelection = new Proxy(qb.getSelectedFields(), selectionProxy);\n        return new Proxy(new PgMaterializedView({\n            pgConfig: {\n                with: this.config.with,\n                using: this.config.using,\n                tablespace: this.config.tablespace,\n                withNoData: this.config.withNoData\n            },\n            config: {\n                name: this.name,\n                schema: this.schema,\n                selectedFields: aliasedSelection,\n                query: qb.getSQL().inlineParams()\n            }\n        }), selectionProxy);\n    }\n}\nclass ManualMaterializedViewBuilder extends MaterializedViewBuilderCore {\n    static{\n        this[entityKind] = \"PgManualMaterializedViewBuilder\";\n    }\n    constructor(name, columns, schema){\n        super(name, schema);\n        this.columns = getTableColumns(pgTable(name, columns));\n    }\n    existing() {\n        return new Proxy(new PgMaterializedView({\n            pgConfig: undefined,\n            config: {\n                name: this.name,\n                schema: this.schema,\n                selectedFields: this.columns,\n                query: undefined\n            }\n        }), new SelectionProxyHandler({\n            alias: this.name,\n            sqlBehavior: \"error\",\n            sqlAliasedBehavior: \"alias\",\n            replaceOriginalName: true\n        }));\n    }\n    as(query) {\n        return new Proxy(new PgMaterializedView({\n            pgConfig: undefined,\n            config: {\n                name: this.name,\n                schema: this.schema,\n                selectedFields: this.columns,\n                query: query.inlineParams()\n            }\n        }), new SelectionProxyHandler({\n            alias: this.name,\n            sqlBehavior: \"error\",\n            sqlAliasedBehavior: \"alias\",\n            replaceOriginalName: true\n        }));\n    }\n}\nclass PgViewBase extends View {\n    static{\n        this[entityKind] = \"PgViewBase\";\n    }\n}\nconst PgViewConfig = Symbol.for(\"drizzle:PgViewConfig\");\nclass PgView extends PgViewBase {\n    static{\n        this[entityKind] = \"PgView\";\n    }\n    constructor({ pgConfig, config }){\n        super(config);\n        if (pgConfig) {\n            this[PgViewConfig] = {\n                with: pgConfig.with\n            };\n        }\n    }\n}\nconst PgMaterializedViewConfig = Symbol.for(\"drizzle:PgMaterializedViewConfig\");\nclass PgMaterializedView extends PgViewBase {\n    static{\n        this[entityKind] = \"PgMaterializedView\";\n    }\n    constructor({ pgConfig, config }){\n        super(config);\n        this[PgMaterializedViewConfig] = {\n            with: pgConfig?.with,\n            using: pgConfig?.using,\n            tablespace: pgConfig?.tablespace,\n            withNoData: pgConfig?.withNoData\n        };\n    }\n}\n/** @internal */ function pgViewWithSchema(name, selection, schema) {\n    if (selection) {\n        return new ManualViewBuilder(name, selection, schema);\n    }\n    return new ViewBuilder(name, schema);\n}\n/** @internal */ function pgMaterializedViewWithSchema(name, selection, schema) {\n    if (selection) {\n        return new ManualMaterializedViewBuilder(name, selection, schema);\n    }\n    return new MaterializedViewBuilder(name, schema);\n}\nfunction pgView(name, columns) {\n    return pgViewWithSchema(name, columns, undefined);\n}\nfunction pgMaterializedView(name, columns) {\n    return pgMaterializedViewWithSchema(name, columns, undefined);\n}\nclass Relation {\n    static{\n        this[entityKind] = \"Relation\";\n    }\n    constructor(sourceTable, referencedTable, relationName){\n        this.sourceTable = sourceTable;\n        this.referencedTable = referencedTable;\n        this.relationName = relationName;\n        this.referencedTableName = referencedTable[Table.Symbol.Name];\n    }\n}\nclass Relations {\n    static{\n        this[entityKind] = \"Relations\";\n    }\n    constructor(table, config){\n        this.table = table;\n        this.config = config;\n    }\n}\nclass One extends Relation {\n    static{\n        this[entityKind] = \"One\";\n    }\n    constructor(sourceTable, referencedTable, config, isNullable){\n        super(sourceTable, referencedTable, config?.relationName);\n        this.config = config;\n        this.isNullable = isNullable;\n    }\n    withFieldName(fieldName) {\n        const relation = new One(this.sourceTable, this.referencedTable, this.config, this.isNullable);\n        relation.fieldName = fieldName;\n        return relation;\n    }\n}\nclass Many extends Relation {\n    static{\n        this[entityKind] = \"Many\";\n    }\n    constructor(sourceTable, referencedTable, config){\n        super(sourceTable, referencedTable, config?.relationName);\n        this.config = config;\n    }\n    withFieldName(fieldName) {\n        const relation = new Many(this.sourceTable, this.referencedTable, this.config);\n        relation.fieldName = fieldName;\n        return relation;\n    }\n}\nfunction getOperators() {\n    return {\n        and,\n        between,\n        eq,\n        exists,\n        gt,\n        gte,\n        ilike,\n        inArray,\n        isNull,\n        isNotNull,\n        like,\n        lt,\n        lte,\n        ne,\n        not,\n        notBetween,\n        notExists,\n        notLike,\n        notIlike,\n        notInArray,\n        or,\n        sql\n    };\n}\nfunction getOrderByOperators() {\n    return {\n        sql,\n        asc,\n        desc\n    };\n}\nfunction extractTablesRelationalConfig(schema, configHelpers) {\n    if (Object.keys(schema).length === 1 && \"default\" in schema && !is(schema[\"default\"], Table)) {\n        schema = schema[\"default\"];\n    }\n    // table DB name -> schema table key\n    const tableNamesMap = {};\n    // Table relations found before their tables - need to buffer them until we know the schema table key\n    const relationsBuffer = {};\n    const tablesConfig = {};\n    for (const [key, value] of Object.entries(schema)){\n        if (isTable(value)) {\n            const dbName = value[Table.Symbol.Name];\n            const bufferedRelations = relationsBuffer[dbName];\n            tableNamesMap[dbName] = key;\n            tablesConfig[key] = {\n                tsName: key,\n                dbName: value[Table.Symbol.Name],\n                columns: value[Table.Symbol.Columns],\n                relations: bufferedRelations?.relations ?? {},\n                primaryKey: bufferedRelations?.primaryKey ?? []\n            };\n            // Fill in primary keys\n            for (const column of Object.values(value[Table.Symbol.Columns])){\n                if (column.primary) {\n                    tablesConfig[key].primaryKey.push(column);\n                }\n            }\n            const extraConfig = value[Table.Symbol.ExtraConfigBuilder]?.(value);\n            if (extraConfig) {\n                for (const configEntry of Object.values(extraConfig)){\n                    if (is(configEntry, PrimaryKeyBuilder)) {\n                        tablesConfig[key].primaryKey.push(...configEntry.columns);\n                    }\n                }\n            }\n        } else if (is(value, Relations)) {\n            const dbName = value.table[Table.Symbol.Name];\n            const tableName = tableNamesMap[dbName];\n            const relations = value.config(configHelpers(value.table));\n            let primaryKey;\n            for (const [relationName, relation] of Object.entries(relations)){\n                if (tableName) {\n                    const tableConfig = tablesConfig[tableName];\n                    tableConfig.relations[relationName] = relation;\n                } else {\n                    if (!(dbName in relationsBuffer)) {\n                        relationsBuffer[dbName] = {\n                            relations: {},\n                            primaryKey\n                        };\n                    }\n                    relationsBuffer[dbName].relations[relationName] = relation;\n                }\n            }\n        }\n    }\n    return {\n        tables: tablesConfig,\n        tableNamesMap\n    };\n}\nfunction relations(table, relations) {\n    return new Relations(table, (helpers)=>Object.fromEntries(Object.entries(relations(helpers)).map(([key, value])=>[\n                key,\n                value.withFieldName(key)\n            ])));\n}\nfunction createOne(sourceTable) {\n    return function one(table, config) {\n        return new One(sourceTable, table, config, config?.fields.reduce((res, f)=>res && f.notNull, true) ?? false);\n    };\n}\nfunction createMany(sourceTable) {\n    return function many(referencedTable, config) {\n        return new Many(sourceTable, referencedTable, config);\n    };\n}\nfunction normalizeRelation(schema, tableNamesMap, relation) {\n    if (is(relation, One) && relation.config) {\n        return {\n            fields: relation.config.fields,\n            references: relation.config.references\n        };\n    }\n    const referencedTableTsName = tableNamesMap[relation.referencedTable[Table.Symbol.Name]];\n    if (!referencedTableTsName) {\n        throw new Error(`Table \"${relation.referencedTable[Table.Symbol.Name]}\" not found in schema`);\n    }\n    const referencedTableConfig = schema[referencedTableTsName];\n    if (!referencedTableConfig) {\n        throw new Error(`Table \"${referencedTableTsName}\" not found in schema`);\n    }\n    const sourceTable = relation.sourceTable;\n    const sourceTableTsName = tableNamesMap[sourceTable[Table.Symbol.Name]];\n    if (!sourceTableTsName) {\n        throw new Error(`Table \"${sourceTable[Table.Symbol.Name]}\" not found in schema`);\n    }\n    const reverseRelations = [];\n    for (const referencedTableRelation of Object.values(referencedTableConfig.relations)){\n        if (relation.relationName && relation !== referencedTableRelation && referencedTableRelation.relationName === relation.relationName || !relation.relationName && referencedTableRelation.referencedTable === relation.sourceTable) {\n            reverseRelations.push(referencedTableRelation);\n        }\n    }\n    if (reverseRelations.length > 1) {\n        throw relation.relationName ? new Error(`There are multiple relations with name \"${relation.relationName}\" in table \"${referencedTableTsName}\"`) : new Error(`There are multiple relations between \"${referencedTableTsName}\" and \"${relation.sourceTable[Table.Symbol.Name]}\". Please specify relation name`);\n    }\n    if (reverseRelations[0] && is(reverseRelations[0], One) && reverseRelations[0].config) {\n        return {\n            fields: reverseRelations[0].config.references,\n            references: reverseRelations[0].config.fields\n        };\n    }\n    throw new Error(`There is not enough information to infer relation \"${sourceTableTsName}.${relation.fieldName}\"`);\n}\nfunction createTableRelationsHelpers(sourceTable) {\n    return {\n        one: createOne(sourceTable),\n        many: createMany(sourceTable)\n    };\n}\nfunction mapRelationalRow(tablesConfig, tableConfig, row, buildQueryResultSelection, mapColumnValue = (value)=>value) {\n    const result = {};\n    for (const [selectionItemIndex, selectionItem] of buildQueryResultSelection.entries()){\n        if (selectionItem.isJson) {\n            const relation = tableConfig.relations[selectionItem.tsKey];\n            const rawSubRows = row[selectionItemIndex];\n            const subRows = typeof rawSubRows === \"string\" ? JSON.parse(rawSubRows) : rawSubRows;\n            result[selectionItem.tsKey] = is(relation, One) ? subRows && mapRelationalRow(tablesConfig, tablesConfig[selectionItem.relationTableTsKey], subRows, selectionItem.selection, mapColumnValue) : subRows.map((subRow)=>mapRelationalRow(tablesConfig, tablesConfig[selectionItem.relationTableTsKey], subRow, selectionItem.selection, mapColumnValue));\n        } else {\n            const value = mapColumnValue(row[selectionItemIndex]);\n            const field = selectionItem.field;\n            let decoder;\n            if (is(field, Column)) {\n                decoder = field;\n            } else if (is(field, SQL)) {\n                decoder = field.decoder;\n            } else {\n                decoder = field.sql.decoder;\n            }\n            result[selectionItem.tsKey] = value === null ? null : decoder.mapFromDriverValue(value);\n        }\n    }\n    return result;\n}\nfunction bindIfParam(value, column) {\n    if (isDriverValueEncoder(column) && !isSQLWrapper(value) && !is(value, Param) && !is(value, Placeholder) && !is(value, Column) && !is(value, Table) && !is(value, View)) {\n        return new Param(value, column);\n    }\n    return value;\n}\n/**\n * Test that two values are equal.\n *\n * Remember that the SQL standard dictates that\n * two NULL values are not equal, so if you want to test\n * whether a value is null, you may want to use\n * `isNull` instead.\n *\n * ## Examples\n *\n * ```ts\n * // Select cars made by Ford\n * db.select().from(cars)\n *   .where(eq(cars.make, 'Ford'))\n * ```\n *\n * @see isNull for a way to test equality to NULL.\n */ const eq = (left, right)=>{\n    return sql`${left} = ${bindIfParam(right, left)}`;\n};\n/**\n * Test that two values are not equal.\n *\n * Remember that the SQL standard dictates that\n * two NULL values are not equal, so if you want to test\n * whether a value is not null, you may want to use\n * `isNotNull` instead.\n *\n * ## Examples\n *\n * ```ts\n * // Select cars not made by Ford\n * db.select().from(cars)\n *   .where(ne(cars.make, 'Ford'))\n * ```\n *\n * @see isNotNull for a way to test whether a value is not null.\n */ const ne = (left, right)=>{\n    return sql`${left} <> ${bindIfParam(right, left)}`;\n};\nfunction and(...unfilteredConditions) {\n    const conditions = unfilteredConditions.filter((c)=>c !== undefined);\n    if (conditions.length === 0) {\n        return undefined;\n    }\n    if (conditions.length === 1) {\n        return new SQL(conditions);\n    }\n    return new SQL([\n        new StringChunk(\"(\"),\n        sql.join(conditions, new StringChunk(\" and \")),\n        new StringChunk(\")\")\n    ]);\n}\nfunction or(...unfilteredConditions) {\n    const conditions = unfilteredConditions.filter((c)=>c !== undefined);\n    if (conditions.length === 0) {\n        return undefined;\n    }\n    if (conditions.length === 1) {\n        return new SQL(conditions);\n    }\n    return new SQL([\n        new StringChunk(\"(\"),\n        sql.join(conditions, new StringChunk(\" or \")),\n        new StringChunk(\")\")\n    ]);\n}\n/**\n * Negate the meaning of an expression using the `not` keyword.\n *\n * ## Examples\n *\n * ```ts\n * // Select cars _not_ made by GM or Ford.\n * db.select().from(cars)\n *   .where(not(inArray(cars.make, ['GM', 'Ford'])))\n * ```\n */ function not(condition) {\n    return sql`not ${condition}`;\n}\n/**\n * Test that the first expression passed is greater than\n * the second expression.\n *\n * ## Examples\n *\n * ```ts\n * // Select cars made after 2000.\n * db.select().from(cars)\n *   .where(gt(cars.year, 2000))\n * ```\n *\n * @see gte for greater-than-or-equal\n */ const gt = (left, right)=>{\n    return sql`${left} > ${bindIfParam(right, left)}`;\n};\n/**\n * Test that the first expression passed is greater than\n * or equal to the second expression. Use `gt` to\n * test whether an expression is strictly greater\n * than another.\n *\n * ## Examples\n *\n * ```ts\n * // Select cars made on or after 2000.\n * db.select().from(cars)\n *   .where(gte(cars.year, 2000))\n * ```\n *\n * @see gt for a strictly greater-than condition\n */ const gte = (left, right)=>{\n    return sql`${left} >= ${bindIfParam(right, left)}`;\n};\n/**\n * Test that the first expression passed is less than\n * the second expression.\n *\n * ## Examples\n *\n * ```ts\n * // Select cars made before 2000.\n * db.select().from(cars)\n *   .where(lt(cars.year, 2000))\n * ```\n *\n * @see lte for greater-than-or-equal\n */ const lt = (left, right)=>{\n    return sql`${left} < ${bindIfParam(right, left)}`;\n};\n/**\n * Test that the first expression passed is less than\n * or equal to the second expression.\n *\n * ## Examples\n *\n * ```ts\n * // Select cars made before 2000.\n * db.select().from(cars)\n *   .where(lte(cars.year, 2000))\n * ```\n *\n * @see lt for a strictly less-than condition\n */ const lte = (left, right)=>{\n    return sql`${left} <= ${bindIfParam(right, left)}`;\n};\nfunction inArray(column, values) {\n    if (Array.isArray(values)) {\n        if (values.length === 0) {\n            throw new Error(\"inArray requires at least one value\");\n        }\n        return sql`${column} in ${values.map((v)=>bindIfParam(v, column))}`;\n    }\n    return sql`${column} in ${bindIfParam(values, column)}`;\n}\nfunction notInArray(column, values) {\n    if (Array.isArray(values)) {\n        if (values.length === 0) {\n            throw new Error(\"notInArray requires at least one value\");\n        }\n        return sql`${column} not in ${values.map((v)=>bindIfParam(v, column))}`;\n    }\n    return sql`${column} not in ${bindIfParam(values, column)}`;\n}\n/**\n * Test whether an expression is NULL. By the SQL standard,\n * NULL is neither equal nor not equal to itself, so\n * it's recommended to use `isNull` and `notIsNull` for\n * comparisons to NULL.\n *\n * ## Examples\n *\n * ```ts\n * // Select cars that have no discontinuedAt date.\n * db.select().from(cars)\n *   .where(isNull(cars.discontinuedAt))\n * ```\n *\n * @see isNotNull for the inverse of this test\n */ function isNull(value) {\n    return sql`${value} is null`;\n}\n/**\n * Test whether an expression is not NULL. By the SQL standard,\n * NULL is neither equal nor not equal to itself, so\n * it's recommended to use `isNull` and `notIsNull` for\n * comparisons to NULL.\n *\n * ## Examples\n *\n * ```ts\n * // Select cars that have been discontinued.\n * db.select().from(cars)\n *   .where(isNotNull(cars.discontinuedAt))\n * ```\n *\n * @see isNull for the inverse of this test\n */ function isNotNull(value) {\n    return sql`${value} is not null`;\n}\n/**\n * Test whether a subquery evaluates to have any rows.\n *\n * ## Examples\n *\n * ```ts\n * // Users whose `homeCity` column has a match in a cities\n * // table.\n * db\n *   .select()\n *   .from(users)\n *   .where(\n *     exists(db.select()\n *       .from(cities)\n *       .where(eq(users.homeCity, cities.id))),\n *   );\n * ```\n *\n * @see notExists for the inverse of this test\n */ function exists(subquery) {\n    return sql`exists (${subquery})`;\n}\n/**\n * Test whether a subquery doesn't include any result\n * rows.\n *\n * ## Examples\n *\n * ```ts\n * // Users whose `homeCity` column doesn't match\n * // a row in the cities table.\n * db\n *   .select()\n *   .from(users)\n *   .where(\n *     notExists(db.select()\n *       .from(cities)\n *       .where(eq(users.homeCity, cities.id))),\n *   );\n * ```\n *\n * @see exists for the inverse of this test\n */ function notExists(subquery) {\n    return sql`not exists (${subquery})`;\n}\nfunction between(column, min, max) {\n    return sql`${column} between ${bindIfParam(min, column)} and ${bindIfParam(max, column)}`;\n}\nfunction notBetween(column, min, max) {\n    return sql`${column} not between ${bindIfParam(min, column)} and ${bindIfParam(max, column)}`;\n}\n/**\n * Compare a column to a pattern, which can include `%` and `_`\n * characters to match multiple variations. Including `%`\n * in the pattern matches zero or more characters, and including\n * `_` will match a single character.\n *\n * ## Examples\n *\n * ```ts\n * // Select all cars with 'Turbo' in their names.\n * db.select().from(cars)\n *   .where(like(cars.name, '%Turbo%'))\n * ```\n *\n * @see ilike for a case-insensitive version of this condition\n */ function like(column, value) {\n    return sql`${column} like ${value}`;\n}\n/**\n * The inverse of like - this tests that a given column\n * does not match a pattern, which can include `%` and `_`\n * characters to match multiple variations. Including `%`\n * in the pattern matches zero or more characters, and including\n * `_` will match a single character.\n *\n * ## Examples\n *\n * ```ts\n * // Select all cars that don't have \"ROver\" in their name.\n * db.select().from(cars)\n *   .where(notLike(cars.name, '%Rover%'))\n * ```\n *\n * @see like for the inverse condition\n * @see notIlike for a case-insensitive version of this condition\n */ function notLike(column, value) {\n    return sql`${column} not like ${value}`;\n}\n/**\n * Case-insensitively compare a column to a pattern,\n * which can include `%` and `_`\n * characters to match multiple variations. Including `%`\n * in the pattern matches zero or more characters, and including\n * `_` will match a single character.\n *\n * Unlike like, this performs a case-insensitive comparison.\n *\n * ## Examples\n *\n * ```ts\n * // Select all cars with 'Turbo' in their names.\n * db.select().from(cars)\n *   .where(ilike(cars.name, '%Turbo%'))\n * ```\n *\n * @see like for a case-sensitive version of this condition\n */ function ilike(column, value) {\n    return sql`${column} ilike ${value}`;\n}\n/**\n * The inverse of ilike - this case-insensitively tests that a given column\n * does not match a pattern, which can include `%` and `_`\n * characters to match multiple variations. Including `%`\n * in the pattern matches zero or more characters, and including\n * `_` will match a single character.\n *\n * ## Examples\n *\n * ```ts\n * // Select all cars that don't have \"Rover\" in their name.\n * db.select().from(cars)\n *   .where(notLike(cars.name, '%Rover%'))\n * ```\n *\n * @see ilike for the inverse condition\n * @see notLike for a case-sensitive version of this condition\n */ function notIlike(column, value) {\n    return sql`${column} not ilike ${value}`;\n}\nfunction arrayContains(column, values) {\n    if (Array.isArray(values)) {\n        if (values.length === 0) {\n            throw new Error(\"arrayContains requires at least one value\");\n        }\n        const array = sql`${bindIfParam(values, column)}`;\n        return sql`${column} @> ${array}`;\n    }\n    return sql`${column} @> ${bindIfParam(values, column)}`;\n}\nfunction arrayContained(column, values) {\n    if (Array.isArray(values)) {\n        if (values.length === 0) {\n            throw new Error(\"arrayContained requires at least one value\");\n        }\n        const array = sql`${bindIfParam(values, column)}`;\n        return sql`${column} <@ ${array}`;\n    }\n    return sql`${column} <@ ${bindIfParam(values, column)}`;\n}\nfunction arrayOverlaps(column, values) {\n    if (Array.isArray(values)) {\n        if (values.length === 0) {\n            throw new Error(\"arrayOverlaps requires at least one value\");\n        }\n        const array = sql`${bindIfParam(values, column)}`;\n        return sql`${column} && ${array}`;\n    }\n    return sql`${column} && ${bindIfParam(values, column)}`;\n}\n/**\n * Used in sorting, this specifies that the given\n * column or expression should be sorted in ascending\n * order. By the SQL standard, ascending order is the\n * default, so it is not usually necessary to specify\n * ascending sort order.\n *\n * ## Examples\n *\n * ```ts\n * // Return cars, starting with the oldest models\n * // and going in ascending order to the newest.\n * db.select().from(cars)\n *   .orderBy(asc(cars.year));\n * ```\n *\n * @see desc to sort in descending order\n */ function asc(column) {\n    return sql`${column} asc`;\n}\n/**\n * Used in sorting, this specifies that the given\n * column or expression should be sorted in descending\n * order.\n *\n * ## Examples\n *\n * ```ts\n * // Select users, with the most recently created\n * // records coming first.\n * db.select().from(users)\n *   .orderBy(desc(users.createdAt));\n * ```\n *\n * @see asc to sort in ascending order\n */ function desc(column) {\n    return sql`${column} desc`;\n}\n/**\n * This class is used to indicate a primitive param value that is used in `sql` tag.\n * It is only used on type level and is never instantiated at runtime.\n * If you see a value of this type in the code, its runtime value is actually the primitive param value.\n */ class FakePrimitiveParam {\n    static{\n        this[entityKind] = \"FakePrimitiveParam\";\n    }\n}\nfunction isSQLWrapper(value) {\n    return typeof value === \"object\" && value !== null && \"getSQL\" in value && typeof value.getSQL === \"function\";\n}\nfunction mergeQueries(queries) {\n    const result = {\n        sql: \"\",\n        params: []\n    };\n    for (const query of queries){\n        result.sql += query.sql;\n        result.params.push(...query.params);\n        if (query.typings?.length) {\n            if (!result.typings) {\n                result.typings = [];\n            }\n            result.typings.push(...query.typings);\n        }\n    }\n    return result;\n}\nclass StringChunk {\n    static{\n        this[entityKind] = \"StringChunk\";\n    }\n    constructor(value){\n        this.value = Array.isArray(value) ? value : [\n            value\n        ];\n    }\n    getSQL() {\n        return new SQL([\n            this\n        ]);\n    }\n}\nclass SQL {\n    static{\n        this[entityKind] = \"SQL\";\n    }\n    constructor(queryChunks){\n        /** @internal */ this.decoder = noopDecoder;\n        this.shouldInlineParams = false;\n        this.queryChunks = queryChunks;\n    }\n    append(query) {\n        this.queryChunks.push(...query.queryChunks);\n        return this;\n    }\n    toQuery(config) {\n        return tracer.startActiveSpan(\"drizzle.buildSQL\", (span)=>{\n            const query = this.buildQueryFromSourceParams(this.queryChunks, config);\n            span?.setAttributes({\n                \"drizzle.query.text\": query.sql,\n                \"drizzle.query.params\": JSON.stringify(query.params)\n            });\n            return query;\n        });\n    }\n    buildQueryFromSourceParams(chunks, _config) {\n        const config = Object.assign({}, _config, {\n            inlineParams: _config.inlineParams || this.shouldInlineParams,\n            paramStartIndex: _config.paramStartIndex || {\n                value: 0\n            }\n        });\n        const { escapeName, escapeParam, prepareTyping, inlineParams, paramStartIndex } = config;\n        return mergeQueries(chunks.map((chunk)=>{\n            if (is(chunk, StringChunk)) {\n                return {\n                    sql: chunk.value.join(\"\"),\n                    params: []\n                };\n            }\n            if (is(chunk, Name)) {\n                return {\n                    sql: escapeName(chunk.value),\n                    params: []\n                };\n            }\n            if (chunk === undefined) {\n                return {\n                    sql: \"\",\n                    params: []\n                };\n            }\n            if (Array.isArray(chunk)) {\n                const result = [\n                    new StringChunk(\"(\")\n                ];\n                for (const [i, p] of chunk.entries()){\n                    result.push(p);\n                    if (i < chunk.length - 1) {\n                        result.push(new StringChunk(\", \"));\n                    }\n                }\n                result.push(new StringChunk(\")\"));\n                return this.buildQueryFromSourceParams(result, config);\n            }\n            if (is(chunk, SQL)) {\n                return this.buildQueryFromSourceParams(chunk.queryChunks, {\n                    ...config,\n                    inlineParams: inlineParams || chunk.shouldInlineParams\n                });\n            }\n            if (is(chunk, Table)) {\n                const schemaName = chunk[Table.Symbol.Schema];\n                const tableName = chunk[Table.Symbol.Name];\n                return {\n                    sql: schemaName === undefined ? escapeName(tableName) : escapeName(schemaName) + \".\" + escapeName(tableName),\n                    params: []\n                };\n            }\n            if (is(chunk, Column)) {\n                return {\n                    sql: escapeName(chunk.table[Table.Symbol.Name]) + \".\" + escapeName(chunk.name),\n                    params: []\n                };\n            }\n            if (is(chunk, View)) {\n                const schemaName = chunk[ViewBaseConfig].schema;\n                const viewName = chunk[ViewBaseConfig].name;\n                return {\n                    sql: schemaName === undefined ? escapeName(viewName) : escapeName(schemaName) + \".\" + escapeName(viewName),\n                    params: []\n                };\n            }\n            if (is(chunk, Param)) {\n                const mappedValue = chunk.value === null ? null : chunk.encoder.mapToDriverValue(chunk.value);\n                if (is(mappedValue, SQL)) {\n                    return this.buildQueryFromSourceParams([\n                        mappedValue\n                    ], config);\n                }\n                if (inlineParams) {\n                    return {\n                        sql: this.mapInlineParam(mappedValue, config),\n                        params: []\n                    };\n                }\n                let typings;\n                if (prepareTyping !== undefined) {\n                    typings = [\n                        prepareTyping(chunk.encoder)\n                    ];\n                }\n                return {\n                    sql: escapeParam(paramStartIndex.value++, mappedValue),\n                    params: [\n                        mappedValue\n                    ],\n                    typings\n                };\n            }\n            if (is(chunk, Placeholder)) {\n                return {\n                    sql: escapeParam(paramStartIndex.value++, chunk),\n                    params: [\n                        chunk\n                    ]\n                };\n            }\n            if (is(chunk, SQL.Aliased) && chunk.fieldAlias !== undefined) {\n                return {\n                    sql: escapeName(chunk.fieldAlias),\n                    params: []\n                };\n            }\n            if (is(chunk, Subquery)) {\n                if (chunk[SubqueryConfig].isWith) {\n                    return {\n                        sql: escapeName(chunk[SubqueryConfig].alias),\n                        params: []\n                    };\n                }\n                return this.buildQueryFromSourceParams([\n                    new StringChunk(\"(\"),\n                    chunk[SubqueryConfig].sql,\n                    new StringChunk(\") \"),\n                    new Name(chunk[SubqueryConfig].alias)\n                ], config);\n            }\n            // if (is(chunk, Placeholder)) {\n            // \treturn {sql: escapeParam}\n            if (isSQLWrapper(chunk)) {\n                return this.buildQueryFromSourceParams([\n                    new StringChunk(\"(\"),\n                    chunk.getSQL(),\n                    new StringChunk(\")\")\n                ], config);\n            }\n            if (is(chunk, Relation)) {\n                return this.buildQueryFromSourceParams([\n                    chunk.sourceTable,\n                    new StringChunk(\".\"),\n                    sql.identifier(chunk.fieldName)\n                ], config);\n            }\n            if (inlineParams) {\n                return {\n                    sql: this.mapInlineParam(chunk, config),\n                    params: []\n                };\n            }\n            return {\n                sql: escapeParam(paramStartIndex.value++, chunk),\n                params: [\n                    chunk\n                ]\n            };\n        }));\n    }\n    mapInlineParam(chunk, { escapeString }) {\n        if (chunk === null) {\n            return \"null\";\n        }\n        if (typeof chunk === \"number\" || typeof chunk === \"boolean\") {\n            return chunk.toString();\n        }\n        if (typeof chunk === \"string\") {\n            return escapeString(chunk);\n        }\n        if (typeof chunk === \"object\") {\n            const mappedValueAsString = chunk.toString();\n            if (mappedValueAsString === \"[object Object]\") {\n                return escapeString(JSON.stringify(chunk));\n            }\n            return escapeString(mappedValueAsString);\n        }\n        throw new Error(\"Unexpected param value: \" + chunk);\n    }\n    getSQL() {\n        return this;\n    }\n    as(alias) {\n        // TODO: remove with deprecated overloads\n        if (alias === undefined) {\n            return this;\n        }\n        return new SQL.Aliased(this, alias);\n    }\n    mapWith(decoder) {\n        this.decoder = typeof decoder === \"function\" ? {\n            mapFromDriverValue: decoder\n        } : decoder;\n        return this;\n    }\n    inlineParams() {\n        this.shouldInlineParams = true;\n        return this;\n    }\n}\n/**\n * Any DB name (table, column, index etc.)\n */ class Name {\n    static{\n        this[entityKind] = \"Name\";\n    }\n    constructor(value){\n        this.value = value;\n    }\n    getSQL() {\n        return new SQL([\n            this\n        ]);\n    }\n}\n/**\n * Any DB name (table, column, index etc.)\n * @deprecated Use `sql.identifier` instead.\n */ function name(value) {\n    return new Name(value);\n}\nfunction isDriverValueEncoder(value) {\n    return typeof value === \"object\" && value !== null && \"mapToDriverValue\" in value && typeof value.mapToDriverValue === \"function\";\n}\nconst noopDecoder = {\n    mapFromDriverValue: (value)=>value\n};\nconst noopEncoder = {\n    mapToDriverValue: (value)=>value\n};\nconst noopMapper = {\n    ...noopDecoder,\n    ...noopEncoder\n};\n/** Parameter value that is optionally bound to an encoder (for example, a column). */ class Param {\n    static{\n        this[entityKind] = \"Param\";\n    }\n    /**\n     * @param value - Parameter value\n     * @param encoder - Encoder to convert the value to a driver parameter\n     */ constructor(value, encoder = noopEncoder){\n        this.value = value;\n        this.encoder = encoder;\n    }\n    getSQL() {\n        return new SQL([\n            this\n        ]);\n    }\n}\n/** @deprecated Use `sql.param` instead. */ function param(value, encoder) {\n    return new Param(value, encoder);\n}\n/*\n    The type of `params` is specified as `SQLSourceParam[]`, but that's slightly incorrect -\n    in runtime, users won't pass `FakePrimitiveParam` instances as `params` - they will pass primitive values\n    which will be wrapped in `Param` using `buildChunksFromParam(...)`. That's why the overload\n    specify `params` as `any[]` and not as `SQLSourceParam[]`. This type is used to make our lives easier and\n    the type checker happy.\n*/ function sql(strings, ...params) {\n    const queryChunks = [];\n    if (params.length > 0 || strings.length > 0 && strings[0] !== \"\") {\n        queryChunks.push(new StringChunk(strings[0]));\n    }\n    for (const [paramIndex, param] of params.entries()){\n        queryChunks.push(param, new StringChunk(strings[paramIndex + 1]));\n    }\n    return new SQL(queryChunks);\n}\n(function(sql) {\n    function empty() {\n        return new SQL([]);\n    }\n    sql.empty = empty;\n    /** @deprecated - use `sql.join()` */ function fromList(list) {\n        return new SQL(list);\n    }\n    sql.fromList = fromList;\n    /**\n     * Convenience function to create an SQL query from a raw string.\n     * @param str The raw SQL query string.\n     */ function raw(str) {\n        return new SQL([\n            new StringChunk(str)\n        ]);\n    }\n    sql.raw = raw;\n    /**\n     * Join a list of SQL chunks with a separator.\n     * @example\n     * ```ts\n     * const query = sql.join([sql`a`, sql`b`, sql`c`]);\n     * // sql`abc`\n     * ```\n     * @example\n     * ```ts\n     * const query = sql.join([sql`a`, sql`b`, sql`c`], sql`, `);\n     * // sql`a, b, c`\n     * ```\n     */ function join(chunks, separator) {\n        const result = [];\n        for (const [i, chunk] of chunks.entries()){\n            if (i > 0 && separator !== undefined) {\n                result.push(separator);\n            }\n            result.push(chunk);\n        }\n        return new SQL(result);\n    }\n    sql.join = join;\n    /**\n     * Create a SQL chunk that represents a DB identifier (table, column, index etc.).\n     * When used in a query, the identifier will be escaped based on the DB engine.\n     * For example, in PostgreSQL, identifiers are escaped with double quotes.\n     *\n     * **WARNING: This function does not offer any protection against SQL injections, so you must validate any user input beforehand.**\n     *\n     * @example ```ts\n     * const query = sql`SELECT * FROM ${sql.identifier('my-table')}`;\n     * // 'SELECT * FROM \"my-table\"'\n     * ```\n     */ function identifier(value) {\n        return new Name(value);\n    }\n    sql.identifier = identifier;\n    function placeholder(name) {\n        return new Placeholder(name);\n    }\n    sql.placeholder = placeholder;\n    function param(value, encoder) {\n        return new Param(value, encoder);\n    }\n    sql.param = param;\n})(sql || (sql = {}));\n(function(SQL) {\n    class Aliased {\n        static{\n            this[entityKind] = \"SQL.Aliased\";\n        }\n        constructor(sql, fieldAlias){\n            /** @internal */ this.isSelectionField = false;\n            this.sql = sql;\n            this.fieldAlias = fieldAlias;\n        }\n        getSQL() {\n            return this.sql;\n        }\n        /** @internal */ clone() {\n            return new Aliased(this.sql, this.fieldAlias);\n        }\n    }\n    SQL.Aliased = Aliased;\n})(SQL || (SQL = {}));\nclass Placeholder {\n    static{\n        this[entityKind] = \"Placeholder\";\n    }\n    constructor(name){\n        this.name = name;\n    }\n    getSQL() {\n        return new SQL([\n            this\n        ]);\n    }\n}\n/** @deprecated Use `sql.placeholder` instead. */ function placeholder(name) {\n    return new Placeholder(name);\n}\nfunction fillPlaceholders(params, values) {\n    return params.map((p)=>{\n        if (is(p, Placeholder)) {\n            if (!(p.name in values)) {\n                throw new Error(`No value for placeholder \"${p.name}\" was provided`);\n            }\n            return values[p.name];\n        }\n        return p;\n    });\n}\n// Defined separately from the Column class to resolve circular dependency\nColumn.prototype.getSQL = function() {\n    return new SQL([\n        this\n    ]);\n};\nclass ColumnAliasProxyHandler {\n    static{\n        this[entityKind] = \"ColumnAliasProxyHandler\";\n    }\n    constructor(table){\n        this.table = table;\n    }\n    get(columnObj, prop) {\n        if (prop === \"table\") {\n            return this.table;\n        }\n        return columnObj[prop];\n    }\n}\nclass TableAliasProxyHandler {\n    static{\n        this[entityKind] = \"TableAliasProxyHandler\";\n    }\n    constructor(alias, replaceOriginalName){\n        this.alias = alias;\n        this.replaceOriginalName = replaceOriginalName;\n    }\n    get(target, prop) {\n        if (prop === Table.Symbol.IsAlias) {\n            return true;\n        }\n        if (prop === Table.Symbol.Name) {\n            return this.alias;\n        }\n        if (this.replaceOriginalName && prop === Table.Symbol.OriginalName) {\n            return this.alias;\n        }\n        if (prop === ViewBaseConfig) {\n            return {\n                ...target[ViewBaseConfig],\n                name: this.alias,\n                isAlias: true\n            };\n        }\n        if (prop === Table.Symbol.Columns) {\n            const columns = target[Table.Symbol.Columns];\n            if (!columns) {\n                return columns;\n            }\n            const proxiedColumns = {};\n            Object.keys(columns).map((key)=>{\n                proxiedColumns[key] = new Proxy(columns[key], new ColumnAliasProxyHandler(new Proxy(target, this)));\n            });\n            return proxiedColumns;\n        }\n        const value = target[prop];\n        if (is(value, Column)) {\n            return new Proxy(value, new ColumnAliasProxyHandler(new Proxy(target, this)));\n        }\n        return value;\n    }\n}\nclass RelationTableAliasProxyHandler {\n    static{\n        this[entityKind] = \"RelationTableAliasProxyHandler\";\n    }\n    constructor(alias){\n        this.alias = alias;\n    }\n    get(target, prop) {\n        if (prop === \"sourceTable\") {\n            return aliasedTable(target.sourceTable, this.alias);\n        }\n        return target[prop];\n    }\n}\nfunction aliasedTable(table, tableAlias) {\n    return new Proxy(table, new TableAliasProxyHandler(tableAlias, false));\n}\nfunction aliasedRelation(relation, tableAlias) {\n    return new Proxy(relation, new RelationTableAliasProxyHandler(tableAlias));\n}\nfunction aliasedTableColumn(column, tableAlias) {\n    return new Proxy(column, new ColumnAliasProxyHandler(new Proxy(column.table, new TableAliasProxyHandler(tableAlias, false))));\n}\nfunction mapColumnsInAliasedSQLToAlias(query, alias) {\n    return new SQL.Aliased(mapColumnsInSQLToAlias(query.sql, alias), query.fieldAlias);\n}\nfunction mapColumnsInSQLToAlias(query, alias) {\n    return sql.join(query.queryChunks.map((c)=>{\n        if (is(c, Column)) {\n            return aliasedTableColumn(c, alias);\n        }\n        if (is(c, SQL)) {\n            return mapColumnsInSQLToAlias(c, alias);\n        }\n        if (is(c, SQL.Aliased)) {\n            return mapColumnsInAliasedSQLToAlias(c, alias);\n        }\n        return c;\n    }));\n}\n //# sourceMappingURL=alias-cf8e03cd.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZHJpenpsZS1vcm0vYWxpYXMtY2Y4ZTAzY2QubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLE1BQU1BLGFBQWFDLE9BQU9DLEdBQUcsQ0FBQztBQUM5QixNQUFNQyxtQkFBbUJGLE9BQU9DLEdBQUcsQ0FBQztBQUNwQyxTQUFTRSxHQUFHQyxLQUFLLEVBQUVDLElBQUk7SUFDbkIsSUFBSSxDQUFDRCxTQUFTLE9BQU9BLFVBQVUsVUFBVTtRQUNyQyxPQUFPO0lBQ1g7SUFDQSxJQUFJQSxpQkFBaUJDLE1BQU07UUFDdkIsT0FBTztJQUNYO0lBQ0EsSUFBSSxDQUFDQyxPQUFPQyxTQUFTLENBQUNDLGNBQWMsQ0FBQ0MsSUFBSSxDQUFDSixNQUFNTixhQUFhO1FBQ3pELE1BQU0sSUFBSVcsTUFBTSxDQUFDLE9BQU8sRUFBRUwsS0FBS00sSUFBSSxJQUFJLFlBQVksNkhBQTZILENBQUM7SUFDckw7SUFDQSxJQUFJQyxNQUFNUixNQUFNUyxXQUFXO0lBQzNCLElBQUlELEtBQUs7UUFDTCxzREFBc0Q7UUFDdEQsTUFBT0EsSUFBSztZQUNSLElBQUliLGNBQWNhLE9BQU9BLEdBQUcsQ0FBQ2IsV0FBVyxLQUFLTSxJQUFJLENBQUNOLFdBQVcsRUFBRTtnQkFDM0QsT0FBTztZQUNYO1lBQ0FhLE1BQU1OLE9BQU9RLGNBQWMsQ0FBQ0Y7UUFDaEM7SUFDSjtJQUNBLE9BQU87QUFDWDtBQUVBOzs7O0FBSUEsR0FDQSxNQUFNRzs7WUFFSyxDQUFDaEIsV0FBVyxHQUFHOztJQWN0QmMsWUFBWUcsS0FBSyxFQUFFQyxNQUFNLENBQUU7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a1M7SUFDWDtBQUNKO0FBRXcyRyxDQUN4MkcsMkNBQTJDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29tLy4vbm9kZV9tb2R1bGVzL2RyaXp6bGUtb3JtL2FsaWFzLWNmOGUwM2NkLm1qcz8yMDA5Il0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGVudGl0eUtpbmQgPSBTeW1ib2wuZm9yKCdkcml6emxlOmVudGl0eUtpbmQnKTtcbmNvbnN0IGhhc093bkVudGl0eUtpbmQgPSBTeW1ib2wuZm9yKCdkcml6emxlOmhhc093bkVudGl0eUtpbmQnKTtcbmZ1bmN0aW9uIGlzKHZhbHVlLCB0eXBlKSB7XG4gICAgaWYgKCF2YWx1ZSB8fCB0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgdHlwZSkgeyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLWluc3RhbmNlb2Yvbm8taW5zdGFuY2VvZlxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCFPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodHlwZSwgZW50aXR5S2luZCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDbGFzcyBcIiR7dHlwZS5uYW1lID8/ICc8dW5rbm93bj4nfVwiIGRvZXNuJ3QgbG9vayBsaWtlIGEgRHJpenpsZSBlbnRpdHkuIElmIHRoaXMgaXMgaW5jb3JyZWN0IGFuZCB0aGUgY2xhc3MgaXMgcHJvdmlkZWQgYnkgRHJpenpsZSwgcGxlYXNlIHJlcG9ydCB0aGlzIGFzIGEgYnVnLmApO1xuICAgIH1cbiAgICBsZXQgY2xzID0gdmFsdWUuY29uc3RydWN0b3I7XG4gICAgaWYgKGNscykge1xuICAgICAgICAvLyBUcmF2ZXJzZSB0aGUgcHJvdG90eXBlIGNoYWluIHRvIGZpbmQgdGhlIGVudGl0eUtpbmRcbiAgICAgICAgd2hpbGUgKGNscykge1xuICAgICAgICAgICAgaWYgKGVudGl0eUtpbmQgaW4gY2xzICYmIGNsc1tlbnRpdHlLaW5kXSA9PT0gdHlwZVtlbnRpdHlLaW5kXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2xzID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKGNscyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKlxuICAgIGBDb2x1bW5gIG9ubHkgYWNjZXB0cyBhIGZ1bGwgYENvbHVtbkNvbmZpZ2AgYXMgaXRzIGdlbmVyaWMuXG4gICAgVG8gaW5mZXIgcGFydHMgb2YgdGhlIGNvbmZpZywgdXNlIGBBbnlDb2x1bW5gIHRoYXQgYWNjZXB0cyBhIHBhcnRpYWwgY29uZmlnLlxuICAgIFNlZSBgR2V0Q29sdW1uRGF0YWAgZm9yIGV4YW1wbGUgdXNhZ2Ugb2YgaW5mZXJyaW5nLlxuKi9cbmNsYXNzIENvbHVtbiB7XG4gICAgdGFibGU7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdDb2x1bW4nO1xuICAgIG5hbWU7XG4gICAgcHJpbWFyeTtcbiAgICBub3ROdWxsO1xuICAgIGRlZmF1bHQ7XG4gICAgZGVmYXVsdEZuO1xuICAgIGhhc0RlZmF1bHQ7XG4gICAgaXNVbmlxdWU7XG4gICAgdW5pcXVlTmFtZTtcbiAgICB1bmlxdWVUeXBlO1xuICAgIGRhdGFUeXBlO1xuICAgIGNvbHVtblR5cGU7XG4gICAgZW51bVZhbHVlcyA9IHVuZGVmaW5lZDtcbiAgICBjb25maWc7XG4gICAgY29uc3RydWN0b3IodGFibGUsIGNvbmZpZykge1xuICAgICAgICB0aGlzLnRhYmxlID0gdGFibGU7XG4gICAgICAgIHRoaXMuY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLm5hbWUgPSBjb25maWcubmFtZTtcbiAgICAgICAgdGhpcy5ub3ROdWxsID0gY29uZmlnLm5vdE51bGw7XG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IGNvbmZpZy5kZWZhdWx0O1xuICAgICAgICB0aGlzLmRlZmF1bHRGbiA9IGNvbmZpZy5kZWZhdWx0Rm47XG4gICAgICAgIHRoaXMuaGFzRGVmYXVsdCA9IGNvbmZpZy5oYXNEZWZhdWx0O1xuICAgICAgICB0aGlzLnByaW1hcnkgPSBjb25maWcucHJpbWFyeUtleTtcbiAgICAgICAgdGhpcy5pc1VuaXF1ZSA9IGNvbmZpZy5pc1VuaXF1ZTtcbiAgICAgICAgdGhpcy51bmlxdWVOYW1lID0gY29uZmlnLnVuaXF1ZU5hbWU7XG4gICAgICAgIHRoaXMudW5pcXVlVHlwZSA9IGNvbmZpZy51bmlxdWVUeXBlO1xuICAgICAgICB0aGlzLmRhdGFUeXBlID0gY29uZmlnLmRhdGFUeXBlO1xuICAgICAgICB0aGlzLmNvbHVtblR5cGUgPSBjb25maWcuY29sdW1uVHlwZTtcbiAgICB9XG4gICAgbWFwRnJvbURyaXZlclZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG4gICAgbWFwVG9Ecml2ZXJWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuXG5jb25zdCBWaWV3QmFzZUNvbmZpZyA9IFN5bWJvbC5mb3IoJ2RyaXp6bGU6Vmlld0Jhc2VDb25maWcnKTtcbmNsYXNzIFZpZXcge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnVmlldyc7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIFtWaWV3QmFzZUNvbmZpZ107XG4gICAgY29uc3RydWN0b3IoeyBuYW1lLCBzY2hlbWEsIHNlbGVjdGVkRmllbGRzLCBxdWVyeSB9KSB7XG4gICAgICAgIHRoaXNbVmlld0Jhc2VDb25maWddID0ge1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIG9yaWdpbmFsTmFtZTogbmFtZSxcbiAgICAgICAgICAgIHNjaGVtYSxcbiAgICAgICAgICAgIHNlbGVjdGVkRmllbGRzLFxuICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LFxuICAgICAgICAgICAgaXNFeGlzdGluZzogIXF1ZXJ5LFxuICAgICAgICAgICAgaXNBbGlhczogZmFsc2UsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGdldFNRTCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTUUwoW3RoaXNdKTtcbiAgICB9XG59XG5cbmNvbnN0IFN1YnF1ZXJ5Q29uZmlnID0gU3ltYm9sLmZvcignZHJpenpsZTpTdWJxdWVyeUNvbmZpZycpO1xuY2xhc3MgU3VicXVlcnkge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU3VicXVlcnknO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBbU3VicXVlcnlDb25maWddO1xuICAgIGNvbnN0cnVjdG9yKHNxbCwgc2VsZWN0aW9uLCBhbGlhcywgaXNXaXRoID0gZmFsc2UpIHtcbiAgICAgICAgdGhpc1tTdWJxdWVyeUNvbmZpZ10gPSB7XG4gICAgICAgICAgICBzcWwsXG4gICAgICAgICAgICBzZWxlY3Rpb24sXG4gICAgICAgICAgICBhbGlhcyxcbiAgICAgICAgICAgIGlzV2l0aCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZ2V0U1FMKCkge1xuICAgICAgICByZXR1cm4gbmV3IFNRTChbdGhpc10pO1xuICAgIH1cbn1cbmNsYXNzIFdpdGhTdWJxdWVyeSBleHRlbmRzIFN1YnF1ZXJ5IHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1dpdGhTdWJxdWVyeSc7XG59XG5jbGFzcyBTZWxlY3Rpb25Qcm94eUhhbmRsZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU2VsZWN0aW9uUHJveHlIYW5kbGVyJztcbiAgICBjb25maWc7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0geyAuLi5jb25maWcgfTtcbiAgICB9XG4gICAgZ2V0KHN1YnF1ZXJ5LCBwcm9wKSB7XG4gICAgICAgIGlmIChwcm9wID09PSBTdWJxdWVyeUNvbmZpZykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5zdWJxdWVyeVtTdWJxdWVyeUNvbmZpZ10sXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBuZXcgUHJveHkoc3VicXVlcnlbU3VicXVlcnlDb25maWddLnNlbGVjdGlvbiwgdGhpcyksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9wID09PSBWaWV3QmFzZUNvbmZpZykge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5zdWJxdWVyeVtWaWV3QmFzZUNvbmZpZ10sXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRGaWVsZHM6IG5ldyBQcm94eShzdWJxdWVyeVtWaWV3QmFzZUNvbmZpZ10uc2VsZWN0ZWRGaWVsZHMsIHRoaXMpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHByb3AgPT09ICdzeW1ib2wnKSB7XG4gICAgICAgICAgICByZXR1cm4gc3VicXVlcnlbcHJvcF07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29sdW1ucyA9IGlzKHN1YnF1ZXJ5LCBTdWJxdWVyeSlcbiAgICAgICAgICAgID8gc3VicXVlcnlbU3VicXVlcnlDb25maWddLnNlbGVjdGlvblxuICAgICAgICAgICAgOiBpcyhzdWJxdWVyeSwgVmlldylcbiAgICAgICAgICAgICAgICA/IHN1YnF1ZXJ5W1ZpZXdCYXNlQ29uZmlnXS5zZWxlY3RlZEZpZWxkc1xuICAgICAgICAgICAgICAgIDogc3VicXVlcnk7XG4gICAgICAgIGNvbnN0IHZhbHVlID0gY29sdW1uc1twcm9wXTtcbiAgICAgICAgaWYgKGlzKHZhbHVlLCBTUUwuQWxpYXNlZCkpIHtcbiAgICAgICAgICAgIC8vIE5ldmVyIHJldHVybiB0aGUgdW5kZXJseWluZyBTUUwgZXhwcmVzc2lvbiBmb3IgYSBmaWVsZCBwcmV2aW91c2x5IHNlbGVjdGVkIGluIGEgc3VicXVlcnlcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5zcWxBbGlhc2VkQmVoYXZpb3IgPT09ICdzcWwnICYmICF2YWx1ZS5pc1NlbGVjdGlvbkZpZWxkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnNxbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gdmFsdWUuY2xvbmUoKTtcbiAgICAgICAgICAgIG5ld1ZhbHVlLmlzU2VsZWN0aW9uRmllbGQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0dXJuIG5ld1ZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpcyh2YWx1ZSwgU1FMKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLnNxbEJlaGF2aW9yID09PSAnc3FsJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgWW91IHRyaWVkIHRvIHJlZmVyZW5jZSBcIiR7cHJvcH1cIiBmaWVsZCBmcm9tIGEgc3VicXVlcnksIHdoaWNoIGlzIGEgcmF3IFNRTCBmaWVsZCwgYnV0IGl0IGRvZXNuJ3QgaGF2ZSBhbiBhbGlhcyBkZWNsYXJlZC4gUGxlYXNlIGFkZCBhbiBhbGlhcyB0byB0aGUgZmllbGQgdXNpbmcgXCIuYXMoJ2FsaWFzJylcIiBtZXRob2QuYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzKHZhbHVlLCBDb2x1bW4pKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcuYWxpYXMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb3h5KHZhbHVlLCBuZXcgQ29sdW1uQWxpYXNQcm94eUhhbmRsZXIobmV3IFByb3h5KHZhbHVlLnRhYmxlLCBuZXcgVGFibGVBbGlhc1Byb3h5SGFuZGxlcih0aGlzLmNvbmZpZy5hbGlhcywgdGhpcy5jb25maWcucmVwbGFjZU9yaWdpbmFsTmFtZSA/PyBmYWxzZSkpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcgfHwgdmFsdWUgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb3h5KHZhbHVlLCBuZXcgU2VsZWN0aW9uUHJveHlIYW5kbGVyKHRoaXMuY29uZmlnKSk7XG4gICAgfVxufVxuXG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiBtYXBSZXN1bHRSb3coY29sdW1ucywgcm93LCBqb2luc05vdE51bGxhYmxlTWFwKSB7XG4gICAgLy8gS2V5IC0+IG5lc3RlZCBvYmplY3Qga2V5LCB2YWx1ZSAtPiB0YWJsZSBuYW1lIGlmIGFsbCBmaWVsZHMgaW4gdGhlIG5lc3RlZCBvYmplY3QgYXJlIGZyb20gdGhlIHNhbWUgdGFibGUsIGZhbHNlIG90aGVyd2lzZVxuICAgIGNvbnN0IG51bGxpZnlNYXAgPSB7fTtcbiAgICBjb25zdCByZXN1bHQgPSBjb2x1bW5zLnJlZHVjZSgocmVzdWx0LCB7IHBhdGgsIGZpZWxkIH0sIGNvbHVtbkluZGV4KSA9PiB7XG4gICAgICAgIGxldCBkZWNvZGVyO1xuICAgICAgICBpZiAoaXMoZmllbGQsIENvbHVtbikpIHtcbiAgICAgICAgICAgIGRlY29kZXIgPSBmaWVsZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpcyhmaWVsZCwgU1FMKSkge1xuICAgICAgICAgICAgZGVjb2RlciA9IGZpZWxkLmRlY29kZXI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBkZWNvZGVyID0gZmllbGQuc3FsLmRlY29kZXI7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG5vZGUgPSByZXN1bHQ7XG4gICAgICAgIGZvciAoY29uc3QgW3BhdGhDaHVua0luZGV4LCBwYXRoQ2h1bmtdIG9mIHBhdGguZW50cmllcygpKSB7XG4gICAgICAgICAgICBpZiAocGF0aENodW5rSW5kZXggPCBwYXRoLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICBpZiAoIShwYXRoQ2h1bmsgaW4gbm9kZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgbm9kZVtwYXRoQ2h1bmtdID0ge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUgPSBub2RlW3BhdGhDaHVua107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCByYXdWYWx1ZSA9IHJvd1tjb2x1bW5JbmRleF07XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBub2RlW3BhdGhDaHVua10gPSByYXdWYWx1ZSA9PT0gbnVsbCA/IG51bGwgOiBkZWNvZGVyLm1hcEZyb21Ecml2ZXJWYWx1ZShyYXdWYWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKGpvaW5zTm90TnVsbGFibGVNYXAgJiYgaXMoZmllbGQsIENvbHVtbikgJiYgcGF0aC5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb2JqZWN0TmFtZSA9IHBhdGhbMF07XG4gICAgICAgICAgICAgICAgICAgIGlmICghKG9iamVjdE5hbWUgaW4gbnVsbGlmeU1hcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG51bGxpZnlNYXBbb2JqZWN0TmFtZV0gPSB2YWx1ZSA9PT0gbnVsbCA/IGdldFRhYmxlTmFtZShmaWVsZC50YWJsZSkgOiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICh0eXBlb2YgbnVsbGlmeU1hcFtvYmplY3ROYW1lXSA9PT0gJ3N0cmluZycgJiYgbnVsbGlmeU1hcFtvYmplY3ROYW1lXSAhPT0gZ2V0VGFibGVOYW1lKGZpZWxkLnRhYmxlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbnVsbGlmeU1hcFtvYmplY3ROYW1lXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSwge30pO1xuICAgIC8vIE51bGxpZnkgYWxsIG5lc3RlZCBvYmplY3RzIGZyb20gbnVsbGlmeU1hcCB0aGF0IGFyZSBudWxsYWJsZVxuICAgIGlmIChqb2luc05vdE51bGxhYmxlTWFwICYmIE9iamVjdC5rZXlzKG51bGxpZnlNYXApLmxlbmd0aCA+IDApIHtcbiAgICAgICAgZm9yIChjb25zdCBbb2JqZWN0TmFtZSwgdGFibGVOYW1lXSBvZiBPYmplY3QuZW50cmllcyhudWxsaWZ5TWFwKSkge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0YWJsZU5hbWUgPT09ICdzdHJpbmcnICYmICFqb2luc05vdE51bGxhYmxlTWFwW3RhYmxlTmFtZV0pIHtcbiAgICAgICAgICAgICAgICByZXN1bHRbb2JqZWN0TmFtZV0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiBvcmRlclNlbGVjdGVkRmllbGRzKGZpZWxkcywgcGF0aFByZWZpeCkge1xuICAgIHJldHVybiBPYmplY3QuZW50cmllcyhmaWVsZHMpLnJlZHVjZSgocmVzdWx0LCBbbmFtZSwgZmllbGRdKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3UGF0aCA9IHBhdGhQcmVmaXggPyBbLi4ucGF0aFByZWZpeCwgbmFtZV0gOiBbbmFtZV07XG4gICAgICAgIGlmIChpcyhmaWVsZCwgQ29sdW1uKSB8fCBpcyhmaWVsZCwgU1FMKSB8fCBpcyhmaWVsZCwgU1FMLkFsaWFzZWQpKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh7IHBhdGg6IG5ld1BhdGgsIGZpZWxkIH0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzKGZpZWxkLCBUYWJsZSkpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKC4uLm9yZGVyU2VsZWN0ZWRGaWVsZHMoZmllbGRbVGFibGUuU3ltYm9sLkNvbHVtbnNdLCBuZXdQYXRoKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCguLi5vcmRlclNlbGVjdGVkRmllbGRzKGZpZWxkLCBuZXdQYXRoKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9LCBbXSk7XG59XG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiBtYXBVcGRhdGVTZXQodGFibGUsIHZhbHVlcykge1xuICAgIGNvbnN0IGVudHJpZXMgPSBPYmplY3QuZW50cmllcyh2YWx1ZXMpXG4gICAgICAgIC5maWx0ZXIoKFssIHZhbHVlXSkgPT4gdmFsdWUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgLm1hcCgoW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB1bmljb3JuL3ByZWZlci10ZXJuYXJ5XG4gICAgICAgIGlmIChpcyh2YWx1ZSwgU1FMKSkge1xuICAgICAgICAgICAgcmV0dXJuIFtrZXksIHZhbHVlXTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBba2V5LCBuZXcgUGFyYW0odmFsdWUsIHRhYmxlW1RhYmxlLlN5bWJvbC5Db2x1bW5zXVtrZXldKV07XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoZW50cmllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB2YWx1ZXMgdG8gc2V0Jyk7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXMoZW50cmllcyk7XG59XG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiBhcHBseU1peGlucyhiYXNlQ2xhc3MsIGV4dGVuZGVkQ2xhc3Nlcykge1xuICAgIGZvciAoY29uc3QgZXh0ZW5kZWRDbGFzcyBvZiBleHRlbmRlZENsYXNzZXMpIHtcbiAgICAgICAgZm9yIChjb25zdCBuYW1lIG9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGV4dGVuZGVkQ2xhc3MucHJvdG90eXBlKSkge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGJhc2VDbGFzcy5wcm90b3R5cGUsIG5hbWUsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZXh0ZW5kZWRDbGFzcy5wcm90b3R5cGUsIG5hbWUpIHx8IE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0VGFibGVDb2x1bW5zKHRhYmxlKSB7XG4gICAgcmV0dXJuIHRhYmxlW1RhYmxlLlN5bWJvbC5Db2x1bW5zXTtcbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmZ1bmN0aW9uIGdldFRhYmxlTGlrZU5hbWUodGFibGUpIHtcbiAgICByZXR1cm4gaXModGFibGUsIFN1YnF1ZXJ5KVxuICAgICAgICA/IHRhYmxlW1N1YnF1ZXJ5Q29uZmlnXS5hbGlhc1xuICAgICAgICA6IGlzKHRhYmxlLCBWaWV3KVxuICAgICAgICAgICAgPyB0YWJsZVtWaWV3QmFzZUNvbmZpZ10ubmFtZVxuICAgICAgICAgICAgOiBpcyh0YWJsZSwgU1FMKVxuICAgICAgICAgICAgICAgID8gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgOiB0YWJsZVtUYWJsZS5TeW1ib2wuSXNBbGlhc11cbiAgICAgICAgICAgICAgICAgICAgPyB0YWJsZVtUYWJsZS5TeW1ib2wuTmFtZV1cbiAgICAgICAgICAgICAgICAgICAgOiB0YWJsZVtUYWJsZS5TeW1ib2wuQmFzZU5hbWVdO1xufVxuZnVuY3Rpb24gaWlmZShmbiwgLi4uYXJncykge1xuICAgIHJldHVybiBmbiguLi5hcmdzKTtcbn1cblxuLyoqIEBpbnRlcm5hbCAqL1xuY29uc3QgVGFibGVOYW1lID0gU3ltYm9sLmZvcignZHJpenpsZTpOYW1lJyk7XG4vKiogQGludGVybmFsICovXG5jb25zdCBTY2hlbWEgPSBTeW1ib2wuZm9yKCdkcml6emxlOlNjaGVtYScpO1xuLyoqIEBpbnRlcm5hbCAqL1xuY29uc3QgQ29sdW1ucyA9IFN5bWJvbC5mb3IoJ2RyaXp6bGU6Q29sdW1ucycpO1xuLyoqIEBpbnRlcm5hbCAqL1xuY29uc3QgT3JpZ2luYWxOYW1lID0gU3ltYm9sLmZvcignZHJpenpsZTpPcmlnaW5hbE5hbWUnKTtcbi8qKiBAaW50ZXJuYWwgKi9cbmNvbnN0IEJhc2VOYW1lID0gU3ltYm9sLmZvcignZHJpenpsZTpCYXNlTmFtZScpO1xuLyoqIEBpbnRlcm5hbCAqL1xuY29uc3QgSXNBbGlhcyA9IFN5bWJvbC5mb3IoJ2RyaXp6bGU6SXNBbGlhcycpO1xuLyoqIEBpbnRlcm5hbCAqL1xuY29uc3QgRXh0cmFDb25maWdCdWlsZGVyID0gU3ltYm9sLmZvcignZHJpenpsZTpFeHRyYUNvbmZpZ0J1aWxkZXInKTtcbmNvbnN0IElzRHJpenpsZVRhYmxlID0gU3ltYm9sLmZvcignZHJpenpsZTpJc0RyaXp6bGVUYWJsZScpO1xuY2xhc3MgVGFibGUge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnVGFibGUnO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBzdGF0aWMgU3ltYm9sID0ge1xuICAgICAgICBOYW1lOiBUYWJsZU5hbWUsXG4gICAgICAgIFNjaGVtYTogU2NoZW1hLFxuICAgICAgICBPcmlnaW5hbE5hbWU6IE9yaWdpbmFsTmFtZSxcbiAgICAgICAgQ29sdW1uczogQ29sdW1ucyxcbiAgICAgICAgQmFzZU5hbWU6IEJhc2VOYW1lLFxuICAgICAgICBJc0FsaWFzOiBJc0FsaWFzLFxuICAgICAgICBFeHRyYUNvbmZpZ0J1aWxkZXI6IEV4dHJhQ29uZmlnQnVpbGRlcixcbiAgICB9O1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqIENhbiBiZSBjaGFuZ2VkIGlmIHRoZSB0YWJsZSBpcyBhbGlhc2VkLlxuICAgICAqL1xuICAgIFtUYWJsZU5hbWVdO1xuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqIFVzZWQgdG8gc3RvcmUgdGhlIG9yaWdpbmFsIG5hbWUgb2YgdGhlIHRhYmxlLCBiZWZvcmUgYW55IGFsaWFzaW5nLlxuICAgICAqL1xuICAgIFtPcmlnaW5hbE5hbWVdO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBbU2NoZW1hXTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgW0NvbHVtbnNdO1xuICAgIC8qKlxuICAgICAqICBAaW50ZXJuYWxcbiAgICAgKiBVc2VkIHRvIHN0b3JlIHRoZSB0YWJsZSBuYW1lIGJlZm9yZSB0aGUgdHJhbnNmb3JtYXRpb24gdmlhIHRoZSBgdGFibGVDcmVhdG9yYCBmdW5jdGlvbnMuXG4gICAgICovXG4gICAgW0Jhc2VOYW1lXTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgW0lzQWxpYXNdID0gZmFsc2U7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIFtFeHRyYUNvbmZpZ0J1aWxkZXJdID0gdW5kZWZpbmVkO1xuICAgIFtJc0RyaXp6bGVUYWJsZV0gPSB0cnVlO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHNjaGVtYSwgYmFzZU5hbWUpIHtcbiAgICAgICAgdGhpc1tUYWJsZU5hbWVdID0gdGhpc1tPcmlnaW5hbE5hbWVdID0gbmFtZTtcbiAgICAgICAgdGhpc1tTY2hlbWFdID0gc2NoZW1hO1xuICAgICAgICB0aGlzW0Jhc2VOYW1lXSA9IGJhc2VOYW1lO1xuICAgIH1cbiAgICBnZXRTUUwoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU1FMKFt0aGlzXSk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNUYWJsZSh0YWJsZSkge1xuICAgIHJldHVybiB0eXBlb2YgdGFibGUgPT09ICdvYmplY3QnICYmIHRhYmxlICE9PSBudWxsICYmIElzRHJpenpsZVRhYmxlIGluIHRhYmxlO1xufVxuZnVuY3Rpb24gZ2V0VGFibGVOYW1lKHRhYmxlKSB7XG4gICAgcmV0dXJuIHRhYmxlW1RhYmxlTmFtZV07XG59XG5cbmNsYXNzIFF1ZXJ5UHJvbWlzZSB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdRdWVyeVByb21pc2UnO1xuICAgIFtTeW1ib2wudG9TdHJpbmdUYWddID0gJ1F1ZXJ5UHJvbWlzZSc7XG4gICAgY2F0Y2gob25SZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aGVuKHVuZGVmaW5lZCwgb25SZWplY3RlZCk7XG4gICAgfVxuICAgIGZpbmFsbHkob25GaW5hbGx5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRoZW4oKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBvbkZpbmFsbHk/LigpO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9LCAocmVhc29uKSA9PiB7XG4gICAgICAgICAgICBvbkZpbmFsbHk/LigpO1xuICAgICAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy5leGVjdXRlKCkudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCk7XG4gICAgfVxufVxuXG4vKiogQGludGVybmFsICovXG5jb25zdCB0cmFjZXIgPSB7XG4gICAgc3RhcnRBY3RpdmVTcGFuKG5hbWUsIGZuKSB7XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmbigpO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5cbmNsYXNzIERyaXp6bGVFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ0RyaXp6bGVFcnJvcic7XG4gICAgY29uc3RydWN0b3IobWVzc2FnZSkge1xuICAgICAgICBzdXBlcihtZXNzYWdlKTtcbiAgICAgICAgdGhpcy5uYW1lID0gJ0RyaXp6bGVFcnJvcic7XG4gICAgfVxuICAgIHN0YXRpYyB3cmFwKGVycm9yLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBlcnJvciBpbnN0YW5jZW9mIEVycm9yIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8taW5zdGFuY2VvZi9uby1pbnN0YW5jZW9mXG4gICAgICAgICAgICA/IG5ldyBEcml6emxlRXJyb3IobWVzc2FnZSA/IGAke21lc3NhZ2V9OiAke2Vycm9yLm1lc3NhZ2V9YCA6IGVycm9yLm1lc3NhZ2UpXG4gICAgICAgICAgICA6IG5ldyBEcml6emxlRXJyb3IobWVzc2FnZSA/PyBTdHJpbmcoZXJyb3IpKTtcbiAgICB9XG59XG5jbGFzcyBUcmFuc2FjdGlvblJvbGxiYWNrRXJyb3IgZXh0ZW5kcyBEcml6emxlRXJyb3Ige1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnVHJhbnNhY3Rpb25Sb2xsYmFja0Vycm9yJztcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoJ1JvbGxiYWNrJyk7XG4gICAgfVxufVxuXG4vKiogQGludGVybmFsICovXG5jb25zdCBJbmxpbmVGb3JlaWduS2V5cyA9IFN5bWJvbC5mb3IoJ2RyaXp6bGU6UGdJbmxpbmVGb3JlaWduS2V5cycpO1xuY2xhc3MgUGdUYWJsZSBleHRlbmRzIFRhYmxlIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnVGFibGUnO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBzdGF0aWMgU3ltYm9sID0gT2JqZWN0LmFzc2lnbih7fSwgVGFibGUuU3ltYm9sLCB7XG4gICAgICAgIElubGluZUZvcmVpZ25LZXlzOiBJbmxpbmVGb3JlaWduS2V5cyxcbiAgICB9KTtcbiAgICAvKipAaW50ZXJuYWwgKi9cbiAgICBbSW5saW5lRm9yZWlnbktleXNdID0gW107XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIFtUYWJsZS5TeW1ib2wuRXh0cmFDb25maWdCdWlsZGVyXSA9IHVuZGVmaW5lZDtcbn1cbi8qKiBAaW50ZXJuYWwgKi9cbmZ1bmN0aW9uIHBnVGFibGVXaXRoU2NoZW1hKG5hbWUsIGNvbHVtbnMsIGV4dHJhQ29uZmlnLCBzY2hlbWEsIGJhc2VOYW1lID0gbmFtZSkge1xuICAgIGNvbnN0IHJhd1RhYmxlID0gbmV3IFBnVGFibGUobmFtZSwgc2NoZW1hLCBiYXNlTmFtZSk7XG4gICAgY29uc3QgYnVpbHRDb2x1bW5zID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKGNvbHVtbnMpLm1hcCgoW25hbWUsIGNvbEJ1aWxkZXJCYXNlXSkgPT4ge1xuICAgICAgICBjb25zdCBjb2xCdWlsZGVyID0gY29sQnVpbGRlckJhc2U7XG4gICAgICAgIGNvbnN0IGNvbHVtbiA9IGNvbEJ1aWxkZXIuYnVpbGQocmF3VGFibGUpO1xuICAgICAgICByYXdUYWJsZVtJbmxpbmVGb3JlaWduS2V5c10ucHVzaCguLi5jb2xCdWlsZGVyLmJ1aWxkRm9yZWlnbktleXMoY29sdW1uLCByYXdUYWJsZSkpO1xuICAgICAgICByZXR1cm4gW25hbWUsIGNvbHVtbl07XG4gICAgfSkpO1xuICAgIGNvbnN0IHRhYmxlID0gT2JqZWN0LmFzc2lnbihyYXdUYWJsZSwgYnVpbHRDb2x1bW5zKTtcbiAgICB0YWJsZVtUYWJsZS5TeW1ib2wuQ29sdW1uc10gPSBidWlsdENvbHVtbnM7XG4gICAgaWYgKGV4dHJhQ29uZmlnKSB7XG4gICAgICAgIHRhYmxlW1BnVGFibGUuU3ltYm9sLkV4dHJhQ29uZmlnQnVpbGRlcl0gPSBleHRyYUNvbmZpZztcbiAgICB9XG4gICAgcmV0dXJuIHRhYmxlO1xufVxuY29uc3QgcGdUYWJsZSA9IChuYW1lLCBjb2x1bW5zLCBleHRyYUNvbmZpZykgPT4ge1xuICAgIHJldHVybiBwZ1RhYmxlV2l0aFNjaGVtYShuYW1lLCBjb2x1bW5zLCBleHRyYUNvbmZpZywgdW5kZWZpbmVkKTtcbn07XG5mdW5jdGlvbiBwZ1RhYmxlQ3JlYXRvcihjdXN0b21pemVUYWJsZU5hbWUpIHtcbiAgICByZXR1cm4gKG5hbWUsIGNvbHVtbnMsIGV4dHJhQ29uZmlnKSA9PiB7XG4gICAgICAgIHJldHVybiBwZ1RhYmxlV2l0aFNjaGVtYShjdXN0b21pemVUYWJsZU5hbWUobmFtZSksIGNvbHVtbnMsIGV4dHJhQ29uZmlnLCB1bmRlZmluZWQsIG5hbWUpO1xuICAgIH07XG59XG5cbmNsYXNzIENoZWNrQnVpbGRlciB7XG4gICAgbmFtZTtcbiAgICB2YWx1ZTtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnQ2hlY2tCdWlsZGVyJztcbiAgICBicmFuZDtcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCB2YWx1ZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IENoZWNrKHRhYmxlLCB0aGlzKTtcbiAgICB9XG59XG5jbGFzcyBDaGVjayB7XG4gICAgdGFibGU7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ0NoZWNrJztcbiAgICBuYW1lO1xuICAgIHZhbHVlO1xuICAgIGNvbnN0cnVjdG9yKHRhYmxlLCBidWlsZGVyKSB7XG4gICAgICAgIHRoaXMudGFibGUgPSB0YWJsZTtcbiAgICAgICAgdGhpcy5uYW1lID0gYnVpbGRlci5uYW1lO1xuICAgICAgICB0aGlzLnZhbHVlID0gYnVpbGRlci52YWx1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBjaGVjayhuYW1lLCB2YWx1ZSkge1xuICAgIHJldHVybiBuZXcgQ2hlY2tCdWlsZGVyKG5hbWUsIHZhbHVlKTtcbn1cblxuY2xhc3MgRm9yZWlnbktleUJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdGb3JlaWduS2V5QnVpbGRlcic7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHJlZmVyZW5jZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgX29uVXBkYXRlID0gJ25vIGFjdGlvbic7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIF9vbkRlbGV0ZSA9ICdubyBhY3Rpb24nO1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZywgYWN0aW9ucykge1xuICAgICAgICB0aGlzLnJlZmVyZW5jZSA9ICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29sdW1ucywgZm9yZWlnbkNvbHVtbnMgfSA9IGNvbmZpZygpO1xuICAgICAgICAgICAgcmV0dXJuIHsgY29sdW1ucywgZm9yZWlnblRhYmxlOiBmb3JlaWduQ29sdW1uc1swXS50YWJsZSwgZm9yZWlnbkNvbHVtbnMgfTtcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKGFjdGlvbnMpIHtcbiAgICAgICAgICAgIHRoaXMuX29uVXBkYXRlID0gYWN0aW9ucy5vblVwZGF0ZTtcbiAgICAgICAgICAgIHRoaXMuX29uRGVsZXRlID0gYWN0aW9ucy5vbkRlbGV0ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBvblVwZGF0ZShhY3Rpb24pIHtcbiAgICAgICAgdGhpcy5fb25VcGRhdGUgPSBhY3Rpb24gPT09IHVuZGVmaW5lZCA/ICdubyBhY3Rpb24nIDogYWN0aW9uO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgb25EZWxldGUoYWN0aW9uKSB7XG4gICAgICAgIHRoaXMuX29uRGVsZXRlID0gYWN0aW9uID09PSB1bmRlZmluZWQgPyAnbm8gYWN0aW9uJyA6IGFjdGlvbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IEZvcmVpZ25LZXkodGFibGUsIHRoaXMpO1xuICAgIH1cbn1cbmNsYXNzIEZvcmVpZ25LZXkge1xuICAgIHRhYmxlO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdGb3JlaWduS2V5JztcbiAgICByZWZlcmVuY2U7XG4gICAgb25VcGRhdGU7XG4gICAgb25EZWxldGU7XG4gICAgY29uc3RydWN0b3IodGFibGUsIGJ1aWxkZXIpIHtcbiAgICAgICAgdGhpcy50YWJsZSA9IHRhYmxlO1xuICAgICAgICB0aGlzLnJlZmVyZW5jZSA9IGJ1aWxkZXIucmVmZXJlbmNlO1xuICAgICAgICB0aGlzLm9uVXBkYXRlID0gYnVpbGRlci5fb25VcGRhdGU7XG4gICAgICAgIHRoaXMub25EZWxldGUgPSBidWlsZGVyLl9vbkRlbGV0ZTtcbiAgICB9XG4gICAgZ2V0TmFtZSgpIHtcbiAgICAgICAgY29uc3QgeyBjb2x1bW5zLCBmb3JlaWduQ29sdW1ucyB9ID0gdGhpcy5yZWZlcmVuY2UoKTtcbiAgICAgICAgY29uc3QgY29sdW1uTmFtZXMgPSBjb2x1bW5zLm1hcCgoY29sdW1uKSA9PiBjb2x1bW4ubmFtZSk7XG4gICAgICAgIGNvbnN0IGZvcmVpZ25Db2x1bW5OYW1lcyA9IGZvcmVpZ25Db2x1bW5zLm1hcCgoY29sdW1uKSA9PiBjb2x1bW4ubmFtZSk7XG4gICAgICAgIGNvbnN0IGNodW5rcyA9IFtcbiAgICAgICAgICAgIHRoaXMudGFibGVbUGdUYWJsZS5TeW1ib2wuTmFtZV0sXG4gICAgICAgICAgICAuLi5jb2x1bW5OYW1lcyxcbiAgICAgICAgICAgIGZvcmVpZ25Db2x1bW5zWzBdLnRhYmxlW1BnVGFibGUuU3ltYm9sLk5hbWVdLFxuICAgICAgICAgICAgLi4uZm9yZWlnbkNvbHVtbk5hbWVzLFxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gYCR7Y2h1bmtzLmpvaW4oJ18nKX1fZmtgO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZvcmVpZ25LZXkoY29uZmlnKSB7XG4gICAgZnVuY3Rpb24gbWFwcGVkQ29uZmlnKCkge1xuICAgICAgICBjb25zdCB7IGNvbHVtbnMsIGZvcmVpZ25Db2x1bW5zIH0gPSBjb25maWc7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb2x1bW5zLFxuICAgICAgICAgICAgZm9yZWlnbkNvbHVtbnMsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBuZXcgRm9yZWlnbktleUJ1aWxkZXIobWFwcGVkQ29uZmlnKTtcbn1cblxuY2xhc3MgSW5kZXhCdWlsZGVyT24ge1xuICAgIHVuaXF1ZTtcbiAgICBuYW1lO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdJbmRleEJ1aWxkZXJPbic7XG4gICAgY29uc3RydWN0b3IodW5pcXVlLCBuYW1lKSB7XG4gICAgICAgIHRoaXMudW5pcXVlID0gdW5pcXVlO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cbiAgICBvbiguLi5jb2x1bW5zKSB7XG4gICAgICAgIHJldHVybiBuZXcgSW5kZXhCdWlsZGVyKGNvbHVtbnMsIHRoaXMudW5pcXVlLCBmYWxzZSwgdGhpcy5uYW1lKTtcbiAgICB9XG4gICAgb25Pbmx5KC4uLmNvbHVtbnMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBJbmRleEJ1aWxkZXIoY29sdW1ucywgdGhpcy51bmlxdWUsIHRydWUsIHRoaXMubmFtZSk7XG4gICAgfVxufVxuY2xhc3MgSW5kZXhCdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnSW5kZXhCdWlsZGVyJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgY29uZmlnO1xuICAgIGNvbnN0cnVjdG9yKGNvbHVtbnMsIHVuaXF1ZSwgb25seSwgbmFtZSkge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICBjb2x1bW5zLFxuICAgICAgICAgICAgdW5pcXVlLFxuICAgICAgICAgICAgb25seSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uY3VycmVudGx5KCkge1xuICAgICAgICB0aGlzLmNvbmZpZy5jb25jdXJyZW50bHkgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdXNpbmcobWV0aG9kKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLnVzaW5nID0gbWV0aG9kO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgYXNjKCkge1xuICAgICAgICB0aGlzLmNvbmZpZy5vcmRlciA9ICdhc2MnO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZGVzYygpIHtcbiAgICAgICAgdGhpcy5jb25maWcub3JkZXIgPSAnZGVzYyc7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBudWxsc0ZpcnN0KCkge1xuICAgICAgICB0aGlzLmNvbmZpZy5udWxscyA9ICdmaXJzdCc7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBudWxsc0xhc3QoKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLm51bGxzID0gJ2xhc3QnO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgd2hlcmUoY29uZGl0aW9uKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLndoZXJlID0gY29uZGl0aW9uO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgSW5kZXgodGhpcy5jb25maWcsIHRhYmxlKTtcbiAgICB9XG59XG5jbGFzcyBJbmRleCB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ0luZGV4JztcbiAgICBjb25maWc7XG4gICAgY29uc3RydWN0b3IoY29uZmlnLCB0YWJsZSkge1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHsgLi4uY29uZmlnLCB0YWJsZSB9O1xuICAgIH1cbn1cbmZ1bmN0aW9uIGluZGV4KG5hbWUpIHtcbiAgICByZXR1cm4gbmV3IEluZGV4QnVpbGRlck9uKGZhbHNlLCBuYW1lKTtcbn1cbmZ1bmN0aW9uIHVuaXF1ZUluZGV4KG5hbWUpIHtcbiAgICByZXR1cm4gbmV3IEluZGV4QnVpbGRlck9uKHRydWUsIG5hbWUpO1xufVxuXG5mdW5jdGlvbiBwcmltYXJ5S2V5KC4uLmNvbHVtbnMpIHtcbiAgICByZXR1cm4gbmV3IFByaW1hcnlLZXlCdWlsZGVyKGNvbHVtbnMpO1xufVxuY2xhc3MgUHJpbWFyeUtleUJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdQcmltYXJ5S2V5QnVpbGRlcic7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGNvbHVtbnM7XG4gICAgY29uc3RydWN0b3IoY29sdW1ucykge1xuICAgICAgICB0aGlzLmNvbHVtbnMgPSBjb2x1bW5zO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcmltYXJ5S2V5KHRhYmxlLCB0aGlzLmNvbHVtbnMpO1xuICAgIH1cbn1cbmNsYXNzIFByaW1hcnlLZXkge1xuICAgIHRhYmxlO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdQcmltYXJ5S2V5JztcbiAgICBjb2x1bW5zO1xuICAgIGNvbnN0cnVjdG9yKHRhYmxlLCBjb2x1bW5zKSB7XG4gICAgICAgIHRoaXMudGFibGUgPSB0YWJsZTtcbiAgICAgICAgdGhpcy5jb2x1bW5zID0gY29sdW1ucztcbiAgICB9XG4gICAgZ2V0TmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMudGFibGVbUGdUYWJsZS5TeW1ib2wuTmFtZV19XyR7dGhpcy5jb2x1bW5zLm1hcCgoY29sdW1uKSA9PiBjb2x1bW4ubmFtZSkuam9pbignXycpfV9wa2A7XG4gICAgfVxufVxuXG5mdW5jdGlvbiB1bmlxdWUobmFtZSkge1xuICAgIHJldHVybiBuZXcgVW5pcXVlT25Db25zdHJhaW50QnVpbGRlcihuYW1lKTtcbn1cbmZ1bmN0aW9uIHVuaXF1ZUtleU5hbWUodGFibGUsIGNvbHVtbnMpIHtcbiAgICByZXR1cm4gYCR7dGFibGVbUGdUYWJsZS5TeW1ib2wuTmFtZV19XyR7Y29sdW1ucy5qb2luKCdfJyl9X3VuaXF1ZWA7XG59XG5jbGFzcyBVbmlxdWVDb25zdHJhaW50QnVpbGRlciB7XG4gICAgbmFtZTtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnVW5pcXVlQ29uc3RyYWludEJ1aWxkZXInO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBjb2x1bW5zO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBudWxsc05vdERpc3RpbmN0Q29uZmlnID0gZmFsc2U7XG4gICAgY29uc3RydWN0b3IoY29sdW1ucywgbmFtZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmNvbHVtbnMgPSBjb2x1bW5zO1xuICAgIH1cbiAgICBudWxsc05vdERpc3RpbmN0KCkge1xuICAgICAgICB0aGlzLm51bGxzTm90RGlzdGluY3RDb25maWcgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgVW5pcXVlQ29uc3RyYWludCh0YWJsZSwgdGhpcy5jb2x1bW5zLCB0aGlzLm51bGxzTm90RGlzdGluY3RDb25maWcsIHRoaXMubmFtZSk7XG4gICAgfVxufVxuY2xhc3MgVW5pcXVlT25Db25zdHJhaW50QnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ1VuaXF1ZU9uQ29uc3RyYWludEJ1aWxkZXInO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBuYW1lO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG4gICAgb24oLi4uY29sdW1ucykge1xuICAgICAgICByZXR1cm4gbmV3IFVuaXF1ZUNvbnN0cmFpbnRCdWlsZGVyKGNvbHVtbnMsIHRoaXMubmFtZSk7XG4gICAgfVxufVxuY2xhc3MgVW5pcXVlQ29uc3RyYWludCB7XG4gICAgdGFibGU7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ1VuaXF1ZUNvbnN0cmFpbnQnO1xuICAgIGNvbHVtbnM7XG4gICAgbmFtZTtcbiAgICBudWxsc05vdERpc3RpbmN0ID0gZmFsc2U7XG4gICAgY29uc3RydWN0b3IodGFibGUsIGNvbHVtbnMsIG51bGxzTm90RGlzdGluY3QsIG5hbWUpIHtcbiAgICAgICAgdGhpcy50YWJsZSA9IHRhYmxlO1xuICAgICAgICB0aGlzLmNvbHVtbnMgPSBjb2x1bW5zO1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lID8/IHVuaXF1ZUtleU5hbWUodGhpcy50YWJsZSwgdGhpcy5jb2x1bW5zLm1hcCgoY29sdW1uKSA9PiBjb2x1bW4ubmFtZSkpO1xuICAgICAgICB0aGlzLm51bGxzTm90RGlzdGluY3QgPSBudWxsc05vdERpc3RpbmN0O1xuICAgIH1cbiAgICBnZXROYW1lKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0VGFibGVDb25maWcodGFibGUpIHtcbiAgICBjb25zdCBjb2x1bW5zID0gT2JqZWN0LnZhbHVlcyh0YWJsZVtUYWJsZS5TeW1ib2wuQ29sdW1uc10pO1xuICAgIGNvbnN0IGluZGV4ZXMgPSBbXTtcbiAgICBjb25zdCBjaGVja3MgPSBbXTtcbiAgICBjb25zdCBwcmltYXJ5S2V5cyA9IFtdO1xuICAgIGNvbnN0IGZvcmVpZ25LZXlzID0gT2JqZWN0LnZhbHVlcyh0YWJsZVtQZ1RhYmxlLlN5bWJvbC5JbmxpbmVGb3JlaWduS2V5c10pO1xuICAgIGNvbnN0IHVuaXF1ZUNvbnN0cmFpbnRzID0gW107XG4gICAgY29uc3QgbmFtZSA9IHRhYmxlW1RhYmxlLlN5bWJvbC5OYW1lXTtcbiAgICBjb25zdCBzY2hlbWEgPSB0YWJsZVtUYWJsZS5TeW1ib2wuU2NoZW1hXTtcbiAgICBjb25zdCBleHRyYUNvbmZpZ0J1aWxkZXIgPSB0YWJsZVtQZ1RhYmxlLlN5bWJvbC5FeHRyYUNvbmZpZ0J1aWxkZXJdO1xuICAgIGlmIChleHRyYUNvbmZpZ0J1aWxkZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBleHRyYUNvbmZpZyA9IGV4dHJhQ29uZmlnQnVpbGRlcih0YWJsZVtUYWJsZS5TeW1ib2wuQ29sdW1uc10pO1xuICAgICAgICBmb3IgKGNvbnN0IGJ1aWxkZXIgb2YgT2JqZWN0LnZhbHVlcyhleHRyYUNvbmZpZykpIHtcbiAgICAgICAgICAgIGlmIChpcyhidWlsZGVyLCBJbmRleEJ1aWxkZXIpKSB7XG4gICAgICAgICAgICAgICAgaW5kZXhlcy5wdXNoKGJ1aWxkZXIuYnVpbGQodGFibGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzKGJ1aWxkZXIsIENoZWNrQnVpbGRlcikpIHtcbiAgICAgICAgICAgICAgICBjaGVja3MucHVzaChidWlsZGVyLmJ1aWxkKHRhYmxlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpcyhidWlsZGVyLCBVbmlxdWVDb25zdHJhaW50QnVpbGRlcikpIHtcbiAgICAgICAgICAgICAgICB1bmlxdWVDb25zdHJhaW50cy5wdXNoKGJ1aWxkZXIuYnVpbGQodGFibGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzKGJ1aWxkZXIsIFByaW1hcnlLZXlCdWlsZGVyKSkge1xuICAgICAgICAgICAgICAgIHByaW1hcnlLZXlzLnB1c2goYnVpbGRlci5idWlsZCh0YWJsZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXMoYnVpbGRlciwgRm9yZWlnbktleUJ1aWxkZXIpKSB7XG4gICAgICAgICAgICAgICAgZm9yZWlnbktleXMucHVzaChidWlsZGVyLmJ1aWxkKHRhYmxlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY29sdW1ucyxcbiAgICAgICAgaW5kZXhlcyxcbiAgICAgICAgZm9yZWlnbktleXMsXG4gICAgICAgIGNoZWNrcyxcbiAgICAgICAgcHJpbWFyeUtleXMsXG4gICAgICAgIHVuaXF1ZUNvbnN0cmFpbnRzLFxuICAgICAgICBuYW1lLFxuICAgICAgICBzY2hlbWEsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGdldFZpZXdDb25maWcodmlldykge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnZpZXdbVmlld0Jhc2VDb25maWddLFxuICAgICAgICAuLi52aWV3W1BnVmlld0NvbmZpZ10sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGdldE1hdGVyaWFsaXplZFZpZXdDb25maWcodmlldykge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnZpZXdbVmlld0Jhc2VDb25maWddLFxuICAgICAgICAuLi52aWV3W1BnTWF0ZXJpYWxpemVkVmlld0NvbmZpZ10sXG4gICAgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlUGdBcnJheVZhbHVlKGFycmF5U3RyaW5nLCBzdGFydEZyb20sIGluUXVvdGVzKSB7XG4gICAgZm9yIChsZXQgaSA9IHN0YXJ0RnJvbTsgaSA8IGFycmF5U3RyaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGNoYXIgPSBhcnJheVN0cmluZ1tpXTtcbiAgICAgICAgaWYgKGNoYXIgPT09ICdcXFxcJykge1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYXIgPT09ICdcIicpIHtcbiAgICAgICAgICAgIHJldHVybiBbYXJyYXlTdHJpbmcuc2xpY2Uoc3RhcnRGcm9tLCBpKS5yZXBsYWNlKC9cXFxcL2csICcnKSwgaSArIDFdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpblF1b3Rlcykge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYXIgPT09ICcsJyB8fCBjaGFyID09PSAnfScpIHtcbiAgICAgICAgICAgIHJldHVybiBbYXJyYXlTdHJpbmcuc2xpY2Uoc3RhcnRGcm9tLCBpKS5yZXBsYWNlKC9cXFxcL2csICcnKSwgaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIFthcnJheVN0cmluZy5zbGljZShzdGFydEZyb20pLnJlcGxhY2UoL1xcXFwvZywgJycpLCBhcnJheVN0cmluZy5sZW5ndGhdO1xufVxuZnVuY3Rpb24gcGFyc2VQZ05lc3RlZEFycmF5KGFycmF5U3RyaW5nLCBzdGFydEZyb20gPSAwKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgbGV0IGkgPSBzdGFydEZyb207XG4gICAgbGV0IGxhc3RDaGFySXNDb21tYSA9IGZhbHNlO1xuICAgIHdoaWxlIChpIDwgYXJyYXlTdHJpbmcubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGNoYXIgPSBhcnJheVN0cmluZ1tpXTtcbiAgICAgICAgaWYgKGNoYXIgPT09ICcsJykge1xuICAgICAgICAgICAgaWYgKGxhc3RDaGFySXNDb21tYSB8fCBpID09PSBzdGFydEZyb20pIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaCgnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXN0Q2hhcklzQ29tbWEgPSB0cnVlO1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdENoYXJJc0NvbW1hID0gZmFsc2U7XG4gICAgICAgIGlmIChjaGFyID09PSAnXFxcXCcpIHtcbiAgICAgICAgICAgIGkgKz0gMjtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFyID09PSAnXCInKSB7XG4gICAgICAgICAgICBjb25zdCBbdmFsdWUsIHN0YXJ0RnJvbV0gPSBwYXJzZVBnQXJyYXlWYWx1ZShhcnJheVN0cmluZywgaSArIDEsIHRydWUpO1xuICAgICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICAgICAgaSA9IHN0YXJ0RnJvbTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFyID09PSAnfScpIHtcbiAgICAgICAgICAgIHJldHVybiBbcmVzdWx0LCBpICsgMV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYXIgPT09ICd7Jykge1xuICAgICAgICAgICAgY29uc3QgW3ZhbHVlLCBzdGFydEZyb21dID0gcGFyc2VQZ05lc3RlZEFycmF5KGFycmF5U3RyaW5nLCBpICsgMSk7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgICAgICBpID0gc3RhcnRGcm9tO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgW3ZhbHVlLCBuZXdTdGFydEZyb21dID0gcGFyc2VQZ0FycmF5VmFsdWUoYXJyYXlTdHJpbmcsIGksIGZhbHNlKTtcbiAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICBpID0gbmV3U3RhcnRGcm9tO1xuICAgIH1cbiAgICByZXR1cm4gW3Jlc3VsdCwgaV07XG59XG5mdW5jdGlvbiBwYXJzZVBnQXJyYXkoYXJyYXlTdHJpbmcpIHtcbiAgICBjb25zdCBbcmVzdWx0XSA9IHBhcnNlUGdOZXN0ZWRBcnJheShhcnJheVN0cmluZywgMSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmZ1bmN0aW9uIG1ha2VQZ0FycmF5KGFycmF5KSB7XG4gICAgcmV0dXJuIGB7JHthcnJheS5tYXAoKGl0ZW0pID0+IHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoaXRlbSkpIHtcbiAgICAgICAgICAgIHJldHVybiBtYWtlUGdBcnJheShpdGVtKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGl0ZW0gPT09ICdzdHJpbmcnICYmIGl0ZW0uaW5jbHVkZXMoJywnKSkge1xuICAgICAgICAgICAgcmV0dXJuIGBcIiR7aXRlbS5yZXBsYWNlKC9cIi9nLCAnXFxcXFwiJyl9XCJgO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgJHtpdGVtfWA7XG4gICAgfSkuam9pbignLCcpfX1gO1xufVxuXG4vLyBUbyB1bmRlcnN0YW5kIGhvdyB0byB1c2UgYENvbHVtbkJ1aWxkZXJgIGFuZCBgQW55Q29sdW1uQnVpbGRlcmAsIHNlZSBgQ29sdW1uYCBhbmQgYEFueUNvbHVtbmAgZG9jdW1lbnRhdGlvbi5cbmNsYXNzIENvbHVtbkJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnQ29sdW1uQnVpbGRlcic7XG4gICAgY29uZmlnO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGRhdGFUeXBlLCBjb2x1bW5UeXBlKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIG5vdE51bGw6IGZhbHNlLFxuICAgICAgICAgICAgZGVmYXVsdDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgaGFzRGVmYXVsdDogZmFsc2UsXG4gICAgICAgICAgICBwcmltYXJ5S2V5OiBmYWxzZSxcbiAgICAgICAgICAgIGlzVW5pcXVlOiBmYWxzZSxcbiAgICAgICAgICAgIHVuaXF1ZU5hbWU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHVuaXF1ZVR5cGU6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRhdGFUeXBlLFxuICAgICAgICAgICAgY29sdW1uVHlwZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hhbmdlcyB0aGUgZGF0YSB0eXBlIG9mIHRoZSBjb2x1bW4uIENvbW1vbmx5IHVzZWQgd2l0aCBganNvbmAgY29sdW1ucy4gQWxzbywgdXNlZnVsIGZvciBicmFuZGVkIHR5cGVzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0c1xuICAgICAqIGNvbnN0IHVzZXJzID0gcGdUYWJsZSgndXNlcnMnLCB7XG4gICAgICogXHRpZDogaW50ZWdlcignaWQnKS4kdHlwZTxVc2VySWQ+KCkucHJpbWFyeUtleSgpLFxuICAgICAqIFx0ZGV0YWlsczoganNvbignZGV0YWlscycpLiR0eXBlPFVzZXJEZXRhaWxzPigpLm5vdE51bGwoKSxcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICAkdHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBgbm90IG51bGxgIGNsYXVzZSB0byB0aGUgY29sdW1uIGRlZmluaXRpb24uXG4gICAgICpcbiAgICAgKiBBZmZlY3RzIHRoZSBgc2VsZWN0YCBtb2RlbCBvZiB0aGUgdGFibGUgLSBjb2x1bW5zICp3aXRob3V0KiBgbm90IG51bGxgIHdpbGwgYmUgbnVsbGFibGUgb24gc2VsZWN0LlxuICAgICAqL1xuICAgIG5vdE51bGwoKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLm5vdE51bGwgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIGBkZWZhdWx0IDx2YWx1ZT5gIGNsYXVzZSB0byB0aGUgY29sdW1uIGRlZmluaXRpb24uXG4gICAgICpcbiAgICAgKiBBZmZlY3RzIHRoZSBgaW5zZXJ0YCBtb2RlbCBvZiB0aGUgdGFibGUgLSBjb2x1bW5zICp3aXRoKiBgZGVmYXVsdGAgYXJlIG9wdGlvbmFsIG9uIGluc2VydC5cbiAgICAgKlxuICAgICAqIElmIHlvdSBuZWVkIHRvIHNldCBhIGR5bmFtaWMgZGVmYXVsdCB2YWx1ZSwgdXNlIHtAbGluayAkZGVmYXVsdEZufSBpbnN0ZWFkLlxuICAgICAqL1xuICAgIGRlZmF1bHQodmFsdWUpIHtcbiAgICAgICAgdGhpcy5jb25maWcuZGVmYXVsdCA9IHZhbHVlO1xuICAgICAgICB0aGlzLmNvbmZpZy5oYXNEZWZhdWx0ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBkeW5hbWljIGRlZmF1bHQgdmFsdWUgdG8gdGhlIGNvbHVtbi5cbiAgICAgKiBUaGUgZnVuY3Rpb24gd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGUgcm93IGlzIGluc2VydGVkLCBhbmQgdGhlIHJldHVybmVkIHZhbHVlIHdpbGwgYmUgdXNlZCBhcyB0aGUgY29sdW1uIHZhbHVlLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgdmFsdWUgZG9lcyBub3QgYWZmZWN0IHRoZSBgZHJpenpsZS1raXRgIGJlaGF2aW9yLCBpdCBpcyBvbmx5IHVzZWQgYXQgcnVudGltZSBpbiBgZHJpenpsZS1vcm1gLlxuICAgICAqL1xuICAgICRkZWZhdWx0Rm4oZm4pIHtcbiAgICAgICAgdGhpcy5jb25maWcuZGVmYXVsdEZuID0gZm47XG4gICAgICAgIHRoaXMuY29uZmlnLmhhc0RlZmF1bHQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxpYXMgZm9yIHtAbGluayAkZGVmYXVsdEZufS5cbiAgICAgKi9cbiAgICAkZGVmYXVsdCA9IHRoaXMuJGRlZmF1bHRGbjtcbiAgICAvKipcbiAgICAgKiBBZGRzIGEgYHByaW1hcnkga2V5YCBjbGF1c2UgdG8gdGhlIGNvbHVtbiBkZWZpbml0aW9uLiBUaGlzIGltcGxpY2l0bHkgbWFrZXMgdGhlIGNvbHVtbiBgbm90IG51bGxgLlxuICAgICAqXG4gICAgICogSW4gU1FMaXRlLCBgaW50ZWdlciBwcmltYXJ5IGtleWAgaW1wbGljaXRseSBtYWtlcyB0aGUgY29sdW1uIGF1dG8taW5jcmVtZW50aW5nLlxuICAgICAqL1xuICAgIHByaW1hcnlLZXkoKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLnByaW1hcnlLZXkgPSB0cnVlO1xuICAgICAgICB0aGlzLmNvbmZpZy5ub3ROdWxsID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuXG5jbGFzcyBQZ0NvbHVtbkJ1aWxkZXIgZXh0ZW5kcyBDb2x1bW5CdWlsZGVyIHtcbiAgICBmb3JlaWduS2V5Q29uZmlncyA9IFtdO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdDb2x1bW5CdWlsZGVyJztcbiAgICBhcnJheShzaXplKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGdBcnJheUJ1aWxkZXIodGhpcy5jb25maWcubmFtZSwgdGhpcywgc2l6ZSk7XG4gICAgfVxuICAgIHJlZmVyZW5jZXMocmVmLCBhY3Rpb25zID0ge30pIHtcbiAgICAgICAgdGhpcy5mb3JlaWduS2V5Q29uZmlncy5wdXNoKHsgcmVmLCBhY3Rpb25zIH0pO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdW5pcXVlKG5hbWUsIGNvbmZpZykge1xuICAgICAgICB0aGlzLmNvbmZpZy5pc1VuaXF1ZSA9IHRydWU7XG4gICAgICAgIHRoaXMuY29uZmlnLnVuaXF1ZU5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLmNvbmZpZy51bmlxdWVUeXBlID0gY29uZmlnPy5udWxscztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZEZvcmVpZ25LZXlzKGNvbHVtbiwgdGFibGUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9yZWlnbktleUNvbmZpZ3MubWFwKCh7IHJlZiwgYWN0aW9ucyB9KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gaWlmZSgocmVmLCBhY3Rpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVpbGRlciA9IG5ldyBGb3JlaWduS2V5QnVpbGRlcigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcmVpZ25Db2x1bW4gPSByZWYoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgY29sdW1uczogW2NvbHVtbl0sIGZvcmVpZ25Db2x1bW5zOiBbZm9yZWlnbkNvbHVtbl0gfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9ucy5vblVwZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBidWlsZGVyLm9uVXBkYXRlKGFjdGlvbnMub25VcGRhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9ucy5vbkRlbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICBidWlsZGVyLm9uRGVsZXRlKGFjdGlvbnMub25EZWxldGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYnVpbGRlci5idWlsZCh0YWJsZSk7XG4gICAgICAgICAgICB9LCByZWYsIGFjdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyBUbyB1bmRlcnN0YW5kIGhvdyB0byB1c2UgYFBnQ29sdW1uYCBhbmQgYFBnQ29sdW1uYCwgc2VlIGBDb2x1bW5gIGFuZCBgQW55Q29sdW1uYCBkb2N1bWVudGF0aW9uLlxuY2xhc3MgUGdDb2x1bW4gZXh0ZW5kcyBDb2x1bW4ge1xuICAgIHRhYmxlO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdDb2x1bW4nO1xuICAgIGNvbnN0cnVjdG9yKHRhYmxlLCBjb25maWcpIHtcbiAgICAgICAgaWYgKCFjb25maWcudW5pcXVlTmFtZSkge1xuICAgICAgICAgICAgY29uZmlnLnVuaXF1ZU5hbWUgPSB1bmlxdWVLZXlOYW1lKHRhYmxlLCBbY29uZmlnLm5hbWVdKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcih0YWJsZSwgY29uZmlnKTtcbiAgICAgICAgdGhpcy50YWJsZSA9IHRhYmxlO1xuICAgIH1cbn1cblxuY2xhc3MgUGdBcnJheUJ1aWxkZXIgZXh0ZW5kcyBQZ0NvbHVtbkJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdBcnJheUJ1aWxkZXInO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGJhc2VCdWlsZGVyLCBzaXplKSB7XG4gICAgICAgIHN1cGVyKG5hbWUsICdhcnJheScsICdQZ0FycmF5Jyk7XG4gICAgICAgIHRoaXMuY29uZmlnLmJhc2VCdWlsZGVyID0gYmFzZUJ1aWxkZXI7XG4gICAgICAgIHRoaXMuY29uZmlnLnNpemUgPSBzaXplO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgY29uc3QgYmFzZUNvbHVtbiA9IHRoaXMuY29uZmlnLmJhc2VCdWlsZGVyLmJ1aWxkKHRhYmxlKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQZ0FycmF5KHRhYmxlLCB0aGlzLmNvbmZpZywgYmFzZUNvbHVtbik7XG4gICAgfVxufVxuY2xhc3MgUGdBcnJheSBleHRlbmRzIFBnQ29sdW1uIHtcbiAgICBiYXNlQ29sdW1uO1xuICAgIHJhbmdlO1xuICAgIHNpemU7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ0FycmF5JztcbiAgICBjb25zdHJ1Y3Rvcih0YWJsZSwgY29uZmlnLCBiYXNlQ29sdW1uLCByYW5nZSkge1xuICAgICAgICBzdXBlcih0YWJsZSwgY29uZmlnKTtcbiAgICAgICAgdGhpcy5iYXNlQ29sdW1uID0gYmFzZUNvbHVtbjtcbiAgICAgICAgdGhpcy5yYW5nZSA9IHJhbmdlO1xuICAgICAgICB0aGlzLnNpemUgPSBjb25maWcuc2l6ZTtcbiAgICB9XG4gICAgZ2V0U1FMVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuYmFzZUNvbHVtbi5nZXRTUUxUeXBlKCl9WyR7dHlwZW9mIHRoaXMuc2l6ZSA9PT0gJ251bWJlcicgPyB0aGlzLnNpemUgOiAnJ31dYDtcbiAgICB9XG4gICAgbWFwRnJvbURyaXZlclZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyBUaGFuayB5b3Ugbm9kZS1wb3N0Z3JlcyBmb3Igbm90IHBhcnNpbmcgZW51bSBhcnJheXNcbiAgICAgICAgICAgIHZhbHVlID0gcGFyc2VQZ0FycmF5KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWUubWFwKCh2KSA9PiB0aGlzLmJhc2VDb2x1bW4ubWFwRnJvbURyaXZlclZhbHVlKHYpKTtcbiAgICB9XG4gICAgbWFwVG9Ecml2ZXJWYWx1ZSh2YWx1ZSwgaXNOZXN0ZWRBcnJheSA9IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGEgPSB2YWx1ZS5tYXAoKHYpID0+IHYgPT09IG51bGxcbiAgICAgICAgICAgID8gbnVsbFxuICAgICAgICAgICAgOiBpcyh0aGlzLmJhc2VDb2x1bW4sIFBnQXJyYXkpXG4gICAgICAgICAgICAgICAgPyB0aGlzLmJhc2VDb2x1bW4ubWFwVG9Ecml2ZXJWYWx1ZSh2LCB0cnVlKVxuICAgICAgICAgICAgICAgIDogdGhpcy5iYXNlQ29sdW1uLm1hcFRvRHJpdmVyVmFsdWUodikpO1xuICAgICAgICBpZiAoaXNOZXN0ZWRBcnJheSlcbiAgICAgICAgICAgIHJldHVybiBhO1xuICAgICAgICByZXR1cm4gbWFrZVBnQXJyYXkoYSk7XG4gICAgfVxufVxuXG5jbGFzcyBQZ0RhdGVDb2x1bW5CYXNlQnVpbGRlciBleHRlbmRzIFBnQ29sdW1uQnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ0RhdGVDb2x1bW5CYXNlQnVpbGRlcic7XG4gICAgZGVmYXVsdE5vdygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdChzcWwgYG5vdygpYCk7XG4gICAgfVxufVxuXG5jbGFzcyBQZ0RhdGVCdWlsZGVyIGV4dGVuZHMgUGdEYXRlQ29sdW1uQmFzZUJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdEYXRlQnVpbGRlcic7XG4gICAgY29uc3RydWN0b3IobmFtZSkge1xuICAgICAgICBzdXBlcihuYW1lLCAnZGF0ZScsICdQZ0RhdGUnKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGdEYXRlKHRhYmxlLCB0aGlzLmNvbmZpZyk7XG4gICAgfVxufVxuY2xhc3MgUGdEYXRlIGV4dGVuZHMgUGdDb2x1bW4ge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdEYXRlJztcbiAgICBnZXRTUUxUeXBlKCkge1xuICAgICAgICByZXR1cm4gJ2RhdGUnO1xuICAgIH1cbiAgICBtYXBGcm9tRHJpdmVyVmFsdWUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHZhbHVlKTtcbiAgICB9XG4gICAgbWFwVG9Ecml2ZXJWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUudG9JU09TdHJpbmcoKTtcbiAgICB9XG59XG5jbGFzcyBQZ0RhdGVTdHJpbmdCdWlsZGVyIGV4dGVuZHMgUGdEYXRlQ29sdW1uQmFzZUJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdEYXRlU3RyaW5nQnVpbGRlcic7XG4gICAgY29uc3RydWN0b3IobmFtZSkge1xuICAgICAgICBzdXBlcihuYW1lLCAnc3RyaW5nJywgJ1BnRGF0ZVN0cmluZycpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQZ0RhdGVTdHJpbmcodGFibGUsIHRoaXMuY29uZmlnKTtcbiAgICB9XG59XG5jbGFzcyBQZ0RhdGVTdHJpbmcgZXh0ZW5kcyBQZ0NvbHVtbiB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ0RhdGVTdHJpbmcnO1xuICAgIGdldFNRTFR5cGUoKSB7XG4gICAgICAgIHJldHVybiAnZGF0ZSc7XG4gICAgfVxufVxuZnVuY3Rpb24gZGF0ZShuYW1lLCBjb25maWcpIHtcbiAgICBpZiAoY29uZmlnPy5tb2RlID09PSAnZGF0ZScpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQZ0RhdGVCdWlsZGVyKG5hbWUpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFBnRGF0ZVN0cmluZ0J1aWxkZXIobmFtZSk7XG59XG5cbmNsYXNzIFBnSnNvbkJ1aWxkZXIgZXh0ZW5kcyBQZ0NvbHVtbkJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdKc29uQnVpbGRlcic7XG4gICAgY29uc3RydWN0b3IobmFtZSkge1xuICAgICAgICBzdXBlcihuYW1lLCAnanNvbicsICdQZ0pzb24nKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGdKc29uKHRhYmxlLCB0aGlzLmNvbmZpZyk7XG4gICAgfVxufVxuY2xhc3MgUGdKc29uIGV4dGVuZHMgUGdDb2x1bW4ge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdKc29uJztcbiAgICBjb25zdHJ1Y3Rvcih0YWJsZSwgY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKHRhYmxlLCBjb25maWcpO1xuICAgIH1cbiAgICBnZXRTUUxUeXBlKCkge1xuICAgICAgICByZXR1cm4gJ2pzb24nO1xuICAgIH1cbiAgICBtYXBUb0RyaXZlclZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgfVxuICAgIG1hcEZyb21Ecml2ZXJWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBqc29uKG5hbWUpIHtcbiAgICByZXR1cm4gbmV3IFBnSnNvbkJ1aWxkZXIobmFtZSk7XG59XG5cbmNsYXNzIFBnSnNvbmJCdWlsZGVyIGV4dGVuZHMgUGdDb2x1bW5CdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnSnNvbmJCdWlsZGVyJztcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHN1cGVyKG5hbWUsICdqc29uJywgJ1BnSnNvbmInKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGdKc29uYih0YWJsZSwgdGhpcy5jb25maWcpO1xuICAgIH1cbn1cbmNsYXNzIFBnSnNvbmIgZXh0ZW5kcyBQZ0NvbHVtbiB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ0pzb25iJztcbiAgICBjb25zdHJ1Y3Rvcih0YWJsZSwgY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKHRhYmxlLCBjb25maWcpO1xuICAgIH1cbiAgICBnZXRTUUxUeXBlKCkge1xuICAgICAgICByZXR1cm4gJ2pzb25iJztcbiAgICB9XG4gICAgbWFwVG9Ecml2ZXJWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICAgIH1cbiAgICBtYXBGcm9tRHJpdmVyVmFsdWUodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuZnVuY3Rpb24ganNvbmIobmFtZSkge1xuICAgIHJldHVybiBuZXcgUGdKc29uYkJ1aWxkZXIobmFtZSk7XG59XG5cbmNsYXNzIFBnTnVtZXJpY0J1aWxkZXIgZXh0ZW5kcyBQZ0NvbHVtbkJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdOdW1lcmljQnVpbGRlcic7XG4gICAgY29uc3RydWN0b3IobmFtZSwgcHJlY2lzaW9uLCBzY2FsZSkge1xuICAgICAgICBzdXBlcihuYW1lLCAnc3RyaW5nJywgJ1BnTnVtZXJpYycpO1xuICAgICAgICB0aGlzLmNvbmZpZy5wcmVjaXNpb24gPSBwcmVjaXNpb247XG4gICAgICAgIHRoaXMuY29uZmlnLnNjYWxlID0gc2NhbGU7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IFBnTnVtZXJpYyh0YWJsZSwgdGhpcy5jb25maWcpO1xuICAgIH1cbn1cbmNsYXNzIFBnTnVtZXJpYyBleHRlbmRzIFBnQ29sdW1uIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnTnVtZXJpYyc7XG4gICAgcHJlY2lzaW9uO1xuICAgIHNjYWxlO1xuICAgIGNvbnN0cnVjdG9yKHRhYmxlLCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIodGFibGUsIGNvbmZpZyk7XG4gICAgICAgIHRoaXMucHJlY2lzaW9uID0gY29uZmlnLnByZWNpc2lvbjtcbiAgICAgICAgdGhpcy5zY2FsZSA9IGNvbmZpZy5zY2FsZTtcbiAgICB9XG4gICAgZ2V0U1FMVHlwZSgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJlY2lzaW9uICE9PSB1bmRlZmluZWQgJiYgdGhpcy5zY2FsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gYG51bWVyaWMoJHt0aGlzLnByZWNpc2lvbn0sICR7dGhpcy5zY2FsZX0pYDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnByZWNpc2lvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gJ251bWVyaWMnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGBudW1lcmljKCR7dGhpcy5wcmVjaXNpb259KWA7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBudW1lcmljKG5hbWUsIGNvbmZpZykge1xuICAgIHJldHVybiBuZXcgUGdOdW1lcmljQnVpbGRlcihuYW1lLCBjb25maWc/LnByZWNpc2lvbiwgY29uZmlnPy5zY2FsZSk7XG59XG5jb25zdCBkZWNpbWFsID0gbnVtZXJpYztcblxuY2xhc3MgUGdUaW1lQnVpbGRlciBleHRlbmRzIFBnRGF0ZUNvbHVtbkJhc2VCdWlsZGVyIHtcbiAgICB3aXRoVGltZXpvbmU7XG4gICAgcHJlY2lzaW9uO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdUaW1lQnVpbGRlcic7XG4gICAgY29uc3RydWN0b3IobmFtZSwgd2l0aFRpbWV6b25lLCBwcmVjaXNpb24pIHtcbiAgICAgICAgc3VwZXIobmFtZSwgJ3N0cmluZycsICdQZ1RpbWUnKTtcbiAgICAgICAgdGhpcy53aXRoVGltZXpvbmUgPSB3aXRoVGltZXpvbmU7XG4gICAgICAgIHRoaXMucHJlY2lzaW9uID0gcHJlY2lzaW9uO1xuICAgICAgICB0aGlzLmNvbmZpZy53aXRoVGltZXpvbmUgPSB3aXRoVGltZXpvbmU7XG4gICAgICAgIHRoaXMuY29uZmlnLnByZWNpc2lvbiA9IHByZWNpc2lvbjtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGdUaW1lKHRhYmxlLCB0aGlzLmNvbmZpZyk7XG4gICAgfVxufVxuY2xhc3MgUGdUaW1lIGV4dGVuZHMgUGdDb2x1bW4ge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdUaW1lJztcbiAgICB3aXRoVGltZXpvbmU7XG4gICAgcHJlY2lzaW9uO1xuICAgIGNvbnN0cnVjdG9yKHRhYmxlLCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIodGFibGUsIGNvbmZpZyk7XG4gICAgICAgIHRoaXMud2l0aFRpbWV6b25lID0gY29uZmlnLndpdGhUaW1lem9uZTtcbiAgICAgICAgdGhpcy5wcmVjaXNpb24gPSBjb25maWcucHJlY2lzaW9uO1xuICAgIH1cbiAgICBnZXRTUUxUeXBlKCkge1xuICAgICAgICBjb25zdCBwcmVjaXNpb24gPSB0aGlzLnByZWNpc2lvbiA9PT0gdW5kZWZpbmVkID8gJycgOiBgKCR7dGhpcy5wcmVjaXNpb259KWA7XG4gICAgICAgIHJldHVybiBgdGltZSR7cHJlY2lzaW9ufSR7dGhpcy53aXRoVGltZXpvbmUgPyAnIHdpdGggdGltZSB6b25lJyA6ICcnfWA7XG4gICAgfVxufVxuZnVuY3Rpb24gdGltZShuYW1lLCBjb25maWcgPSB7fSkge1xuICAgIHJldHVybiBuZXcgUGdUaW1lQnVpbGRlcihuYW1lLCBjb25maWcud2l0aFRpbWV6b25lID8/IGZhbHNlLCBjb25maWcucHJlY2lzaW9uKTtcbn1cblxuY2xhc3MgUGdUaW1lc3RhbXBCdWlsZGVyIGV4dGVuZHMgUGdEYXRlQ29sdW1uQmFzZUJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdUaW1lc3RhbXBCdWlsZGVyJztcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCB3aXRoVGltZXpvbmUsIHByZWNpc2lvbikge1xuICAgICAgICBzdXBlcihuYW1lLCAnZGF0ZScsICdQZ1RpbWVzdGFtcCcpO1xuICAgICAgICB0aGlzLmNvbmZpZy53aXRoVGltZXpvbmUgPSB3aXRoVGltZXpvbmU7XG4gICAgICAgIHRoaXMuY29uZmlnLnByZWNpc2lvbiA9IHByZWNpc2lvbjtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUGdUaW1lc3RhbXAodGFibGUsIHRoaXMuY29uZmlnKTtcbiAgICB9XG59XG5jbGFzcyBQZ1RpbWVzdGFtcCBleHRlbmRzIFBnQ29sdW1uIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnVGltZXN0YW1wJztcbiAgICB3aXRoVGltZXpvbmU7XG4gICAgcHJlY2lzaW9uO1xuICAgIGNvbnN0cnVjdG9yKHRhYmxlLCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIodGFibGUsIGNvbmZpZyk7XG4gICAgICAgIHRoaXMud2l0aFRpbWV6b25lID0gY29uZmlnLndpdGhUaW1lem9uZTtcbiAgICAgICAgdGhpcy5wcmVjaXNpb24gPSBjb25maWcucHJlY2lzaW9uO1xuICAgIH1cbiAgICBnZXRTUUxUeXBlKCkge1xuICAgICAgICBjb25zdCBwcmVjaXNpb24gPSB0aGlzLnByZWNpc2lvbiA9PT0gdW5kZWZpbmVkID8gJycgOiBgICgke3RoaXMucHJlY2lzaW9ufSlgO1xuICAgICAgICByZXR1cm4gYHRpbWVzdGFtcCR7cHJlY2lzaW9ufSR7dGhpcy53aXRoVGltZXpvbmUgPyAnIHdpdGggdGltZSB6b25lJyA6ICcnfWA7XG4gICAgfVxuICAgIG1hcEZyb21Ecml2ZXJWYWx1ZSA9ICh2YWx1ZSkgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUodGhpcy53aXRoVGltZXpvbmUgPyB2YWx1ZSA6IHZhbHVlICsgJyswMDAwJyk7XG4gICAgfTtcbiAgICBtYXBUb0RyaXZlclZhbHVlID0gKHZhbHVlKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLndpdGhUaW1lem9uZSA/IHZhbHVlLnRvVVRDU3RyaW5nKCkgOiB2YWx1ZS50b0lTT1N0cmluZygpO1xuICAgIH07XG59XG5jbGFzcyBQZ1RpbWVzdGFtcFN0cmluZ0J1aWxkZXIgZXh0ZW5kcyBQZ0RhdGVDb2x1bW5CYXNlQnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ1RpbWVzdGFtcFN0cmluZ0J1aWxkZXInO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHdpdGhUaW1lem9uZSwgcHJlY2lzaW9uKSB7XG4gICAgICAgIHN1cGVyKG5hbWUsICdzdHJpbmcnLCAnUGdUaW1lc3RhbXBTdHJpbmcnKTtcbiAgICAgICAgdGhpcy5jb25maWcud2l0aFRpbWV6b25lID0gd2l0aFRpbWV6b25lO1xuICAgICAgICB0aGlzLmNvbmZpZy5wcmVjaXNpb24gPSBwcmVjaXNpb247XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IFBnVGltZXN0YW1wU3RyaW5nKHRhYmxlLCB0aGlzLmNvbmZpZyk7XG4gICAgfVxufVxuY2xhc3MgUGdUaW1lc3RhbXBTdHJpbmcgZXh0ZW5kcyBQZ0NvbHVtbiB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ1RpbWVzdGFtcFN0cmluZyc7XG4gICAgd2l0aFRpbWV6b25lO1xuICAgIHByZWNpc2lvbjtcbiAgICBjb25zdHJ1Y3Rvcih0YWJsZSwgY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKHRhYmxlLCBjb25maWcpO1xuICAgICAgICB0aGlzLndpdGhUaW1lem9uZSA9IGNvbmZpZy53aXRoVGltZXpvbmU7XG4gICAgICAgIHRoaXMucHJlY2lzaW9uID0gY29uZmlnLnByZWNpc2lvbjtcbiAgICB9XG4gICAgZ2V0U1FMVHlwZSgpIHtcbiAgICAgICAgY29uc3QgcHJlY2lzaW9uID0gdGhpcy5wcmVjaXNpb24gPT09IHVuZGVmaW5lZCA/ICcnIDogYCgke3RoaXMucHJlY2lzaW9ufSlgO1xuICAgICAgICByZXR1cm4gYHRpbWVzdGFtcCR7cHJlY2lzaW9ufSR7dGhpcy53aXRoVGltZXpvbmUgPyAnIHdpdGggdGltZSB6b25lJyA6ICcnfWA7XG4gICAgfVxufVxuZnVuY3Rpb24gdGltZXN0YW1wKG5hbWUsIGNvbmZpZyA9IHt9KSB7XG4gICAgaWYgKGNvbmZpZy5tb2RlID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gbmV3IFBnVGltZXN0YW1wU3RyaW5nQnVpbGRlcihuYW1lLCBjb25maWcud2l0aFRpbWV6b25lID8/IGZhbHNlLCBjb25maWcucHJlY2lzaW9uKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBQZ1RpbWVzdGFtcEJ1aWxkZXIobmFtZSwgY29uZmlnLndpdGhUaW1lem9uZSA/PyBmYWxzZSwgY29uZmlnLnByZWNpc2lvbik7XG59XG5cbmNsYXNzIFBnVVVJREJ1aWxkZXIgZXh0ZW5kcyBQZ0NvbHVtbkJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdVVUlEQnVpbGRlcic7XG4gICAgY29uc3RydWN0b3IobmFtZSkge1xuICAgICAgICBzdXBlcihuYW1lLCAnc3RyaW5nJywgJ1BnVVVJRCcpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIGBkZWZhdWx0IGdlbl9yYW5kb21fdXVpZCgpYCB0byB0aGUgY29sdW1uIGRlZmluaXRpb24uXG4gICAgICovXG4gICAgZGVmYXVsdFJhbmRvbSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdChzcWwgYGdlbl9yYW5kb21fdXVpZCgpYCk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IFBnVVVJRCh0YWJsZSwgdGhpcy5jb25maWcpO1xuICAgIH1cbn1cbmNsYXNzIFBnVVVJRCBleHRlbmRzIFBnQ29sdW1uIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnVVVJRCc7XG4gICAgZ2V0U1FMVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuICd1dWlkJztcbiAgICB9XG59XG5mdW5jdGlvbiB1dWlkKG5hbWUpIHtcbiAgICByZXR1cm4gbmV3IFBnVVVJREJ1aWxkZXIobmFtZSk7XG59XG5cbmNsYXNzIFBnRGlhbGVjdCB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ0RpYWxlY3QnO1xuICAgIGFzeW5jIG1pZ3JhdGUobWlncmF0aW9ucywgc2Vzc2lvbikge1xuICAgICAgICBjb25zdCBtaWdyYXRpb25UYWJsZUNyZWF0ZSA9IHNxbCBgXG5cdFx0XHRDUkVBVEUgVEFCTEUgSUYgTk9UIEVYSVNUUyBcImRyaXp6bGVcIi5cIl9fZHJpenpsZV9taWdyYXRpb25zXCIgKFxuXHRcdFx0XHRpZCBTRVJJQUwgUFJJTUFSWSBLRVksXG5cdFx0XHRcdGhhc2ggdGV4dCBOT1QgTlVMTCxcblx0XHRcdFx0Y3JlYXRlZF9hdCBiaWdpbnRcblx0XHRcdClcblx0XHRgO1xuICAgICAgICBhd2FpdCBzZXNzaW9uLmV4ZWN1dGUoc3FsIGBDUkVBVEUgU0NIRU1BIElGIE5PVCBFWElTVFMgXCJkcml6emxlXCJgKTtcbiAgICAgICAgYXdhaXQgc2Vzc2lvbi5leGVjdXRlKG1pZ3JhdGlvblRhYmxlQ3JlYXRlKTtcbiAgICAgICAgY29uc3QgZGJNaWdyYXRpb25zID0gYXdhaXQgc2Vzc2lvbi5hbGwoc3FsIGBzZWxlY3QgaWQsIGhhc2gsIGNyZWF0ZWRfYXQgZnJvbSBcImRyaXp6bGVcIi5cIl9fZHJpenpsZV9taWdyYXRpb25zXCIgb3JkZXIgYnkgY3JlYXRlZF9hdCBkZXNjIGxpbWl0IDFgKTtcbiAgICAgICAgY29uc3QgbGFzdERiTWlncmF0aW9uID0gZGJNaWdyYXRpb25zWzBdO1xuICAgICAgICBhd2FpdCBzZXNzaW9uLnRyYW5zYWN0aW9uKGFzeW5jICh0eCkgPT4ge1xuICAgICAgICAgICAgZm9yIGF3YWl0IChjb25zdCBtaWdyYXRpb24gb2YgbWlncmF0aW9ucykge1xuICAgICAgICAgICAgICAgIGlmICghbGFzdERiTWlncmF0aW9uXG4gICAgICAgICAgICAgICAgICAgIHx8IE51bWJlcihsYXN0RGJNaWdyYXRpb24uY3JlYXRlZF9hdCkgPCBtaWdyYXRpb24uZm9sZGVyTWlsbGlzKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgc3RtdCBvZiBtaWdyYXRpb24uc3FsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0eC5leGVjdXRlKHNxbC5yYXcoc3RtdCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHR4LmV4ZWN1dGUoc3FsIGBpbnNlcnQgaW50byBcImRyaXp6bGVcIi5cIl9fZHJpenpsZV9taWdyYXRpb25zXCIgKFwiaGFzaFwiLCBcImNyZWF0ZWRfYXRcIikgdmFsdWVzKCR7bWlncmF0aW9uLmhhc2h9LCAke21pZ3JhdGlvbi5mb2xkZXJNaWxsaXN9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVzY2FwZU5hbWUobmFtZSkge1xuICAgICAgICByZXR1cm4gYFwiJHtuYW1lfVwiYDtcbiAgICB9XG4gICAgZXNjYXBlUGFyYW0obnVtKSB7XG4gICAgICAgIHJldHVybiBgJCR7bnVtICsgMX1gO1xuICAgIH1cbiAgICBlc2NhcGVTdHJpbmcoc3RyKSB7XG4gICAgICAgIHJldHVybiBgJyR7c3RyLnJlcGxhY2UoLycvZywgXCInJ1wiKX0nYDtcbiAgICB9XG4gICAgYnVpbGREZWxldGVRdWVyeSh7IHRhYmxlLCB3aGVyZSwgcmV0dXJuaW5nIH0pIHtcbiAgICAgICAgY29uc3QgcmV0dXJuaW5nU3FsID0gcmV0dXJuaW5nXG4gICAgICAgICAgICA/IHNxbCBgIHJldHVybmluZyAke3RoaXMuYnVpbGRTZWxlY3Rpb24ocmV0dXJuaW5nLCB7IGlzU2luZ2xlVGFibGU6IHRydWUgfSl9YFxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHdoZXJlU3FsID0gd2hlcmUgPyBzcWwgYCB3aGVyZSAke3doZXJlfWAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBzcWwgYGRlbGV0ZSBmcm9tICR7dGFibGV9JHt3aGVyZVNxbH0ke3JldHVybmluZ1NxbH1gO1xuICAgIH1cbiAgICBidWlsZFVwZGF0ZVNldCh0YWJsZSwgc2V0KSB7XG4gICAgICAgIGNvbnN0IHNldEVudHJpZXMgPSBPYmplY3QuZW50cmllcyhzZXQpO1xuICAgICAgICBjb25zdCBzZXRTaXplID0gc2V0RW50cmllcy5sZW5ndGg7XG4gICAgICAgIHJldHVybiBzcWwuam9pbihzZXRFbnRyaWVzXG4gICAgICAgICAgICAuZmxhdE1hcCgoW2NvbE5hbWUsIHZhbHVlXSwgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29sID0gdGFibGVbVGFibGUuU3ltYm9sLkNvbHVtbnNdW2NvbE5hbWVdO1xuICAgICAgICAgICAgY29uc3QgcmVzID0gc3FsIGAke3NxbC5pZGVudGlmaWVyKGNvbC5uYW1lKX0gPSAke3ZhbHVlfWA7XG4gICAgICAgICAgICBpZiAoaSA8IHNldFNpemUgLSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtyZXMsIHNxbC5yYXcoJywgJyldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtyZXNdO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGJ1aWxkVXBkYXRlUXVlcnkoeyB0YWJsZSwgc2V0LCB3aGVyZSwgcmV0dXJuaW5nIH0pIHtcbiAgICAgICAgY29uc3Qgc2V0U3FsID0gdGhpcy5idWlsZFVwZGF0ZVNldCh0YWJsZSwgc2V0KTtcbiAgICAgICAgY29uc3QgcmV0dXJuaW5nU3FsID0gcmV0dXJuaW5nXG4gICAgICAgICAgICA/IHNxbCBgIHJldHVybmluZyAke3RoaXMuYnVpbGRTZWxlY3Rpb24ocmV0dXJuaW5nLCB7IGlzU2luZ2xlVGFibGU6IHRydWUgfSl9YFxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHdoZXJlU3FsID0gd2hlcmUgPyBzcWwgYCB3aGVyZSAke3doZXJlfWAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBzcWwgYHVwZGF0ZSAke3RhYmxlfSBzZXQgJHtzZXRTcWx9JHt3aGVyZVNxbH0ke3JldHVybmluZ1NxbH1gO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCdWlsZHMgc2VsZWN0aW9uIFNRTCB3aXRoIHByb3ZpZGVkIGZpZWxkcy9leHByZXNzaW9uc1xuICAgICAqXG4gICAgICogRXhhbXBsZXM6XG4gICAgICpcbiAgICAgKiBgc2VsZWN0IDxzZWxlY3Rpb24+IGZyb21gXG4gICAgICpcbiAgICAgKiBgaW5zZXJ0IC4uLiByZXR1cm5pbmcgPHNlbGVjdGlvbj5gXG4gICAgICpcbiAgICAgKiBJZiBgaXNTaW5nbGVUYWJsZWAgaXMgdHJ1ZSwgdGhlbiBjb2x1bW5zIHdvbid0IGJlIHByZWZpeGVkIHdpdGggdGFibGUgbmFtZVxuICAgICAqL1xuICAgIGJ1aWxkU2VsZWN0aW9uKGZpZWxkcywgeyBpc1NpbmdsZVRhYmxlID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGNvbHVtbnNMZW4gPSBmaWVsZHMubGVuZ3RoO1xuICAgICAgICBjb25zdCBjaHVua3MgPSBmaWVsZHNcbiAgICAgICAgICAgIC5mbGF0TWFwKCh7IGZpZWxkIH0sIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNodW5rID0gW107XG4gICAgICAgICAgICBpZiAoaXMoZmllbGQsIFNRTC5BbGlhc2VkKSAmJiBmaWVsZC5pc1NlbGVjdGlvbkZpZWxkKSB7XG4gICAgICAgICAgICAgICAgY2h1bmsucHVzaChzcWwuaWRlbnRpZmllcihmaWVsZC5maWVsZEFsaWFzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpcyhmaWVsZCwgU1FMLkFsaWFzZWQpIHx8IGlzKGZpZWxkLCBTUUwpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcXVlcnkgPSBpcyhmaWVsZCwgU1FMLkFsaWFzZWQpID8gZmllbGQuc3FsIDogZmllbGQ7XG4gICAgICAgICAgICAgICAgaWYgKGlzU2luZ2xlVGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2h1bmsucHVzaChuZXcgU1FMKHF1ZXJ5LnF1ZXJ5Q2h1bmtzLm1hcCgoYykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzKGMsIFBnQ29sdW1uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzcWwuaWRlbnRpZmllcihjLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgICAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjaHVuay5wdXNoKHF1ZXJ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzKGZpZWxkLCBTUUwuQWxpYXNlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2h1bmsucHVzaChzcWwgYCBhcyAke3NxbC5pZGVudGlmaWVyKGZpZWxkLmZpZWxkQWxpYXMpfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzKGZpZWxkLCBDb2x1bW4pKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzU2luZ2xlVGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2h1bmsucHVzaChzcWwuaWRlbnRpZmllcihmaWVsZC5uYW1lKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjaHVuay5wdXNoKGZpZWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaSA8IGNvbHVtbnNMZW4gLSAxKSB7XG4gICAgICAgICAgICAgICAgY2h1bmsucHVzaChzcWwgYCwgYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2h1bms7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc3FsLmpvaW4oY2h1bmtzKTtcbiAgICB9XG4gICAgYnVpbGRTZWxlY3RRdWVyeSh7IHdpdGhMaXN0LCBmaWVsZHMsIGZpZWxkc0ZsYXQsIHdoZXJlLCBoYXZpbmcsIHRhYmxlLCBqb2lucywgb3JkZXJCeSwgZ3JvdXBCeSwgbGltaXQsIG9mZnNldCwgbG9ja2luZ0NsYXVzZXMsIGRpc3RpbmN0LCB9KSB7XG4gICAgICAgIGNvbnN0IGZpZWxkc0xpc3QgPSBmaWVsZHNGbGF0ID8/IG9yZGVyU2VsZWN0ZWRGaWVsZHMoZmllbGRzKTtcbiAgICAgICAgZm9yIChjb25zdCBmIG9mIGZpZWxkc0xpc3QpIHtcbiAgICAgICAgICAgIGlmIChpcyhmLmZpZWxkLCBDb2x1bW4pXG4gICAgICAgICAgICAgICAgJiYgZ2V0VGFibGVOYW1lKGYuZmllbGQudGFibGUpXG4gICAgICAgICAgICAgICAgICAgICE9PSAoaXModGFibGUsIFN1YnF1ZXJ5KVxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0YWJsZVtTdWJxdWVyeUNvbmZpZ10uYWxpYXNcbiAgICAgICAgICAgICAgICAgICAgICAgIDogaXModGFibGUsIFBnVmlld0Jhc2UpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0YWJsZVtWaWV3QmFzZUNvbmZpZ10ubmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogaXModGFibGUsIFNRTClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBnZXRUYWJsZU5hbWUodGFibGUpKVxuICAgICAgICAgICAgICAgICYmICEoKHRhYmxlKSA9PiBqb2lucz8uc29tZSgoeyBhbGlhcyB9KSA9PiBhbGlhcyA9PT0gKHRhYmxlW1RhYmxlLlN5bWJvbC5Jc0FsaWFzXSA/IGdldFRhYmxlTmFtZSh0YWJsZSkgOiB0YWJsZVtUYWJsZS5TeW1ib2wuQmFzZU5hbWVdKSkpKGYuZmllbGQudGFibGUpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFibGVOYW1lID0gZ2V0VGFibGVOYW1lKGYuZmllbGQudGFibGUpO1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgWW91ciBcIiR7Zi5wYXRoLmpvaW4oJy0+Jyl9XCIgZmllbGQgcmVmZXJlbmNlcyBhIGNvbHVtbiBcIiR7dGFibGVOYW1lfVwiLlwiJHtmLmZpZWxkLm5hbWV9XCIsIGJ1dCB0aGUgdGFibGUgXCIke3RhYmxlTmFtZX1cIiBpcyBub3QgcGFydCBvZiB0aGUgcXVlcnkhIERpZCB5b3UgZm9yZ2V0IHRvIGpvaW4gaXQ/YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgaXNTaW5nbGVUYWJsZSA9ICFqb2lucyB8fCBqb2lucy5sZW5ndGggPT09IDA7XG4gICAgICAgIGxldCB3aXRoU3FsO1xuICAgICAgICBpZiAod2l0aExpc3Q/Lmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3Qgd2l0aFNxbENodW5rcyA9IFtzcWwgYHdpdGggYF07XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtpLCB3XSBvZiB3aXRoTGlzdC5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICB3aXRoU3FsQ2h1bmtzLnB1c2goc3FsIGAke3NxbC5pZGVudGlmaWVyKHdbU3VicXVlcnlDb25maWddLmFsaWFzKX0gYXMgKCR7d1tTdWJxdWVyeUNvbmZpZ10uc3FsfSlgKTtcbiAgICAgICAgICAgICAgICBpZiAoaSA8IHdpdGhMaXN0Lmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgd2l0aFNxbENodW5rcy5wdXNoKHNxbCBgLCBgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aXRoU3FsQ2h1bmtzLnB1c2goc3FsIGAgYCk7XG4gICAgICAgICAgICB3aXRoU3FsID0gc3FsLmpvaW4od2l0aFNxbENodW5rcyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRpc3RpbmN0U3FsO1xuICAgICAgICBpZiAoZGlzdGluY3QpIHtcbiAgICAgICAgICAgIGRpc3RpbmN0U3FsID0gZGlzdGluY3QgPT09IHRydWUgPyBzcWwgYCBkaXN0aW5jdGAgOiBzcWwgYCBkaXN0aW5jdCBvbiAoJHtzcWwuam9pbihkaXN0aW5jdC5vbiwgJywgJyl9KWA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gdGhpcy5idWlsZFNlbGVjdGlvbihmaWVsZHNMaXN0LCB7IGlzU2luZ2xlVGFibGUgfSk7XG4gICAgICAgIGNvbnN0IHRhYmxlU3FsID0gKCgpID0+IHtcbiAgICAgICAgICAgIGlmIChpcyh0YWJsZSwgVGFibGUpICYmIHRhYmxlW1RhYmxlLlN5bWJvbC5PcmlnaW5hbE5hbWVdICE9PSB0YWJsZVtUYWJsZS5TeW1ib2wuTmFtZV0pIHtcbiAgICAgICAgICAgICAgICBsZXQgZnVsbE5hbWUgPSBzcWwgYCR7c3FsLmlkZW50aWZpZXIodGFibGVbVGFibGUuU3ltYm9sLk9yaWdpbmFsTmFtZV0pfWA7XG4gICAgICAgICAgICAgICAgaWYgKHRhYmxlW1RhYmxlLlN5bWJvbC5TY2hlbWFdKSB7XG4gICAgICAgICAgICAgICAgICAgIGZ1bGxOYW1lID0gc3FsIGAke3NxbC5pZGVudGlmaWVyKHRhYmxlW1RhYmxlLlN5bWJvbC5TY2hlbWFdKX0uJHtmdWxsTmFtZX1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc3FsIGAke2Z1bGxOYW1lfSAke3NxbC5pZGVudGlmaWVyKHRhYmxlW1RhYmxlLlN5bWJvbC5OYW1lXSl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0YWJsZTtcbiAgICAgICAgfSkoKTtcbiAgICAgICAgY29uc3Qgam9pbnNBcnJheSA9IFtdO1xuICAgICAgICBpZiAoam9pbnMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBqb2luTWV0YV0gb2Ygam9pbnMuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGpvaW5zQXJyYXkucHVzaChzcWwgYCBgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdGFibGUgPSBqb2luTWV0YS50YWJsZTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXRlcmFsU3FsID0gam9pbk1ldGEubGF0ZXJhbCA/IHNxbCBgIGxhdGVyYWxgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGlmIChpcyh0YWJsZSwgUGdUYWJsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFibGVOYW1lID0gdGFibGVbUGdUYWJsZS5TeW1ib2wuTmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhYmxlU2NoZW1hID0gdGFibGVbUGdUYWJsZS5TeW1ib2wuU2NoZW1hXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ1RhYmxlTmFtZSA9IHRhYmxlW1BnVGFibGUuU3ltYm9sLk9yaWdpbmFsTmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsaWFzID0gdGFibGVOYW1lID09PSBvcmlnVGFibGVOYW1lID8gdW5kZWZpbmVkIDogam9pbk1ldGEuYWxpYXM7XG4gICAgICAgICAgICAgICAgICAgIGpvaW5zQXJyYXkucHVzaChzcWwgYCR7c3FsLnJhdyhqb2luTWV0YS5qb2luVHlwZSl9IGpvaW4ke2xhdGVyYWxTcWx9ICR7dGFibGVTY2hlbWEgPyBzcWwgYCR7c3FsLmlkZW50aWZpZXIodGFibGVTY2hlbWEpfS5gIDogdW5kZWZpbmVkfSR7c3FsLmlkZW50aWZpZXIob3JpZ1RhYmxlTmFtZSl9JHthbGlhcyAmJiBzcWwgYCAke3NxbC5pZGVudGlmaWVyKGFsaWFzKX1gfSBvbiAke2pvaW5NZXRhLm9ufWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpcyh0YWJsZSwgVmlldykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgdmlld05hbWUgPSB0YWJsZVtWaWV3QmFzZUNvbmZpZ10ubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgdmlld1NjaGVtYSA9IHRhYmxlW1ZpZXdCYXNlQ29uZmlnXS5zY2hlbWE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdWaWV3TmFtZSA9IHRhYmxlW1ZpZXdCYXNlQ29uZmlnXS5vcmlnaW5hbE5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsaWFzID0gdmlld05hbWUgPT09IG9yaWdWaWV3TmFtZSA/IHVuZGVmaW5lZCA6IGpvaW5NZXRhLmFsaWFzO1xuICAgICAgICAgICAgICAgICAgICBqb2luc0FycmF5LnB1c2goc3FsIGAke3NxbC5yYXcoam9pbk1ldGEuam9pblR5cGUpfSBqb2luJHtsYXRlcmFsU3FsfSAke3ZpZXdTY2hlbWEgPyBzcWwgYCR7c3FsLmlkZW50aWZpZXIodmlld1NjaGVtYSl9LmAgOiB1bmRlZmluZWR9JHtzcWwuaWRlbnRpZmllcihvcmlnVmlld05hbWUpfSR7YWxpYXMgJiYgc3FsIGAgJHtzcWwuaWRlbnRpZmllcihhbGlhcyl9YH0gb24gJHtqb2luTWV0YS5vbn1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGpvaW5zQXJyYXkucHVzaChzcWwgYCR7c3FsLnJhdyhqb2luTWV0YS5qb2luVHlwZSl9IGpvaW4ke2xhdGVyYWxTcWx9ICR7dGFibGV9IG9uICR7am9pbk1ldGEub259YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IGpvaW5zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgam9pbnNBcnJheS5wdXNoKHNxbCBgIGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBqb2luc1NxbCA9IHNxbC5qb2luKGpvaW5zQXJyYXkpO1xuICAgICAgICBjb25zdCB3aGVyZVNxbCA9IHdoZXJlID8gc3FsIGAgd2hlcmUgJHt3aGVyZX1gIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBoYXZpbmdTcWwgPSBoYXZpbmcgPyBzcWwgYCBoYXZpbmcgJHtoYXZpbmd9YCA6IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IG9yZGVyQnlTcWw7XG4gICAgICAgIGlmIChvcmRlckJ5ICYmIG9yZGVyQnkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgb3JkZXJCeVNxbCA9IHNxbCBgIG9yZGVyIGJ5ICR7c3FsLmpvaW4ob3JkZXJCeSwgc3FsIGAsIGApfWA7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGdyb3VwQnlTcWw7XG4gICAgICAgIGlmIChncm91cEJ5ICYmIGdyb3VwQnkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZ3JvdXBCeVNxbCA9IHNxbCBgIGdyb3VwIGJ5ICR7c3FsLmpvaW4oZ3JvdXBCeSwgc3FsIGAsIGApfWA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGltaXRTcWwgPSBsaW1pdCA/IHNxbCBgIGxpbWl0ICR7bGltaXR9YCA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgb2Zmc2V0U3FsID0gb2Zmc2V0ID8gc3FsIGAgb2Zmc2V0ICR7b2Zmc2V0fWAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IGxvY2tpbmdDbGF1c2VzU3FsID0gc3FsLmVtcHR5KCk7XG4gICAgICAgIGlmIChsb2NraW5nQ2xhdXNlcykge1xuICAgICAgICAgICAgZm9yIChjb25zdCB7IHN0cmVuZ3RoLCBjb25maWcgfSBvZiBsb2NraW5nQ2xhdXNlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNsYXVzZVNxbCA9IHNxbCBgIGZvciAke3NxbC5yYXcoc3RyZW5ndGgpfWA7XG4gICAgICAgICAgICAgICAgaWYgKGNvbmZpZy5vZikge1xuICAgICAgICAgICAgICAgICAgICBjbGF1c2VTcWwuYXBwZW5kKHNxbCBgIG9mICR7Y29uZmlnLm9mfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoY29uZmlnLm5vV2FpdCkge1xuICAgICAgICAgICAgICAgICAgICBjbGF1c2VTcWwuYXBwZW5kKHNxbCBgIG5vIHdhaXRgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoY29uZmlnLnNraXBMb2NrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xhdXNlU3FsLmFwcGVuZChzcWwgYCBza2lwIGxvY2tlZGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb2NraW5nQ2xhdXNlc1NxbC5hcHBlbmQoY2xhdXNlU3FsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3FsIGAke3dpdGhTcWx9c2VsZWN0JHtkaXN0aW5jdFNxbH0gJHtzZWxlY3Rpb259IGZyb20gJHt0YWJsZVNxbH0ke2pvaW5zU3FsfSR7d2hlcmVTcWx9JHtncm91cEJ5U3FsfSR7aGF2aW5nU3FsfSR7b3JkZXJCeVNxbH0ke2xpbWl0U3FsfSR7b2Zmc2V0U3FsfSR7bG9ja2luZ0NsYXVzZXNTcWx9YDtcbiAgICB9XG4gICAgYnVpbGRJbnNlcnRRdWVyeSh7IHRhYmxlLCB2YWx1ZXMsIG9uQ29uZmxpY3QsIHJldHVybmluZyB9KSB7XG4gICAgICAgIGNvbnN0IHZhbHVlc1NxbExpc3QgPSBbXTtcbiAgICAgICAgY29uc3QgY29sdW1ucyA9IHRhYmxlW1RhYmxlLlN5bWJvbC5Db2x1bW5zXTtcbiAgICAgICAgY29uc3QgY29sRW50cmllcyA9IE9iamVjdC5lbnRyaWVzKGNvbHVtbnMpO1xuICAgICAgICBjb25zdCBpbnNlcnRPcmRlciA9IGNvbEVudHJpZXMubWFwKChbLCBjb2x1bW5dKSA9PiBzcWwuaWRlbnRpZmllcihjb2x1bW4ubmFtZSkpO1xuICAgICAgICBmb3IgKGNvbnN0IFt2YWx1ZUluZGV4LCB2YWx1ZV0gb2YgdmFsdWVzLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgY29uc3QgdmFsdWVMaXN0ID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtmaWVsZE5hbWUsIGNvbF0gb2YgY29sRW50cmllcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbFZhbHVlID0gdmFsdWVbZmllbGROYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoY29sVmFsdWUgPT09IHVuZGVmaW5lZCB8fCAoaXMoY29sVmFsdWUsIFBhcmFtKSAmJiBjb2xWYWx1ZS52YWx1ZSA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgdW5pY29ybi9uby1uZWdhdGVkLWNvbmRpdGlvblxuICAgICAgICAgICAgICAgICAgICBpZiAoY29sLmRlZmF1bHRGbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0Rm5SZXN1bHQgPSBjb2wuZGVmYXVsdEZuKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWUgPSBpcyhkZWZhdWx0Rm5SZXN1bHQsIFNRTCkgPyBkZWZhdWx0Rm5SZXN1bHQgOiBzcWwucGFyYW0oZGVmYXVsdEZuUmVzdWx0LCBjb2wpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVMaXN0LnB1c2goZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlTGlzdC5wdXNoKHNxbCBgZGVmYXVsdGApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZUxpc3QucHVzaChjb2xWYWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWVzU3FsTGlzdC5wdXNoKHZhbHVlTGlzdCk7XG4gICAgICAgICAgICBpZiAodmFsdWVJbmRleCA8IHZhbHVlcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzU3FsTGlzdC5wdXNoKHNxbCBgLCBgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZXNTcWwgPSBzcWwuam9pbih2YWx1ZXNTcWxMaXN0KTtcbiAgICAgICAgY29uc3QgcmV0dXJuaW5nU3FsID0gcmV0dXJuaW5nXG4gICAgICAgICAgICA/IHNxbCBgIHJldHVybmluZyAke3RoaXMuYnVpbGRTZWxlY3Rpb24ocmV0dXJuaW5nLCB7IGlzU2luZ2xlVGFibGU6IHRydWUgfSl9YFxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IG9uQ29uZmxpY3RTcWwgPSBvbkNvbmZsaWN0ID8gc3FsIGAgb24gY29uZmxpY3QgJHtvbkNvbmZsaWN0fWAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBzcWwgYGluc2VydCBpbnRvICR7dGFibGV9ICR7aW5zZXJ0T3JkZXJ9IHZhbHVlcyAke3ZhbHVlc1NxbH0ke29uQ29uZmxpY3RTcWx9JHtyZXR1cm5pbmdTcWx9YDtcbiAgICB9XG4gICAgYnVpbGRSZWZyZXNoTWF0ZXJpYWxpemVkVmlld1F1ZXJ5KHsgdmlldywgY29uY3VycmVudGx5LCB3aXRoTm9EYXRhIH0pIHtcbiAgICAgICAgY29uc3QgY29uY3VycmVudGx5U3FsID0gY29uY3VycmVudGx5ID8gc3FsIGAgY29uY3VycmVudGx5YCA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgd2l0aE5vRGF0YVNxbCA9IHdpdGhOb0RhdGEgPyBzcWwgYCB3aXRoIG5vIGRhdGFgIDogdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gc3FsIGByZWZyZXNoIG1hdGVyaWFsaXplZCB2aWV3JHtjb25jdXJyZW50bHlTcWx9ICR7dmlld30ke3dpdGhOb0RhdGFTcWx9YDtcbiAgICB9XG4gICAgcHJlcGFyZVR5cGluZyhlbmNvZGVyKSB7XG4gICAgICAgIGlmIChpcyhlbmNvZGVyLCBQZ0pzb25iKSB8fCBpcyhlbmNvZGVyLCBQZ0pzb24pKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2pzb24nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzKGVuY29kZXIsIFBnTnVtZXJpYykpIHtcbiAgICAgICAgICAgIHJldHVybiAnZGVjaW1hbCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXMoZW5jb2RlciwgUGdUaW1lKSkge1xuICAgICAgICAgICAgcmV0dXJuICd0aW1lJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpcyhlbmNvZGVyLCBQZ1RpbWVzdGFtcCkpIHtcbiAgICAgICAgICAgIHJldHVybiAndGltZXN0YW1wJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpcyhlbmNvZGVyLCBQZ0RhdGUpKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2RhdGUnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzKGVuY29kZXIsIFBnVVVJRCkpIHtcbiAgICAgICAgICAgIHJldHVybiAndXVpZCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJ25vbmUnO1xuICAgICAgICB9XG4gICAgfVxuICAgIHNxbFRvUXVlcnkoc3FsKSB7XG4gICAgICAgIHJldHVybiBzcWwudG9RdWVyeSh7XG4gICAgICAgICAgICBlc2NhcGVOYW1lOiB0aGlzLmVzY2FwZU5hbWUsXG4gICAgICAgICAgICBlc2NhcGVQYXJhbTogdGhpcy5lc2NhcGVQYXJhbSxcbiAgICAgICAgICAgIGVzY2FwZVN0cmluZzogdGhpcy5lc2NhcGVTdHJpbmcsXG4gICAgICAgICAgICBwcmVwYXJlVHlwaW5nOiB0aGlzLnByZXBhcmVUeXBpbmcsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBidWlsZFJlbGF0aW9uYWxRdWVyeVdpdGhQSyh7XG4gICAgLy8gXHRmdWxsU2NoZW1hLFxuICAgIC8vIFx0c2NoZW1hLFxuICAgIC8vIFx0dGFibGVOYW1lc01hcCxcbiAgICAvLyBcdHRhYmxlLFxuICAgIC8vIFx0dGFibGVDb25maWcsXG4gICAgLy8gXHRxdWVyeUNvbmZpZzogY29uZmlnLFxuICAgIC8vIFx0dGFibGVBbGlhcyxcbiAgICAvLyBcdGlzUm9vdCA9IGZhbHNlLFxuICAgIC8vIFx0am9pbk9uLFxuICAgIC8vIH06IHtcbiAgICAvLyBcdGZ1bGxTY2hlbWE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xuICAgIC8vIFx0c2NoZW1hOiBUYWJsZXNSZWxhdGlvbmFsQ29uZmlnO1xuICAgIC8vIFx0dGFibGVOYW1lc01hcDogUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcbiAgICAvLyBcdHRhYmxlOiBQZ1RhYmxlO1xuICAgIC8vIFx0dGFibGVDb25maWc6IFRhYmxlUmVsYXRpb25hbENvbmZpZztcbiAgICAvLyBcdHF1ZXJ5Q29uZmlnOiB0cnVlIHwgREJRdWVyeUNvbmZpZzwnbWFueScsIHRydWU+O1xuICAgIC8vIFx0dGFibGVBbGlhczogc3RyaW5nO1xuICAgIC8vIFx0aXNSb290PzogYm9vbGVhbjtcbiAgICAvLyBcdGpvaW5Pbj86IFNRTDtcbiAgICAvLyB9KTogQnVpbGRSZWxhdGlvbmFsUXVlcnlSZXN1bHQ8UGdUYWJsZSwgUGdDb2x1bW4+IHtcbiAgICAvLyBcdC8vIEZvciB7IFwiPHJlbGF0aW9uPlwiOiB0cnVlIH0sIHJldHVybiBhIHRhYmxlIHdpdGggc2VsZWN0aW9uIG9mIGFsbCBjb2x1bW5zXG4gICAgLy8gXHRpZiAoY29uZmlnID09PSB0cnVlKSB7XG4gICAgLy8gXHRcdGNvbnN0IHNlbGVjdGlvbkVudHJpZXMgPSBPYmplY3QuZW50cmllcyh0YWJsZUNvbmZpZy5jb2x1bW5zKTtcbiAgICAvLyBcdFx0Y29uc3Qgc2VsZWN0aW9uOiBCdWlsZFJlbGF0aW9uYWxRdWVyeVJlc3VsdDxQZ1RhYmxlLCBQZ0NvbHVtbj5bJ3NlbGVjdGlvbiddID0gc2VsZWN0aW9uRW50cmllcy5tYXAoKFxuICAgIC8vIFx0XHRcdFtrZXksIHZhbHVlXSxcbiAgICAvLyBcdFx0KSA9PiAoe1xuICAgIC8vIFx0XHRcdGRiS2V5OiB2YWx1ZS5uYW1lLFxuICAgIC8vIFx0XHRcdHRzS2V5OiBrZXksXG4gICAgLy8gXHRcdFx0ZmllbGQ6IHZhbHVlIGFzIFBnQ29sdW1uLFxuICAgIC8vIFx0XHRcdHJlbGF0aW9uVGFibGVUc0tleTogdW5kZWZpbmVkLFxuICAgIC8vIFx0XHRcdGlzSnNvbjogZmFsc2UsXG4gICAgLy8gXHRcdFx0c2VsZWN0aW9uOiBbXSxcbiAgICAvLyBcdFx0fSkpO1xuICAgIC8vIFx0XHRyZXR1cm4ge1xuICAgIC8vIFx0XHRcdHRhYmxlVHNLZXk6IHRhYmxlQ29uZmlnLnRzTmFtZSxcbiAgICAvLyBcdFx0XHRzcWw6IHRhYmxlLFxuICAgIC8vIFx0XHRcdHNlbGVjdGlvbixcbiAgICAvLyBcdFx0fTtcbiAgICAvLyBcdH1cbiAgICAvLyBcdC8vIGxldCBzZWxlY3Rpb246IEJ1aWxkUmVsYXRpb25hbFF1ZXJ5UmVzdWx0PFBnVGFibGUsIFBnQ29sdW1uPlsnc2VsZWN0aW9uJ10gPSBbXTtcbiAgICAvLyBcdC8vIGxldCBzZWxlY3Rpb25Gb3JCdWlsZCA9IHNlbGVjdGlvbjtcbiAgICAvLyBcdGNvbnN0IGFsaWFzZWRDb2x1bW5zID0gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgIC8vIFx0XHRPYmplY3QuZW50cmllcyh0YWJsZUNvbmZpZy5jb2x1bW5zKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gW2tleSwgYWxpYXNlZFRhYmxlQ29sdW1uKHZhbHVlLCB0YWJsZUFsaWFzKV0pLFxuICAgIC8vIFx0KTtcbiAgICAvLyBcdGNvbnN0IGFsaWFzZWRSZWxhdGlvbnMgPSBPYmplY3QuZnJvbUVudHJpZXMoXG4gICAgLy8gXHRcdE9iamVjdC5lbnRyaWVzKHRhYmxlQ29uZmlnLnJlbGF0aW9ucykubWFwKChba2V5LCB2YWx1ZV0pID0+IFtrZXksIGFsaWFzZWRSZWxhdGlvbih2YWx1ZSwgdGFibGVBbGlhcyldKSxcbiAgICAvLyBcdCk7XG4gICAgLy8gXHRjb25zdCBhbGlhc2VkRmllbGRzID0gT2JqZWN0LmFzc2lnbih7fSwgYWxpYXNlZENvbHVtbnMsIGFsaWFzZWRSZWxhdGlvbnMpO1xuICAgIC8vIFx0bGV0IHdoZXJlLCBoYXNVc2VyRGVmaW5lZFdoZXJlO1xuICAgIC8vIFx0aWYgKGNvbmZpZy53aGVyZSkge1xuICAgIC8vIFx0XHRjb25zdCB3aGVyZVNxbCA9IHR5cGVvZiBjb25maWcud2hlcmUgPT09ICdmdW5jdGlvbicgPyBjb25maWcud2hlcmUoYWxpYXNlZEZpZWxkcywgb3BlcmF0b3JzKSA6IGNvbmZpZy53aGVyZTtcbiAgICAvLyBcdFx0d2hlcmUgPSB3aGVyZVNxbCAmJiBtYXBDb2x1bW5zSW5TUUxUb0FsaWFzKHdoZXJlU3FsLCB0YWJsZUFsaWFzKTtcbiAgICAvLyBcdFx0aGFzVXNlckRlZmluZWRXaGVyZSA9ICEhd2hlcmU7XG4gICAgLy8gXHR9XG4gICAgLy8gXHR3aGVyZSA9IGFuZChqb2luT24sIHdoZXJlKTtcbiAgICAvLyBcdC8vIGNvbnN0IGZpZWxkc1NlbGVjdGlvbjogeyB0c0tleTogc3RyaW5nOyB2YWx1ZTogUGdDb2x1bW4gfCBTUUwuQWxpYXNlZDsgaXNFeHRyYT86IGJvb2xlYW4gfVtdID0gW107XG4gICAgLy8gXHRsZXQgam9pbnM6IEpvaW5bXSA9IFtdO1xuICAgIC8vIFx0bGV0IHNlbGVjdGVkQ29sdW1uczogc3RyaW5nW10gPSBbXTtcbiAgICAvLyBcdC8vIEZpZ3VyZSBvdXQgd2hpY2ggY29sdW1ucyB0byBzZWxlY3RcbiAgICAvLyBcdGlmIChjb25maWcuY29sdW1ucykge1xuICAgIC8vIFx0XHRsZXQgaXNJbmNsdWRlTW9kZSA9IGZhbHNlO1xuICAgIC8vIFx0XHRmb3IgKGNvbnN0IFtmaWVsZCwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGNvbmZpZy5jb2x1bW5zKSkge1xuICAgIC8vIFx0XHRcdGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gXHRcdFx0XHRjb250aW51ZTtcbiAgICAvLyBcdFx0XHR9XG4gICAgLy8gXHRcdFx0aWYgKGZpZWxkIGluIHRhYmxlQ29uZmlnLmNvbHVtbnMpIHtcbiAgICAvLyBcdFx0XHRcdGlmICghaXNJbmNsdWRlTW9kZSAmJiB2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgIC8vIFx0XHRcdFx0XHRpc0luY2x1ZGVNb2RlID0gdHJ1ZTtcbiAgICAvLyBcdFx0XHRcdH1cbiAgICAvLyBcdFx0XHRcdHNlbGVjdGVkQ29sdW1ucy5wdXNoKGZpZWxkKTtcbiAgICAvLyBcdFx0XHR9XG4gICAgLy8gXHRcdH1cbiAgICAvLyBcdFx0aWYgKHNlbGVjdGVkQ29sdW1ucy5sZW5ndGggPiAwKSB7XG4gICAgLy8gXHRcdFx0c2VsZWN0ZWRDb2x1bW5zID0gaXNJbmNsdWRlTW9kZVxuICAgIC8vIFx0XHRcdFx0PyBzZWxlY3RlZENvbHVtbnMuZmlsdGVyKChjKSA9PiBjb25maWcuY29sdW1ucz8uW2NdID09PSB0cnVlKVxuICAgIC8vIFx0XHRcdFx0OiBPYmplY3Qua2V5cyh0YWJsZUNvbmZpZy5jb2x1bW5zKS5maWx0ZXIoKGtleSkgPT4gIXNlbGVjdGVkQ29sdW1ucy5pbmNsdWRlcyhrZXkpKTtcbiAgICAvLyBcdFx0fVxuICAgIC8vIFx0fSBlbHNlIHtcbiAgICAvLyBcdFx0Ly8gU2VsZWN0IGFsbCBjb2x1bW5zIGlmIHNlbGVjdGlvbiBpcyBub3Qgc3BlY2lmaWVkXG4gICAgLy8gXHRcdHNlbGVjdGVkQ29sdW1ucyA9IE9iamVjdC5rZXlzKHRhYmxlQ29uZmlnLmNvbHVtbnMpO1xuICAgIC8vIFx0fVxuICAgIC8vIFx0Ly8gZm9yIChjb25zdCBmaWVsZCBvZiBzZWxlY3RlZENvbHVtbnMpIHtcbiAgICAvLyBcdC8vIFx0Y29uc3QgY29sdW1uID0gdGFibGVDb25maWcuY29sdW1uc1tmaWVsZF0hIGFzIFBnQ29sdW1uO1xuICAgIC8vIFx0Ly8gXHRmaWVsZHNTZWxlY3Rpb24ucHVzaCh7IHRzS2V5OiBmaWVsZCwgdmFsdWU6IGNvbHVtbiB9KTtcbiAgICAvLyBcdC8vIH1cbiAgICAvLyBcdGxldCBpbml0aWFsbHlTZWxlY3RlZFJlbGF0aW9uczoge1xuICAgIC8vIFx0XHR0c0tleTogc3RyaW5nO1xuICAgIC8vIFx0XHRxdWVyeUNvbmZpZzogdHJ1ZSB8IERCUXVlcnlDb25maWc8J21hbnknLCBmYWxzZT47XG4gICAgLy8gXHRcdHJlbGF0aW9uOiBSZWxhdGlvbjtcbiAgICAvLyBcdH1bXSA9IFtdO1xuICAgIC8vIFx0Ly8gbGV0IHNlbGVjdGVkUmVsYXRpb25zOiBCdWlsZFJlbGF0aW9uYWxRdWVyeVJlc3VsdDxQZ1RhYmxlLCBQZ0NvbHVtbj5bJ3NlbGVjdGlvbiddID0gW107XG4gICAgLy8gXHQvLyBGaWd1cmUgb3V0IHdoaWNoIHJlbGF0aW9ucyB0byBzZWxlY3RcbiAgICAvLyBcdGlmIChjb25maWcud2l0aCkge1xuICAgIC8vIFx0XHRpbml0aWFsbHlTZWxlY3RlZFJlbGF0aW9ucyA9IE9iamVjdC5lbnRyaWVzKGNvbmZpZy53aXRoKVxuICAgIC8vIFx0XHRcdC5maWx0ZXIoKGVudHJ5KTogZW50cnkgaXMgW3R5cGVvZiBlbnRyeVswXSwgTm9uTnVsbGFibGU8dHlwZW9mIGVudHJ5WzFdPl0gPT4gISFlbnRyeVsxXSlcbiAgICAvLyBcdFx0XHQubWFwKChbdHNLZXksIHF1ZXJ5Q29uZmlnXSkgPT4gKHsgdHNLZXksIHF1ZXJ5Q29uZmlnLCByZWxhdGlvbjogdGFibGVDb25maWcucmVsYXRpb25zW3RzS2V5XSEgfSkpO1xuICAgIC8vIFx0fVxuICAgIC8vIFx0Y29uc3QgbWFueVJlbGF0aW9ucyA9IGluaXRpYWxseVNlbGVjdGVkUmVsYXRpb25zLmZpbHRlcigocikgPT5cbiAgICAvLyBcdFx0aXMoci5yZWxhdGlvbiwgTWFueSlcbiAgICAvLyBcdFx0JiYgKHNjaGVtYVt0YWJsZU5hbWVzTWFwW3IucmVsYXRpb24ucmVmZXJlbmNlZFRhYmxlW1RhYmxlLlN5bWJvbC5OYW1lXV0hXT8ucHJpbWFyeUtleS5sZW5ndGggPz8gMCkgPiAwXG4gICAgLy8gXHQpO1xuICAgIC8vIFx0Ly8gSWYgdGhpcyBpcyB0aGUgbGFzdCBNYW55IHJlbGF0aW9uIChvciB0aGVyZSBhcmUgbm8gTWFueSByZWxhdGlvbnMpLCB3ZSBhcmUgb24gdGhlIGlubmVybW9zdCBzdWJxdWVyeSBsZXZlbFxuICAgIC8vIFx0Y29uc3QgaXNJbm5lcm1vc3RRdWVyeSA9IG1hbnlSZWxhdGlvbnMubGVuZ3RoIDwgMjtcbiAgICAvLyBcdGNvbnN0IHNlbGVjdGVkRXh0cmFzOiB7XG4gICAgLy8gXHRcdHRzS2V5OiBzdHJpbmc7XG4gICAgLy8gXHRcdHZhbHVlOiBTUUwuQWxpYXNlZDtcbiAgICAvLyBcdH1bXSA9IFtdO1xuICAgIC8vIFx0Ly8gRmlndXJlIG91dCB3aGljaCBleHRyYXMgdG8gc2VsZWN0XG4gICAgLy8gXHRpZiAoaXNJbm5lcm1vc3RRdWVyeSAmJiBjb25maWcuZXh0cmFzKSB7XG4gICAgLy8gXHRcdGNvbnN0IGV4dHJhcyA9IHR5cGVvZiBjb25maWcuZXh0cmFzID09PSAnZnVuY3Rpb24nXG4gICAgLy8gXHRcdFx0PyBjb25maWcuZXh0cmFzKGFsaWFzZWRGaWVsZHMsIHsgc3FsIH0pXG4gICAgLy8gXHRcdFx0OiBjb25maWcuZXh0cmFzO1xuICAgIC8vIFx0XHRmb3IgKGNvbnN0IFt0c0tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGV4dHJhcykpIHtcbiAgICAvLyBcdFx0XHRzZWxlY3RlZEV4dHJhcy5wdXNoKHtcbiAgICAvLyBcdFx0XHRcdHRzS2V5LFxuICAgIC8vIFx0XHRcdFx0dmFsdWU6IG1hcENvbHVtbnNJbkFsaWFzZWRTUUxUb0FsaWFzKHZhbHVlLCB0YWJsZUFsaWFzKSxcbiAgICAvLyBcdFx0XHR9KTtcbiAgICAvLyBcdFx0fVxuICAgIC8vIFx0fVxuICAgIC8vIFx0Ly8gVHJhbnNmb3JtIGBmaWVsZHNTZWxlY3Rpb25gIGludG8gYHNlbGVjdGlvbmBcbiAgICAvLyBcdC8vIGBmaWVsZHNTZWxlY3Rpb25gIHNob3VsZG4ndCBiZSB1c2VkIGFmdGVyIHRoaXMgcG9pbnRcbiAgICAvLyBcdC8vIGZvciAoY29uc3QgeyB0c0tleSwgdmFsdWUsIGlzRXh0cmEgfSBvZiBmaWVsZHNTZWxlY3Rpb24pIHtcbiAgICAvLyBcdC8vIFx0c2VsZWN0aW9uLnB1c2goe1xuICAgIC8vIFx0Ly8gXHRcdGRiS2V5OiBpcyh2YWx1ZSwgU1FMLkFsaWFzZWQpID8gdmFsdWUuZmllbGRBbGlhcyA6IHRhYmxlQ29uZmlnLmNvbHVtbnNbdHNLZXldIS5uYW1lLFxuICAgIC8vIFx0Ly8gXHRcdHRzS2V5LFxuICAgIC8vIFx0Ly8gXHRcdGZpZWxkOiBpcyh2YWx1ZSwgQ29sdW1uKSA/IGFsaWFzZWRUYWJsZUNvbHVtbih2YWx1ZSwgdGFibGVBbGlhcykgOiB2YWx1ZSxcbiAgICAvLyBcdC8vIFx0XHRyZWxhdGlvblRhYmxlVHNLZXk6IHVuZGVmaW5lZCxcbiAgICAvLyBcdC8vIFx0XHRpc0pzb246IGZhbHNlLFxuICAgIC8vIFx0Ly8gXHRcdGlzRXh0cmEsXG4gICAgLy8gXHQvLyBcdFx0c2VsZWN0aW9uOiBbXSxcbiAgICAvLyBcdC8vIFx0fSk7XG4gICAgLy8gXHQvLyB9XG4gICAgLy8gXHRsZXQgb3JkZXJCeU9yaWcgPSB0eXBlb2YgY29uZmlnLm9yZGVyQnkgPT09ICdmdW5jdGlvbidcbiAgICAvLyBcdFx0PyBjb25maWcub3JkZXJCeShhbGlhc2VkRmllbGRzLCBvcmRlckJ5T3BlcmF0b3JzKVxuICAgIC8vIFx0XHQ6IGNvbmZpZy5vcmRlckJ5ID8/IFtdO1xuICAgIC8vIFx0aWYgKCFBcnJheS5pc0FycmF5KG9yZGVyQnlPcmlnKSkge1xuICAgIC8vIFx0XHRvcmRlckJ5T3JpZyA9IFtvcmRlckJ5T3JpZ107XG4gICAgLy8gXHR9XG4gICAgLy8gXHRjb25zdCBvcmRlckJ5ID0gb3JkZXJCeU9yaWcubWFwKChvcmRlckJ5VmFsdWUpID0+IHtcbiAgICAvLyBcdFx0aWYgKGlzKG9yZGVyQnlWYWx1ZSwgQ29sdW1uKSkge1xuICAgIC8vIFx0XHRcdHJldHVybiBhbGlhc2VkVGFibGVDb2x1bW4ob3JkZXJCeVZhbHVlLCB0YWJsZUFsaWFzKSBhcyBQZ0NvbHVtbjtcbiAgICAvLyBcdFx0fVxuICAgIC8vIFx0XHRyZXR1cm4gbWFwQ29sdW1uc0luU1FMVG9BbGlhcyhvcmRlckJ5VmFsdWUsIHRhYmxlQWxpYXMpO1xuICAgIC8vIFx0fSk7XG4gICAgLy8gXHRjb25zdCBsaW1pdCA9IGlzSW5uZXJtb3N0UXVlcnkgPyBjb25maWcubGltaXQgOiB1bmRlZmluZWQ7XG4gICAgLy8gXHRjb25zdCBvZmZzZXQgPSBpc0lubmVybW9zdFF1ZXJ5ID8gY29uZmlnLm9mZnNldCA6IHVuZGVmaW5lZDtcbiAgICAvLyBcdC8vIEZvciBub24tcm9vdCBxdWVyaWVzIHdpdGhvdXQgYWRkaXRpb25hbCBjb25maWcgZXhjZXB0IGNvbHVtbnMsIHJldHVybiBhIHRhYmxlIHdpdGggc2VsZWN0aW9uXG4gICAgLy8gXHRpZiAoXG4gICAgLy8gXHRcdCFpc1Jvb3RcbiAgICAvLyBcdFx0JiYgaW5pdGlhbGx5U2VsZWN0ZWRSZWxhdGlvbnMubGVuZ3RoID09PSAwXG4gICAgLy8gXHRcdCYmIHNlbGVjdGVkRXh0cmFzLmxlbmd0aCA9PT0gMFxuICAgIC8vIFx0XHQmJiAhd2hlcmVcbiAgICAvLyBcdFx0JiYgb3JkZXJCeS5sZW5ndGggPT09IDBcbiAgICAvLyBcdFx0JiYgbGltaXQgPT09IHVuZGVmaW5lZFxuICAgIC8vIFx0XHQmJiBvZmZzZXQgPT09IHVuZGVmaW5lZFxuICAgIC8vIFx0KSB7XG4gICAgLy8gXHRcdHJldHVybiB7XG4gICAgLy8gXHRcdFx0dGFibGVUc0tleTogdGFibGVDb25maWcudHNOYW1lLFxuICAgIC8vIFx0XHRcdHNxbDogdGFibGUsXG4gICAgLy8gXHRcdFx0c2VsZWN0aW9uOiBzZWxlY3RlZENvbHVtbnMubWFwKChrZXkpID0+ICh7XG4gICAgLy8gXHRcdFx0XHRkYktleTogdGFibGVDb25maWcuY29sdW1uc1trZXldIS5uYW1lLFxuICAgIC8vIFx0XHRcdFx0dHNLZXk6IGtleSxcbiAgICAvLyBcdFx0XHRcdGZpZWxkOiB0YWJsZUNvbmZpZy5jb2x1bW5zW2tleV0gYXMgUGdDb2x1bW4sXG4gICAgLy8gXHRcdFx0XHRyZWxhdGlvblRhYmxlVHNLZXk6IHVuZGVmaW5lZCxcbiAgICAvLyBcdFx0XHRcdGlzSnNvbjogZmFsc2UsXG4gICAgLy8gXHRcdFx0XHRzZWxlY3Rpb246IFtdLFxuICAgIC8vIFx0XHRcdH0pKSxcbiAgICAvLyBcdFx0fTtcbiAgICAvLyBcdH1cbiAgICAvLyBcdGNvbnN0IHNlbGVjdGVkUmVsYXRpb25zV2l0aG91dFBLOlxuICAgIC8vIFx0Ly8gUHJvY2VzcyBhbGwgcmVsYXRpb25zIHdpdGhvdXQgcHJpbWFyeSBrZXlzLCBiZWNhdXNlIHRoZXkgbmVlZCB0byBiZSBqb2luZWQgZGlmZmVyZW50bHkgYW5kIHdpbGwgYWxsIGJlIG9uIHRoZSBzYW1lIHF1ZXJ5IGxldmVsXG4gICAgLy8gXHRmb3IgKFxuICAgIC8vIFx0XHRjb25zdCB7XG4gICAgLy8gXHRcdFx0dHNLZXk6IHNlbGVjdGVkUmVsYXRpb25Uc0tleSxcbiAgICAvLyBcdFx0XHRxdWVyeUNvbmZpZzogc2VsZWN0ZWRSZWxhdGlvbkNvbmZpZ1ZhbHVlLFxuICAgIC8vIFx0XHRcdHJlbGF0aW9uLFxuICAgIC8vIFx0XHR9IG9mIGluaXRpYWxseVNlbGVjdGVkUmVsYXRpb25zXG4gICAgLy8gXHQpIHtcbiAgICAvLyBcdFx0Y29uc3Qgbm9ybWFsaXplZFJlbGF0aW9uID0gbm9ybWFsaXplUmVsYXRpb24oc2NoZW1hLCB0YWJsZU5hbWVzTWFwLCByZWxhdGlvbik7XG4gICAgLy8gXHRcdGNvbnN0IHJlbGF0aW9uVGFibGVOYW1lID0gcmVsYXRpb24ucmVmZXJlbmNlZFRhYmxlW1RhYmxlLlN5bWJvbC5OYW1lXTtcbiAgICAvLyBcdFx0Y29uc3QgcmVsYXRpb25UYWJsZVRzTmFtZSA9IHRhYmxlTmFtZXNNYXBbcmVsYXRpb25UYWJsZU5hbWVdITtcbiAgICAvLyBcdFx0Y29uc3QgcmVsYXRpb25UYWJsZSA9IHNjaGVtYVtyZWxhdGlvblRhYmxlVHNOYW1lXSE7XG4gICAgLy8gXHRcdGlmIChyZWxhdGlvblRhYmxlLnByaW1hcnlLZXkubGVuZ3RoID4gMCkge1xuICAgIC8vIFx0XHRcdGNvbnRpbnVlO1xuICAgIC8vIFx0XHR9XG4gICAgLy8gXHRcdGNvbnN0IHJlbGF0aW9uVGFibGVBbGlhcyA9IGAke3RhYmxlQWxpYXN9XyR7c2VsZWN0ZWRSZWxhdGlvblRzS2V5fWA7XG4gICAgLy8gXHRcdGNvbnN0IGpvaW5PbiA9IGFuZChcbiAgICAvLyBcdFx0XHQuLi5ub3JtYWxpemVkUmVsYXRpb24uZmllbGRzLm1hcCgoZmllbGQsIGkpID0+XG4gICAgLy8gXHRcdFx0XHRlcShcbiAgICAvLyBcdFx0XHRcdFx0YWxpYXNlZFRhYmxlQ29sdW1uKG5vcm1hbGl6ZWRSZWxhdGlvbi5yZWZlcmVuY2VzW2ldISwgcmVsYXRpb25UYWJsZUFsaWFzKSxcbiAgICAvLyBcdFx0XHRcdFx0YWxpYXNlZFRhYmxlQ29sdW1uKGZpZWxkLCB0YWJsZUFsaWFzKSxcbiAgICAvLyBcdFx0XHRcdClcbiAgICAvLyBcdFx0XHQpLFxuICAgIC8vIFx0XHQpO1xuICAgIC8vIFx0XHRjb25zdCBidWlsdFJlbGF0aW9uID0gdGhpcy5idWlsZFJlbGF0aW9uYWxRdWVyeVdpdGhvdXRQSyh7XG4gICAgLy8gXHRcdFx0ZnVsbFNjaGVtYSxcbiAgICAvLyBcdFx0XHRzY2hlbWEsXG4gICAgLy8gXHRcdFx0dGFibGVOYW1lc01hcCxcbiAgICAvLyBcdFx0XHR0YWJsZTogZnVsbFNjaGVtYVtyZWxhdGlvblRhYmxlVHNOYW1lXSBhcyBQZ1RhYmxlLFxuICAgIC8vIFx0XHRcdHRhYmxlQ29uZmlnOiBzY2hlbWFbcmVsYXRpb25UYWJsZVRzTmFtZV0hLFxuICAgIC8vIFx0XHRcdHF1ZXJ5Q29uZmlnOiBzZWxlY3RlZFJlbGF0aW9uQ29uZmlnVmFsdWUsXG4gICAgLy8gXHRcdFx0dGFibGVBbGlhczogcmVsYXRpb25UYWJsZUFsaWFzLFxuICAgIC8vIFx0XHRcdGpvaW5PbixcbiAgICAvLyBcdFx0XHRuZXN0ZWRRdWVyeVJlbGF0aW9uOiByZWxhdGlvbixcbiAgICAvLyBcdFx0fSk7XG4gICAgLy8gXHRcdGNvbnN0IGZpZWxkID0gc3FsYCR7c3FsLmlkZW50aWZpZXIocmVsYXRpb25UYWJsZUFsaWFzKX0uJHtzcWwuaWRlbnRpZmllcignZGF0YScpfWAuYXMoc2VsZWN0ZWRSZWxhdGlvblRzS2V5KTtcbiAgICAvLyBcdFx0am9pbnMucHVzaCh7XG4gICAgLy8gXHRcdFx0b246IHNxbGB0cnVlYCxcbiAgICAvLyBcdFx0XHR0YWJsZTogbmV3IFN1YnF1ZXJ5KGJ1aWx0UmVsYXRpb24uc3FsIGFzIFNRTCwge30sIHJlbGF0aW9uVGFibGVBbGlhcyksXG4gICAgLy8gXHRcdFx0YWxpYXM6IHJlbGF0aW9uVGFibGVBbGlhcyxcbiAgICAvLyBcdFx0XHRqb2luVHlwZTogJ2xlZnQnLFxuICAgIC8vIFx0XHRcdGxhdGVyYWw6IHRydWUsXG4gICAgLy8gXHRcdH0pO1xuICAgIC8vIFx0XHRzZWxlY3RlZFJlbGF0aW9ucy5wdXNoKHtcbiAgICAvLyBcdFx0XHRkYktleTogc2VsZWN0ZWRSZWxhdGlvblRzS2V5LFxuICAgIC8vIFx0XHRcdHRzS2V5OiBzZWxlY3RlZFJlbGF0aW9uVHNLZXksXG4gICAgLy8gXHRcdFx0ZmllbGQsXG4gICAgLy8gXHRcdFx0cmVsYXRpb25UYWJsZVRzS2V5OiByZWxhdGlvblRhYmxlVHNOYW1lLFxuICAgIC8vIFx0XHRcdGlzSnNvbjogdHJ1ZSxcbiAgICAvLyBcdFx0XHRzZWxlY3Rpb246IGJ1aWx0UmVsYXRpb24uc2VsZWN0aW9uLFxuICAgIC8vIFx0XHR9KTtcbiAgICAvLyBcdH1cbiAgICAvLyBcdGNvbnN0IG9uZVJlbGF0aW9ucyA9IGluaXRpYWxseVNlbGVjdGVkUmVsYXRpb25zLmZpbHRlcigocik6IHIgaXMgdHlwZW9mIHIgJiB7IHJlbGF0aW9uOiBPbmUgfSA9PlxuICAgIC8vIFx0XHRpcyhyLnJlbGF0aW9uLCBPbmUpXG4gICAgLy8gXHQpO1xuICAgIC8vIFx0Ly8gUHJvY2VzcyBhbGwgT25lIHJlbGF0aW9ucyB3aXRoIFBLcywgYmVjYXVzZSB0aGV5IGNhbiBhbGwgYmUgam9pbmVkIG9uIHRoZSBzYW1lIGxldmVsXG4gICAgLy8gXHRmb3IgKFxuICAgIC8vIFx0XHRjb25zdCB7XG4gICAgLy8gXHRcdFx0dHNLZXk6IHNlbGVjdGVkUmVsYXRpb25Uc0tleSxcbiAgICAvLyBcdFx0XHRxdWVyeUNvbmZpZzogc2VsZWN0ZWRSZWxhdGlvbkNvbmZpZ1ZhbHVlLFxuICAgIC8vIFx0XHRcdHJlbGF0aW9uLFxuICAgIC8vIFx0XHR9IG9mIG9uZVJlbGF0aW9uc1xuICAgIC8vIFx0KSB7XG4gICAgLy8gXHRcdGNvbnN0IG5vcm1hbGl6ZWRSZWxhdGlvbiA9IG5vcm1hbGl6ZVJlbGF0aW9uKHNjaGVtYSwgdGFibGVOYW1lc01hcCwgcmVsYXRpb24pO1xuICAgIC8vIFx0XHRjb25zdCByZWxhdGlvblRhYmxlTmFtZSA9IHJlbGF0aW9uLnJlZmVyZW5jZWRUYWJsZVtUYWJsZS5TeW1ib2wuTmFtZV07XG4gICAgLy8gXHRcdGNvbnN0IHJlbGF0aW9uVGFibGVUc05hbWUgPSB0YWJsZU5hbWVzTWFwW3JlbGF0aW9uVGFibGVOYW1lXSE7XG4gICAgLy8gXHRcdGNvbnN0IHJlbGF0aW9uVGFibGVBbGlhcyA9IGAke3RhYmxlQWxpYXN9XyR7c2VsZWN0ZWRSZWxhdGlvblRzS2V5fWA7XG4gICAgLy8gXHRcdGNvbnN0IHJlbGF0aW9uVGFibGUgPSBzY2hlbWFbcmVsYXRpb25UYWJsZVRzTmFtZV0hO1xuICAgIC8vIFx0XHRpZiAocmVsYXRpb25UYWJsZS5wcmltYXJ5S2V5Lmxlbmd0aCA9PT0gMCkge1xuICAgIC8vIFx0XHRcdGNvbnRpbnVlO1xuICAgIC8vIFx0XHR9XG4gICAgLy8gXHRcdGNvbnN0IGpvaW5PbiA9IGFuZChcbiAgICAvLyBcdFx0XHQuLi5ub3JtYWxpemVkUmVsYXRpb24uZmllbGRzLm1hcCgoZmllbGQsIGkpID0+XG4gICAgLy8gXHRcdFx0XHRlcShcbiAgICAvLyBcdFx0XHRcdFx0YWxpYXNlZFRhYmxlQ29sdW1uKG5vcm1hbGl6ZWRSZWxhdGlvbi5yZWZlcmVuY2VzW2ldISwgcmVsYXRpb25UYWJsZUFsaWFzKSxcbiAgICAvLyBcdFx0XHRcdFx0YWxpYXNlZFRhYmxlQ29sdW1uKGZpZWxkLCB0YWJsZUFsaWFzKSxcbiAgICAvLyBcdFx0XHRcdClcbiAgICAvLyBcdFx0XHQpLFxuICAgIC8vIFx0XHQpO1xuICAgIC8vIFx0XHRjb25zdCBidWlsdFJlbGF0aW9uID0gdGhpcy5idWlsZFJlbGF0aW9uYWxRdWVyeVdpdGhQSyh7XG4gICAgLy8gXHRcdFx0ZnVsbFNjaGVtYSxcbiAgICAvLyBcdFx0XHRzY2hlbWEsXG4gICAgLy8gXHRcdFx0dGFibGVOYW1lc01hcCxcbiAgICAvLyBcdFx0XHR0YWJsZTogZnVsbFNjaGVtYVtyZWxhdGlvblRhYmxlVHNOYW1lXSBhcyBQZ1RhYmxlLFxuICAgIC8vIFx0XHRcdHRhYmxlQ29uZmlnOiBzY2hlbWFbcmVsYXRpb25UYWJsZVRzTmFtZV0hLFxuICAgIC8vIFx0XHRcdHF1ZXJ5Q29uZmlnOiBzZWxlY3RlZFJlbGF0aW9uQ29uZmlnVmFsdWUsXG4gICAgLy8gXHRcdFx0dGFibGVBbGlhczogcmVsYXRpb25UYWJsZUFsaWFzLFxuICAgIC8vIFx0XHRcdGpvaW5PbixcbiAgICAvLyBcdFx0fSk7XG4gICAgLy8gXHRcdGNvbnN0IGZpZWxkID0gc3FsYGNhc2Ugd2hlbiAke3NxbC5pZGVudGlmaWVyKHJlbGF0aW9uVGFibGVBbGlhcyl9IGlzIG51bGwgdGhlbiBudWxsIGVsc2UganNvbl9idWlsZF9hcnJheSgke1xuICAgIC8vIFx0XHRcdHNxbC5qb2luKFxuICAgIC8vIFx0XHRcdFx0YnVpbHRSZWxhdGlvbi5zZWxlY3Rpb24ubWFwKCh7IGZpZWxkIH0pID0+XG4gICAgLy8gXHRcdFx0XHRcdGlzKGZpZWxkLCBTUUwuQWxpYXNlZClcbiAgICAvLyBcdFx0XHRcdFx0XHQ/IHNxbGAke3NxbC5pZGVudGlmaWVyKHJlbGF0aW9uVGFibGVBbGlhcyl9LiR7c3FsLmlkZW50aWZpZXIoZmllbGQuZmllbGRBbGlhcyl9YFxuICAgIC8vIFx0XHRcdFx0XHRcdDogaXMoZmllbGQsIENvbHVtbilcbiAgICAvLyBcdFx0XHRcdFx0XHQ/IGFsaWFzZWRUYWJsZUNvbHVtbihmaWVsZCwgcmVsYXRpb25UYWJsZUFsaWFzKVxuICAgIC8vIFx0XHRcdFx0XHRcdDogZmllbGRcbiAgICAvLyBcdFx0XHRcdCksXG4gICAgLy8gXHRcdFx0XHRzcWxgLCBgLFxuICAgIC8vIFx0XHRcdClcbiAgICAvLyBcdFx0fSkgZW5kYC5hcyhzZWxlY3RlZFJlbGF0aW9uVHNLZXkpO1xuICAgIC8vIFx0XHRjb25zdCBpc0xhdGVyYWxKb2luID0gaXMoYnVpbHRSZWxhdGlvbi5zcWwsIFNRTCk7XG4gICAgLy8gXHRcdGpvaW5zLnB1c2goe1xuICAgIC8vIFx0XHRcdG9uOiBpc0xhdGVyYWxKb2luID8gc3FsYHRydWVgIDogam9pbk9uLFxuICAgIC8vIFx0XHRcdHRhYmxlOiBpcyhidWlsdFJlbGF0aW9uLnNxbCwgU1FMKVxuICAgIC8vIFx0XHRcdFx0PyBuZXcgU3VicXVlcnkoYnVpbHRSZWxhdGlvbi5zcWwsIHt9LCByZWxhdGlvblRhYmxlQWxpYXMpXG4gICAgLy8gXHRcdFx0XHQ6IGFsaWFzZWRUYWJsZShidWlsdFJlbGF0aW9uLnNxbCwgcmVsYXRpb25UYWJsZUFsaWFzKSxcbiAgICAvLyBcdFx0XHRhbGlhczogcmVsYXRpb25UYWJsZUFsaWFzLFxuICAgIC8vIFx0XHRcdGpvaW5UeXBlOiAnbGVmdCcsXG4gICAgLy8gXHRcdFx0bGF0ZXJhbDogaXMoYnVpbHRSZWxhdGlvbi5zcWwsIFNRTCksXG4gICAgLy8gXHRcdH0pO1xuICAgIC8vIFx0XHRzZWxlY3RlZFJlbGF0aW9ucy5wdXNoKHtcbiAgICAvLyBcdFx0XHRkYktleTogc2VsZWN0ZWRSZWxhdGlvblRzS2V5LFxuICAgIC8vIFx0XHRcdHRzS2V5OiBzZWxlY3RlZFJlbGF0aW9uVHNLZXksXG4gICAgLy8gXHRcdFx0ZmllbGQsXG4gICAgLy8gXHRcdFx0cmVsYXRpb25UYWJsZVRzS2V5OiByZWxhdGlvblRhYmxlVHNOYW1lLFxuICAgIC8vIFx0XHRcdGlzSnNvbjogdHJ1ZSxcbiAgICAvLyBcdFx0XHRzZWxlY3Rpb246IGJ1aWx0UmVsYXRpb24uc2VsZWN0aW9uLFxuICAgIC8vIFx0XHR9KTtcbiAgICAvLyBcdH1cbiAgICAvLyBcdGxldCBkaXN0aW5jdDogUGdTZWxlY3RDb25maWdbJ2Rpc3RpbmN0J107XG4gICAgLy8gXHRsZXQgdGFibGVGcm9tOiBQZ1RhYmxlIHwgU3VicXVlcnkgPSB0YWJsZTtcbiAgICAvLyBcdC8vIFByb2Nlc3MgZmlyc3QgTWFueSByZWxhdGlvbiAtIGVhY2ggb25lIHJlcXVpcmVzIGEgbmVzdGVkIHN1YnF1ZXJ5XG4gICAgLy8gXHRjb25zdCBtYW55UmVsYXRpb24gPSBtYW55UmVsYXRpb25zWzBdO1xuICAgIC8vIFx0aWYgKG1hbnlSZWxhdGlvbikge1xuICAgIC8vIFx0XHRjb25zdCB7XG4gICAgLy8gXHRcdFx0dHNLZXk6IHNlbGVjdGVkUmVsYXRpb25Uc0tleSxcbiAgICAvLyBcdFx0XHRxdWVyeUNvbmZpZzogc2VsZWN0ZWRSZWxhdGlvblF1ZXJ5Q29uZmlnLFxuICAgIC8vIFx0XHRcdHJlbGF0aW9uLFxuICAgIC8vIFx0XHR9ID0gbWFueVJlbGF0aW9uO1xuICAgIC8vIFx0XHRkaXN0aW5jdCA9IHtcbiAgICAvLyBcdFx0XHRvbjogdGFibGVDb25maWcucHJpbWFyeUtleS5tYXAoKGMpID0+IGFsaWFzZWRUYWJsZUNvbHVtbihjIGFzIFBnQ29sdW1uLCB0YWJsZUFsaWFzKSksXG4gICAgLy8gXHRcdH07XG4gICAgLy8gXHRcdGNvbnN0IG5vcm1hbGl6ZWRSZWxhdGlvbiA9IG5vcm1hbGl6ZVJlbGF0aW9uKHNjaGVtYSwgdGFibGVOYW1lc01hcCwgcmVsYXRpb24pO1xuICAgIC8vIFx0XHRjb25zdCByZWxhdGlvblRhYmxlTmFtZSA9IHJlbGF0aW9uLnJlZmVyZW5jZWRUYWJsZVtUYWJsZS5TeW1ib2wuTmFtZV07XG4gICAgLy8gXHRcdGNvbnN0IHJlbGF0aW9uVGFibGVUc05hbWUgPSB0YWJsZU5hbWVzTWFwW3JlbGF0aW9uVGFibGVOYW1lXSE7XG4gICAgLy8gXHRcdGNvbnN0IHJlbGF0aW9uVGFibGVBbGlhcyA9IGAke3RhYmxlQWxpYXN9XyR7c2VsZWN0ZWRSZWxhdGlvblRzS2V5fWA7XG4gICAgLy8gXHRcdGNvbnN0IGpvaW5PbiA9IGFuZChcbiAgICAvLyBcdFx0XHQuLi5ub3JtYWxpemVkUmVsYXRpb24uZmllbGRzLm1hcCgoZmllbGQsIGkpID0+XG4gICAgLy8gXHRcdFx0XHRlcShcbiAgICAvLyBcdFx0XHRcdFx0YWxpYXNlZFRhYmxlQ29sdW1uKG5vcm1hbGl6ZWRSZWxhdGlvbi5yZWZlcmVuY2VzW2ldISwgcmVsYXRpb25UYWJsZUFsaWFzKSxcbiAgICAvLyBcdFx0XHRcdFx0YWxpYXNlZFRhYmxlQ29sdW1uKGZpZWxkLCB0YWJsZUFsaWFzKSxcbiAgICAvLyBcdFx0XHRcdClcbiAgICAvLyBcdFx0XHQpLFxuICAgIC8vIFx0XHQpO1xuICAgIC8vIFx0XHRjb25zdCBidWlsdFJlbGF0aW9uSm9pbiA9IHRoaXMuYnVpbGRSZWxhdGlvbmFsUXVlcnlXaXRoUEsoe1xuICAgIC8vIFx0XHRcdGZ1bGxTY2hlbWEsXG4gICAgLy8gXHRcdFx0c2NoZW1hLFxuICAgIC8vIFx0XHRcdHRhYmxlTmFtZXNNYXAsXG4gICAgLy8gXHRcdFx0dGFibGU6IGZ1bGxTY2hlbWFbcmVsYXRpb25UYWJsZVRzTmFtZV0gYXMgUGdUYWJsZSxcbiAgICAvLyBcdFx0XHR0YWJsZUNvbmZpZzogc2NoZW1hW3JlbGF0aW9uVGFibGVUc05hbWVdISxcbiAgICAvLyBcdFx0XHRxdWVyeUNvbmZpZzogc2VsZWN0ZWRSZWxhdGlvblF1ZXJ5Q29uZmlnLFxuICAgIC8vIFx0XHRcdHRhYmxlQWxpYXM6IHJlbGF0aW9uVGFibGVBbGlhcyxcbiAgICAvLyBcdFx0XHRqb2luT24sXG4gICAgLy8gXHRcdH0pO1xuICAgIC8vIFx0XHRjb25zdCBidWlsdFJlbGF0aW9uU2VsZWN0aW9uRmllbGQgPSBzcWxgY2FzZSB3aGVuICR7XG4gICAgLy8gXHRcdFx0c3FsLmlkZW50aWZpZXIocmVsYXRpb25UYWJsZUFsaWFzKVxuICAgIC8vIFx0XHR9IGlzIG51bGwgdGhlbiAnW10nIGVsc2UganNvbl9hZ2coanNvbl9idWlsZF9hcnJheSgke1xuICAgIC8vIFx0XHRcdHNxbC5qb2luKFxuICAgIC8vIFx0XHRcdFx0YnVpbHRSZWxhdGlvbkpvaW4uc2VsZWN0aW9uLm1hcCgoeyBmaWVsZCB9KSA9PlxuICAgIC8vIFx0XHRcdFx0XHRpcyhmaWVsZCwgU1FMLkFsaWFzZWQpXG4gICAgLy8gXHRcdFx0XHRcdFx0PyBzcWxgJHtzcWwuaWRlbnRpZmllcihyZWxhdGlvblRhYmxlQWxpYXMpfS4ke3NxbC5pZGVudGlmaWVyKGZpZWxkLmZpZWxkQWxpYXMpfWBcbiAgICAvLyBcdFx0XHRcdFx0XHQ6IGlzKGZpZWxkLCBDb2x1bW4pXG4gICAgLy8gXHRcdFx0XHRcdFx0PyBhbGlhc2VkVGFibGVDb2x1bW4oZmllbGQsIHJlbGF0aW9uVGFibGVBbGlhcylcbiAgICAvLyBcdFx0XHRcdFx0XHQ6IGZpZWxkXG4gICAgLy8gXHRcdFx0XHQpLFxuICAgIC8vIFx0XHRcdFx0c3FsYCwgYCxcbiAgICAvLyBcdFx0XHQpXG4gICAgLy8gXHRcdH0pKSBvdmVyIChwYXJ0aXRpb24gYnkgJHtzcWwuam9pbihkaXN0aW5jdC5vbiwgc3FsYCwgYCl9KSBlbmRgLmFzKHNlbGVjdGVkUmVsYXRpb25Uc0tleSk7XG4gICAgLy8gXHRcdGNvbnN0IGlzTGF0ZXJhbEpvaW4gPSBpcyhidWlsdFJlbGF0aW9uSm9pbi5zcWwsIFNRTCk7XG4gICAgLy8gXHRcdGpvaW5zLnB1c2goe1xuICAgIC8vIFx0XHRcdG9uOiBpc0xhdGVyYWxKb2luID8gc3FsYHRydWVgIDogam9pbk9uLFxuICAgIC8vIFx0XHRcdHRhYmxlOiBpc0xhdGVyYWxKb2luXG4gICAgLy8gXHRcdFx0XHQ/IG5ldyBTdWJxdWVyeShidWlsdFJlbGF0aW9uSm9pbi5zcWwgYXMgU1FMLCB7fSwgcmVsYXRpb25UYWJsZUFsaWFzKVxuICAgIC8vIFx0XHRcdFx0OiBhbGlhc2VkVGFibGUoYnVpbHRSZWxhdGlvbkpvaW4uc3FsIGFzIFBnVGFibGUsIHJlbGF0aW9uVGFibGVBbGlhcyksXG4gICAgLy8gXHRcdFx0YWxpYXM6IHJlbGF0aW9uVGFibGVBbGlhcyxcbiAgICAvLyBcdFx0XHRqb2luVHlwZTogJ2xlZnQnLFxuICAgIC8vIFx0XHRcdGxhdGVyYWw6IGlzTGF0ZXJhbEpvaW4sXG4gICAgLy8gXHRcdH0pO1xuICAgIC8vIFx0XHQvLyBCdWlsZCB0aGUgXCJmcm9tXCIgc3VicXVlcnkgd2l0aCB0aGUgcmVtYWluaW5nIE1hbnkgcmVsYXRpb25zXG4gICAgLy8gXHRcdGNvbnN0IGJ1aWx0VGFibGVGcm9tID0gdGhpcy5idWlsZFJlbGF0aW9uYWxRdWVyeVdpdGhQSyh7XG4gICAgLy8gXHRcdFx0ZnVsbFNjaGVtYSxcbiAgICAvLyBcdFx0XHRzY2hlbWEsXG4gICAgLy8gXHRcdFx0dGFibGVOYW1lc01hcCxcbiAgICAvLyBcdFx0XHR0YWJsZSxcbiAgICAvLyBcdFx0XHR0YWJsZUNvbmZpZyxcbiAgICAvLyBcdFx0XHRxdWVyeUNvbmZpZzoge1xuICAgIC8vIFx0XHRcdFx0Li4uY29uZmlnLFxuICAgIC8vIFx0XHRcdFx0d2hlcmU6IHVuZGVmaW5lZCxcbiAgICAvLyBcdFx0XHRcdG9yZGVyQnk6IHVuZGVmaW5lZCxcbiAgICAvLyBcdFx0XHRcdGxpbWl0OiB1bmRlZmluZWQsXG4gICAgLy8gXHRcdFx0XHRvZmZzZXQ6IHVuZGVmaW5lZCxcbiAgICAvLyBcdFx0XHRcdHdpdGg6IG1hbnlSZWxhdGlvbnMuc2xpY2UoMSkucmVkdWNlPE5vbk51bGxhYmxlPHR5cGVvZiBjb25maWdbJ3dpdGgnXT4+KFxuICAgIC8vIFx0XHRcdFx0XHQocmVzdWx0LCB7IHRzS2V5LCBxdWVyeUNvbmZpZzogY29uZmlnVmFsdWUgfSkgPT4ge1xuICAgIC8vIFx0XHRcdFx0XHRcdHJlc3VsdFt0c0tleV0gPSBjb25maWdWYWx1ZTtcbiAgICAvLyBcdFx0XHRcdFx0XHRyZXR1cm4gcmVzdWx0O1xuICAgIC8vIFx0XHRcdFx0XHR9LFxuICAgIC8vIFx0XHRcdFx0XHR7fSxcbiAgICAvLyBcdFx0XHRcdCksXG4gICAgLy8gXHRcdFx0fSxcbiAgICAvLyBcdFx0XHR0YWJsZUFsaWFzLFxuICAgIC8vIFx0XHR9KTtcbiAgICAvLyBcdFx0c2VsZWN0ZWRSZWxhdGlvbnMucHVzaCh7XG4gICAgLy8gXHRcdFx0ZGJLZXk6IHNlbGVjdGVkUmVsYXRpb25Uc0tleSxcbiAgICAvLyBcdFx0XHR0c0tleTogc2VsZWN0ZWRSZWxhdGlvblRzS2V5LFxuICAgIC8vIFx0XHRcdGZpZWxkOiBidWlsdFJlbGF0aW9uU2VsZWN0aW9uRmllbGQsXG4gICAgLy8gXHRcdFx0cmVsYXRpb25UYWJsZVRzS2V5OiByZWxhdGlvblRhYmxlVHNOYW1lLFxuICAgIC8vIFx0XHRcdGlzSnNvbjogdHJ1ZSxcbiAgICAvLyBcdFx0XHRzZWxlY3Rpb246IGJ1aWx0UmVsYXRpb25Kb2luLnNlbGVjdGlvbixcbiAgICAvLyBcdFx0fSk7XG4gICAgLy8gXHRcdC8vIHNlbGVjdGlvbiA9IGJ1aWx0VGFibGVGcm9tLnNlbGVjdGlvbi5tYXAoKGl0ZW0pID0+XG4gICAgLy8gXHRcdC8vIFx0aXMoaXRlbS5maWVsZCwgU1FMLkFsaWFzZWQpXG4gICAgLy8gXHRcdC8vIFx0XHQ/IHsgLi4uaXRlbSwgZmllbGQ6IHNxbGAke3NxbC5pZGVudGlmaWVyKHRhYmxlQWxpYXMpfS4ke3NxbC5pZGVudGlmaWVyKGl0ZW0uZmllbGQuZmllbGRBbGlhcyl9YCB9XG4gICAgLy8gXHRcdC8vIFx0XHQ6IGl0ZW1cbiAgICAvLyBcdFx0Ly8gKTtcbiAgICAvLyBcdFx0Ly8gc2VsZWN0aW9uRm9yQnVpbGQgPSBbe1xuICAgIC8vIFx0XHQvLyBcdGRiS2V5OiAnKicsXG4gICAgLy8gXHRcdC8vIFx0dHNLZXk6ICcqJyxcbiAgICAvLyBcdFx0Ly8gXHRmaWVsZDogc3FsYCR7c3FsLmlkZW50aWZpZXIodGFibGVBbGlhcyl9LipgLFxuICAgIC8vIFx0XHQvLyBcdHNlbGVjdGlvbjogW10sXG4gICAgLy8gXHRcdC8vIFx0aXNKc29uOiBmYWxzZSxcbiAgICAvLyBcdFx0Ly8gXHRyZWxhdGlvblRhYmxlVHNLZXk6IHVuZGVmaW5lZCxcbiAgICAvLyBcdFx0Ly8gfV07XG4gICAgLy8gXHRcdC8vIGNvbnN0IG5ld1NlbGVjdGlvbkl0ZW06ICh0eXBlb2Ygc2VsZWN0aW9uKVtudW1iZXJdID0ge1xuICAgIC8vIFx0XHQvLyBcdGRiS2V5OiBzZWxlY3RlZFJlbGF0aW9uVHNLZXksXG4gICAgLy8gXHRcdC8vIFx0dHNLZXk6IHNlbGVjdGVkUmVsYXRpb25Uc0tleSxcbiAgICAvLyBcdFx0Ly8gXHRmaWVsZCxcbiAgICAvLyBcdFx0Ly8gXHRyZWxhdGlvblRhYmxlVHNLZXk6IHJlbGF0aW9uVGFibGVUc05hbWUsXG4gICAgLy8gXHRcdC8vIFx0aXNKc29uOiB0cnVlLFxuICAgIC8vIFx0XHQvLyBcdHNlbGVjdGlvbjogYnVpbHRSZWxhdGlvbkpvaW4uc2VsZWN0aW9uLFxuICAgIC8vIFx0XHQvLyB9O1xuICAgIC8vIFx0XHQvLyBzZWxlY3Rpb24ucHVzaChuZXdTZWxlY3Rpb25JdGVtKTtcbiAgICAvLyBcdFx0Ly8gc2VsZWN0aW9uRm9yQnVpbGQucHVzaChuZXdTZWxlY3Rpb25JdGVtKTtcbiAgICAvLyBcdFx0dGFibGVGcm9tID0gaXMoYnVpbHRUYWJsZUZyb20uc3FsLCBQZ1RhYmxlKVxuICAgIC8vIFx0XHRcdD8gYnVpbHRUYWJsZUZyb20uc3FsXG4gICAgLy8gXHRcdFx0OiBuZXcgU3VicXVlcnkoYnVpbHRUYWJsZUZyb20uc3FsLCB7fSwgdGFibGVBbGlhcyk7XG4gICAgLy8gXHR9XG4gICAgLy8gXHRpZiAoc2VsZWN0ZWRDb2x1bW5zLmxlbmd0aCA9PT0gMCAmJiBzZWxlY3RlZFJlbGF0aW9ucy5sZW5ndGggPT09IDAgJiYgc2VsZWN0ZWRFeHRyYXMubGVuZ3RoID09PSAwKSB7XG4gICAgLy8gXHRcdHRocm93IG5ldyBEcml6emxlRXJyb3IoYE5vIGZpZWxkcyBzZWxlY3RlZCBmb3IgdGFibGUgXCIke3RhYmxlQ29uZmlnLnRzTmFtZX1cIiAoXCIke3RhYmxlQWxpYXN9XCIpYCk7XG4gICAgLy8gXHR9XG4gICAgLy8gXHRsZXQgc2VsZWN0aW9uOiBCdWlsZFJlbGF0aW9uYWxRdWVyeVJlc3VsdDxQZ1RhYmxlLCBQZ0NvbHVtbj5bJ3NlbGVjdGlvbiddO1xuICAgIC8vIFx0ZnVuY3Rpb24gcHJlcGFyZVNlbGVjdGVkQ29sdW1ucygpIHtcbiAgICAvLyBcdFx0cmV0dXJuIHNlbGVjdGVkQ29sdW1ucy5tYXAoKGtleSkgPT4gKHtcbiAgICAvLyBcdFx0XHRkYktleTogdGFibGVDb25maWcuY29sdW1uc1trZXldIS5uYW1lLFxuICAgIC8vIFx0XHRcdHRzS2V5OiBrZXksXG4gICAgLy8gXHRcdFx0ZmllbGQ6IHRhYmxlQ29uZmlnLmNvbHVtbnNba2V5XSBhcyBQZ0NvbHVtbixcbiAgICAvLyBcdFx0XHRyZWxhdGlvblRhYmxlVHNLZXk6IHVuZGVmaW5lZCxcbiAgICAvLyBcdFx0XHRpc0pzb246IGZhbHNlLFxuICAgIC8vIFx0XHRcdHNlbGVjdGlvbjogW10sXG4gICAgLy8gXHRcdH0pKTtcbiAgICAvLyBcdH1cbiAgICAvLyBcdGZ1bmN0aW9uIHByZXBhcmVTZWxlY3RlZEV4dHJhcygpIHtcbiAgICAvLyBcdFx0cmV0dXJuIHNlbGVjdGVkRXh0cmFzLm1hcCgoaXRlbSkgPT4gKHtcbiAgICAvLyBcdFx0XHRkYktleTogaXRlbS52YWx1ZS5maWVsZEFsaWFzLFxuICAgIC8vIFx0XHRcdHRzS2V5OiBpdGVtLnRzS2V5LFxuICAgIC8vIFx0XHRcdGZpZWxkOiBpdGVtLnZhbHVlLFxuICAgIC8vIFx0XHRcdHJlbGF0aW9uVGFibGVUc0tleTogdW5kZWZpbmVkLFxuICAgIC8vIFx0XHRcdGlzSnNvbjogZmFsc2UsXG4gICAgLy8gXHRcdFx0c2VsZWN0aW9uOiBbXSxcbiAgICAvLyBcdFx0fSkpO1xuICAgIC8vIFx0fVxuICAgIC8vIFx0aWYgKGlzUm9vdCkge1xuICAgIC8vIFx0XHRzZWxlY3Rpb24gPSBbXG4gICAgLy8gXHRcdFx0Li4ucHJlcGFyZVNlbGVjdGVkQ29sdW1ucygpLFxuICAgIC8vIFx0XHRcdC4uLnByZXBhcmVTZWxlY3RlZEV4dHJhcygpLFxuICAgIC8vIFx0XHRdO1xuICAgIC8vIFx0fVxuICAgIC8vIFx0aWYgKGhhc1VzZXJEZWZpbmVkV2hlcmUgfHwgb3JkZXJCeS5sZW5ndGggPiAwKSB7XG4gICAgLy8gXHRcdHRhYmxlRnJvbSA9IG5ldyBTdWJxdWVyeShcbiAgICAvLyBcdFx0XHR0aGlzLmJ1aWxkU2VsZWN0UXVlcnkoe1xuICAgIC8vIFx0XHRcdFx0dGFibGU6IGlzKHRhYmxlRnJvbSwgUGdUYWJsZSkgPyBhbGlhc2VkVGFibGUodGFibGVGcm9tLCB0YWJsZUFsaWFzKSA6IHRhYmxlRnJvbSxcbiAgICAvLyBcdFx0XHRcdGZpZWxkczoge30sXG4gICAgLy8gXHRcdFx0XHRmaWVsZHNGbGF0OiBzZWxlY3Rpb25Gb3JCdWlsZC5tYXAoKHsgZmllbGQgfSkgPT4gKHtcbiAgICAvLyBcdFx0XHRcdFx0cGF0aDogW10sXG4gICAgLy8gXHRcdFx0XHRcdGZpZWxkOiBpcyhmaWVsZCwgQ29sdW1uKSA/IGFsaWFzZWRUYWJsZUNvbHVtbihmaWVsZCwgdGFibGVBbGlhcykgOiBmaWVsZCxcbiAgICAvLyBcdFx0XHRcdH0pKSxcbiAgICAvLyBcdFx0XHRcdGpvaW5zLFxuICAgIC8vIFx0XHRcdFx0ZGlzdGluY3QsXG4gICAgLy8gXHRcdFx0fSksXG4gICAgLy8gXHRcdFx0e30sXG4gICAgLy8gXHRcdFx0dGFibGVBbGlhcyxcbiAgICAvLyBcdFx0KTtcbiAgICAvLyBcdFx0c2VsZWN0aW9uRm9yQnVpbGQgPSBzZWxlY3Rpb24ubWFwKChpdGVtKSA9PlxuICAgIC8vIFx0XHRcdGlzKGl0ZW0uZmllbGQsIFNRTC5BbGlhc2VkKVxuICAgIC8vIFx0XHRcdFx0PyB7IC4uLml0ZW0sIGZpZWxkOiBzcWxgJHtzcWwuaWRlbnRpZmllcih0YWJsZUFsaWFzKX0uJHtzcWwuaWRlbnRpZmllcihpdGVtLmZpZWxkLmZpZWxkQWxpYXMpfWAgfVxuICAgIC8vIFx0XHRcdFx0OiBpdGVtXG4gICAgLy8gXHRcdCk7XG4gICAgLy8gXHRcdGpvaW5zID0gW107XG4gICAgLy8gXHRcdGRpc3RpbmN0ID0gdW5kZWZpbmVkO1xuICAgIC8vIFx0fVxuICAgIC8vIFx0Y29uc3QgcmVzdWx0ID0gdGhpcy5idWlsZFNlbGVjdFF1ZXJ5KHtcbiAgICAvLyBcdFx0dGFibGU6IGlzKHRhYmxlRnJvbSwgUGdUYWJsZSkgPyBhbGlhc2VkVGFibGUodGFibGVGcm9tLCB0YWJsZUFsaWFzKSA6IHRhYmxlRnJvbSxcbiAgICAvLyBcdFx0ZmllbGRzOiB7fSxcbiAgICAvLyBcdFx0ZmllbGRzRmxhdDogc2VsZWN0aW9uRm9yQnVpbGQubWFwKCh7IGZpZWxkIH0pID0+ICh7XG4gICAgLy8gXHRcdFx0cGF0aDogW10sXG4gICAgLy8gXHRcdFx0ZmllbGQ6IGlzKGZpZWxkLCBDb2x1bW4pID8gYWxpYXNlZFRhYmxlQ29sdW1uKGZpZWxkLCB0YWJsZUFsaWFzKSA6IGZpZWxkLFxuICAgIC8vIFx0XHR9KSksXG4gICAgLy8gXHRcdHdoZXJlLFxuICAgIC8vIFx0XHRsaW1pdCxcbiAgICAvLyBcdFx0b2Zmc2V0LFxuICAgIC8vIFx0XHRqb2lucyxcbiAgICAvLyBcdFx0b3JkZXJCeSxcbiAgICAvLyBcdFx0ZGlzdGluY3QsXG4gICAgLy8gXHR9KTtcbiAgICAvLyBcdHJldHVybiB7XG4gICAgLy8gXHRcdHRhYmxlVHNLZXk6IHRhYmxlQ29uZmlnLnRzTmFtZSxcbiAgICAvLyBcdFx0c3FsOiByZXN1bHQsXG4gICAgLy8gXHRcdHNlbGVjdGlvbixcbiAgICAvLyBcdH07XG4gICAgLy8gfVxuICAgIGJ1aWxkUmVsYXRpb25hbFF1ZXJ5V2l0aG91dFBLKHsgZnVsbFNjaGVtYSwgc2NoZW1hLCB0YWJsZU5hbWVzTWFwLCB0YWJsZSwgdGFibGVDb25maWcsIHF1ZXJ5Q29uZmlnOiBjb25maWcsIHRhYmxlQWxpYXMsIG5lc3RlZFF1ZXJ5UmVsYXRpb24sIGpvaW5PbiwgfSkge1xuICAgICAgICBsZXQgc2VsZWN0aW9uID0gW107XG4gICAgICAgIGxldCBsaW1pdCwgb2Zmc2V0LCBvcmRlckJ5ID0gW10sIHdoZXJlO1xuICAgICAgICBjb25zdCBqb2lucyA9IFtdO1xuICAgICAgICBpZiAoY29uZmlnID09PSB0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBzZWxlY3Rpb25FbnRyaWVzID0gT2JqZWN0LmVudHJpZXModGFibGVDb25maWcuY29sdW1ucyk7XG4gICAgICAgICAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb25FbnRyaWVzLm1hcCgoW2tleSwgdmFsdWVdKSA9PiAoe1xuICAgICAgICAgICAgICAgIGRiS2V5OiB2YWx1ZS5uYW1lLFxuICAgICAgICAgICAgICAgIHRzS2V5OiBrZXksXG4gICAgICAgICAgICAgICAgZmllbGQ6IGFsaWFzZWRUYWJsZUNvbHVtbih2YWx1ZSwgdGFibGVBbGlhcyksXG4gICAgICAgICAgICAgICAgcmVsYXRpb25UYWJsZVRzS2V5OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgaXNKc29uOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb246IFtdLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgYWxpYXNlZENvbHVtbnMgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXModGFibGVDb25maWcuY29sdW1ucykubWFwKChba2V5LCB2YWx1ZV0pID0+IFtrZXksIGFsaWFzZWRUYWJsZUNvbHVtbih2YWx1ZSwgdGFibGVBbGlhcyldKSk7XG4gICAgICAgICAgICBpZiAoY29uZmlnLndoZXJlKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgd2hlcmVTcWwgPSB0eXBlb2YgY29uZmlnLndoZXJlID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgICAgID8gY29uZmlnLndoZXJlKGFsaWFzZWRDb2x1bW5zLCBnZXRPcGVyYXRvcnMoKSlcbiAgICAgICAgICAgICAgICAgICAgOiBjb25maWcud2hlcmU7XG4gICAgICAgICAgICAgICAgd2hlcmUgPSB3aGVyZVNxbCAmJiBtYXBDb2x1bW5zSW5TUUxUb0FsaWFzKHdoZXJlU3FsLCB0YWJsZUFsaWFzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGZpZWxkc1NlbGVjdGlvbiA9IFtdO1xuICAgICAgICAgICAgbGV0IHNlbGVjdGVkQ29sdW1ucyA9IFtdO1xuICAgICAgICAgICAgLy8gRmlndXJlIG91dCB3aGljaCBjb2x1bW5zIHRvIHNlbGVjdFxuICAgICAgICAgICAgaWYgKGNvbmZpZy5jb2x1bW5zKSB7XG4gICAgICAgICAgICAgICAgbGV0IGlzSW5jbHVkZU1vZGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtmaWVsZCwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGNvbmZpZy5jb2x1bW5zKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkIGluIHRhYmxlQ29uZmlnLmNvbHVtbnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNJbmNsdWRlTW9kZSAmJiB2YWx1ZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzSW5jbHVkZU1vZGUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDb2x1bW5zLnB1c2goZmllbGQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzZWxlY3RlZENvbHVtbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZENvbHVtbnMgPSBpc0luY2x1ZGVNb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHNlbGVjdGVkQ29sdW1ucy5maWx0ZXIoKGMpID0+IGNvbmZpZy5jb2x1bW5zPy5bY10gPT09IHRydWUpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IE9iamVjdC5rZXlzKHRhYmxlQ29uZmlnLmNvbHVtbnMpLmZpbHRlcigoa2V5KSA9PiAhc2VsZWN0ZWRDb2x1bW5zLmluY2x1ZGVzKGtleSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFNlbGVjdCBhbGwgY29sdW1ucyBpZiBzZWxlY3Rpb24gaXMgbm90IHNwZWNpZmllZFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkQ29sdW1ucyA9IE9iamVjdC5rZXlzKHRhYmxlQ29uZmlnLmNvbHVtbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBmaWVsZCBvZiBzZWxlY3RlZENvbHVtbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2x1bW4gPSB0YWJsZUNvbmZpZy5jb2x1bW5zW2ZpZWxkXTtcbiAgICAgICAgICAgICAgICBmaWVsZHNTZWxlY3Rpb24ucHVzaCh7IHRzS2V5OiBmaWVsZCwgdmFsdWU6IGNvbHVtbiB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBzZWxlY3RlZFJlbGF0aW9ucyA9IFtdO1xuICAgICAgICAgICAgLy8gRmlndXJlIG91dCB3aGljaCByZWxhdGlvbnMgdG8gc2VsZWN0XG4gICAgICAgICAgICBpZiAoY29uZmlnLndpdGgpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZFJlbGF0aW9ucyA9IE9iamVjdC5lbnRyaWVzKGNvbmZpZy53aXRoKVxuICAgICAgICAgICAgICAgICAgICAuZmlsdGVyKChlbnRyeSkgPT4gISFlbnRyeVsxXSlcbiAgICAgICAgICAgICAgICAgICAgLm1hcCgoW3RzS2V5LCBxdWVyeUNvbmZpZ10pID0+ICh7IHRzS2V5LCBxdWVyeUNvbmZpZywgcmVsYXRpb246IHRhYmxlQ29uZmlnLnJlbGF0aW9uc1t0c0tleV0gfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGV4dHJhcztcbiAgICAgICAgICAgIC8vIEZpZ3VyZSBvdXQgd2hpY2ggZXh0cmFzIHRvIHNlbGVjdFxuICAgICAgICAgICAgaWYgKGNvbmZpZy5leHRyYXMpIHtcbiAgICAgICAgICAgICAgICBleHRyYXMgPSB0eXBlb2YgY29uZmlnLmV4dHJhcyA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICA/IGNvbmZpZy5leHRyYXMoYWxpYXNlZENvbHVtbnMsIHsgc3FsIH0pXG4gICAgICAgICAgICAgICAgICAgIDogY29uZmlnLmV4dHJhcztcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFt0c0tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGV4dHJhcykpIHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGRzU2VsZWN0aW9uLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHNLZXksXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbWFwQ29sdW1uc0luQWxpYXNlZFNRTFRvQWxpYXModmFsdWUsIHRhYmxlQWxpYXMpLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUcmFuc2Zvcm0gYGZpZWxkc1NlbGVjdGlvbmAgaW50byBgc2VsZWN0aW9uYFxuICAgICAgICAgICAgLy8gYGZpZWxkc1NlbGVjdGlvbmAgc2hvdWxkbid0IGJlIHVzZWQgYWZ0ZXIgdGhpcyBwb2ludFxuICAgICAgICAgICAgZm9yIChjb25zdCB7IHRzS2V5LCB2YWx1ZSB9IG9mIGZpZWxkc1NlbGVjdGlvbikge1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgZGJLZXk6IGlzKHZhbHVlLCBTUUwuQWxpYXNlZCkgPyB2YWx1ZS5maWVsZEFsaWFzIDogdGFibGVDb25maWcuY29sdW1uc1t0c0tleV0ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgdHNLZXksXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiBpcyh2YWx1ZSwgQ29sdW1uKSA/IGFsaWFzZWRUYWJsZUNvbHVtbih2YWx1ZSwgdGFibGVBbGlhcykgOiB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25UYWJsZVRzS2V5OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIGlzSnNvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogW10sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgb3JkZXJCeU9yaWcgPSB0eXBlb2YgY29uZmlnLm9yZGVyQnkgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICA/IGNvbmZpZy5vcmRlckJ5KGFsaWFzZWRDb2x1bW5zLCBnZXRPcmRlckJ5T3BlcmF0b3JzKCkpXG4gICAgICAgICAgICAgICAgOiBjb25maWcub3JkZXJCeSA/PyBbXTtcbiAgICAgICAgICAgIGlmICghQXJyYXkuaXNBcnJheShvcmRlckJ5T3JpZykpIHtcbiAgICAgICAgICAgICAgICBvcmRlckJ5T3JpZyA9IFtvcmRlckJ5T3JpZ107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcmRlckJ5ID0gb3JkZXJCeU9yaWcubWFwKChvcmRlckJ5VmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXMob3JkZXJCeVZhbHVlLCBDb2x1bW4pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhbGlhc2VkVGFibGVDb2x1bW4ob3JkZXJCeVZhbHVlLCB0YWJsZUFsaWFzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1hcENvbHVtbnNJblNRTFRvQWxpYXMob3JkZXJCeVZhbHVlLCB0YWJsZUFsaWFzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbGltaXQgPSBjb25maWcubGltaXQ7XG4gICAgICAgICAgICBvZmZzZXQgPSBjb25maWcub2Zmc2V0O1xuICAgICAgICAgICAgLy8gUHJvY2VzcyBhbGwgcmVsYXRpb25zXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHsgdHNLZXk6IHNlbGVjdGVkUmVsYXRpb25Uc0tleSwgcXVlcnlDb25maWc6IHNlbGVjdGVkUmVsYXRpb25Db25maWdWYWx1ZSwgcmVsYXRpb24sIH0gb2Ygc2VsZWN0ZWRSZWxhdGlvbnMpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBub3JtYWxpemVkUmVsYXRpb24gPSBub3JtYWxpemVSZWxhdGlvbihzY2hlbWEsIHRhYmxlTmFtZXNNYXAsIHJlbGF0aW9uKTtcbiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGlvblRhYmxlTmFtZSA9IHJlbGF0aW9uLnJlZmVyZW5jZWRUYWJsZVtUYWJsZS5TeW1ib2wuTmFtZV07XG4gICAgICAgICAgICAgICAgY29uc3QgcmVsYXRpb25UYWJsZVRzTmFtZSA9IHRhYmxlTmFtZXNNYXBbcmVsYXRpb25UYWJsZU5hbWVdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbGF0aW9uVGFibGVBbGlhcyA9IGAke3RhYmxlQWxpYXN9XyR7c2VsZWN0ZWRSZWxhdGlvblRzS2V5fWA7XG4gICAgICAgICAgICAgICAgY29uc3Qgam9pbk9uID0gYW5kKC4uLm5vcm1hbGl6ZWRSZWxhdGlvbi5maWVsZHMubWFwKChmaWVsZCwgaSkgPT4gZXEoYWxpYXNlZFRhYmxlQ29sdW1uKG5vcm1hbGl6ZWRSZWxhdGlvbi5yZWZlcmVuY2VzW2ldLCByZWxhdGlvblRhYmxlQWxpYXMpLCBhbGlhc2VkVGFibGVDb2x1bW4oZmllbGQsIHRhYmxlQWxpYXMpKSkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1aWx0UmVsYXRpb24gPSB0aGlzLmJ1aWxkUmVsYXRpb25hbFF1ZXJ5V2l0aG91dFBLKHtcbiAgICAgICAgICAgICAgICAgICAgZnVsbFNjaGVtYSxcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hLFxuICAgICAgICAgICAgICAgICAgICB0YWJsZU5hbWVzTWFwLFxuICAgICAgICAgICAgICAgICAgICB0YWJsZTogZnVsbFNjaGVtYVtyZWxhdGlvblRhYmxlVHNOYW1lXSxcbiAgICAgICAgICAgICAgICAgICAgdGFibGVDb25maWc6IHNjaGVtYVtyZWxhdGlvblRhYmxlVHNOYW1lXSxcbiAgICAgICAgICAgICAgICAgICAgcXVlcnlDb25maWc6IGlzKHJlbGF0aW9uLCBPbmUpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IChzZWxlY3RlZFJlbGF0aW9uQ29uZmlnVmFsdWUgPT09IHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHsgbGltaXQ6IDEgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogeyAuLi5zZWxlY3RlZFJlbGF0aW9uQ29uZmlnVmFsdWUsIGxpbWl0OiAxIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICA6IHNlbGVjdGVkUmVsYXRpb25Db25maWdWYWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdGFibGVBbGlhczogcmVsYXRpb25UYWJsZUFsaWFzLFxuICAgICAgICAgICAgICAgICAgICBqb2luT24sXG4gICAgICAgICAgICAgICAgICAgIG5lc3RlZFF1ZXJ5UmVsYXRpb246IHJlbGF0aW9uLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gc3FsIGAke3NxbC5pZGVudGlmaWVyKHJlbGF0aW9uVGFibGVBbGlhcyl9LiR7c3FsLmlkZW50aWZpZXIoJ2RhdGEnKX1gLmFzKHNlbGVjdGVkUmVsYXRpb25Uc0tleSk7XG4gICAgICAgICAgICAgICAgam9pbnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG9uOiBzcWwgYHRydWVgLFxuICAgICAgICAgICAgICAgICAgICB0YWJsZTogbmV3IFN1YnF1ZXJ5KGJ1aWx0UmVsYXRpb24uc3FsLCB7fSwgcmVsYXRpb25UYWJsZUFsaWFzKSxcbiAgICAgICAgICAgICAgICAgICAgYWxpYXM6IHJlbGF0aW9uVGFibGVBbGlhcyxcbiAgICAgICAgICAgICAgICAgICAgam9pblR5cGU6ICdsZWZ0JyxcbiAgICAgICAgICAgICAgICAgICAgbGF0ZXJhbDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGRiS2V5OiBzZWxlY3RlZFJlbGF0aW9uVHNLZXksXG4gICAgICAgICAgICAgICAgICAgIHRzS2V5OiBzZWxlY3RlZFJlbGF0aW9uVHNLZXksXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICByZWxhdGlvblRhYmxlVHNLZXk6IHJlbGF0aW9uVGFibGVUc05hbWUsXG4gICAgICAgICAgICAgICAgICAgIGlzSnNvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBidWlsdFJlbGF0aW9uLnNlbGVjdGlvbixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoc2VsZWN0aW9uLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IERyaXp6bGVFcnJvcihgTm8gZmllbGRzIHNlbGVjdGVkIGZvciB0YWJsZSBcIiR7dGFibGVDb25maWcudHNOYW1lfVwiIChcIiR7dGFibGVBbGlhc31cIilgKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICB3aGVyZSA9IGFuZChqb2luT24sIHdoZXJlKTtcbiAgICAgICAgaWYgKG5lc3RlZFF1ZXJ5UmVsYXRpb24pIHtcbiAgICAgICAgICAgIGxldCBmaWVsZCA9IHNxbCBganNvbl9idWlsZF9hcnJheSgke3NxbC5qb2luKHNlbGVjdGlvbi5tYXAoKHsgZmllbGQsIHRzS2V5LCBpc0pzb24gfSkgPT4gaXNKc29uXG4gICAgICAgICAgICAgICAgPyBzcWwgYCR7c3FsLmlkZW50aWZpZXIoYCR7dGFibGVBbGlhc31fJHt0c0tleX1gKX0uJHtzcWwuaWRlbnRpZmllcignZGF0YScpfWBcbiAgICAgICAgICAgICAgICA6IGlzKGZpZWxkLCBTUUwuQWxpYXNlZClcbiAgICAgICAgICAgICAgICAgICAgPyBmaWVsZC5zcWxcbiAgICAgICAgICAgICAgICAgICAgOiBmaWVsZCksIHNxbCBgLCBgKX0pYDtcbiAgICAgICAgICAgIGlmIChpcyhuZXN0ZWRRdWVyeVJlbGF0aW9uLCBNYW55KSkge1xuICAgICAgICAgICAgICAgIGZpZWxkID0gc3FsIGBjb2FsZXNjZShqc29uX2FnZygke2ZpZWxkfSR7b3JkZXJCeS5sZW5ndGggPiAwID8gc3FsIGAgb3JkZXIgYnkgJHtzcWwuam9pbihvcmRlckJ5LCBzcWwgYCwgYCl9YCA6IHVuZGVmaW5lZH0pLCAnW10nOjpqc29uKWA7XG4gICAgICAgICAgICAgICAgLy8gb3JkZXJCeSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbmVzdGVkU2VsZWN0aW9uID0gW3tcbiAgICAgICAgICAgICAgICAgICAgZGJLZXk6ICdkYXRhJyxcbiAgICAgICAgICAgICAgICAgICAgdHNLZXk6ICdkYXRhJyxcbiAgICAgICAgICAgICAgICAgICAgZmllbGQ6IGZpZWxkLmFzKCdkYXRhJyksXG4gICAgICAgICAgICAgICAgICAgIGlzSnNvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25UYWJsZVRzS2V5OiB0YWJsZUNvbmZpZy50c05hbWUsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbixcbiAgICAgICAgICAgICAgICB9XTtcbiAgICAgICAgICAgIGNvbnN0IG5lZWRzU3VicXVlcnkgPSBsaW1pdCAhPT0gdW5kZWZpbmVkIHx8IG9mZnNldCAhPT0gdW5kZWZpbmVkIHx8IG9yZGVyQnkubGVuZ3RoID4gMDtcbiAgICAgICAgICAgIGlmIChuZWVkc1N1YnF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5idWlsZFNlbGVjdFF1ZXJ5KHtcbiAgICAgICAgICAgICAgICAgICAgdGFibGU6IGFsaWFzZWRUYWJsZSh0YWJsZSwgdGFibGVBbGlhcyksXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkczoge30sXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkc0ZsYXQ6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQ6IHNxbC5yYXcoJyonKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgICAgICB3aGVyZSxcbiAgICAgICAgICAgICAgICAgICAgbGltaXQsXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgb3JkZXJCeSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB3aGVyZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBsaW1pdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgb3JkZXJCeSA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gYWxpYXNlZFRhYmxlKHRhYmxlLCB0YWJsZUFsaWFzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuYnVpbGRTZWxlY3RRdWVyeSh7XG4gICAgICAgICAgICAgICAgdGFibGU6IGlzKHJlc3VsdCwgUGdUYWJsZSkgPyByZXN1bHQgOiBuZXcgU3VicXVlcnkocmVzdWx0LCB7fSwgdGFibGVBbGlhcyksXG4gICAgICAgICAgICAgICAgZmllbGRzOiB7fSxcbiAgICAgICAgICAgICAgICBmaWVsZHNGbGF0OiBuZXN0ZWRTZWxlY3Rpb24ubWFwKCh7IGZpZWxkIH0pID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IFtdLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZDogaXMoZmllbGQsIENvbHVtbikgPyBhbGlhc2VkVGFibGVDb2x1bW4oZmllbGQsIHRhYmxlQWxpYXMpIDogZmllbGQsXG4gICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgIGpvaW5zLFxuICAgICAgICAgICAgICAgIHdoZXJlLFxuICAgICAgICAgICAgICAgIGxpbWl0LFxuICAgICAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICAgICAgICBvcmRlckJ5LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmJ1aWxkU2VsZWN0UXVlcnkoe1xuICAgICAgICAgICAgICAgIHRhYmxlOiBhbGlhc2VkVGFibGUodGFibGUsIHRhYmxlQWxpYXMpLFxuICAgICAgICAgICAgICAgIGZpZWxkczoge30sXG4gICAgICAgICAgICAgICAgZmllbGRzRmxhdDogc2VsZWN0aW9uLm1hcCgoeyBmaWVsZCB9KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgZmllbGQ6IGlzKGZpZWxkLCBDb2x1bW4pID8gYWxpYXNlZFRhYmxlQ29sdW1uKGZpZWxkLCB0YWJsZUFsaWFzKSA6IGZpZWxkLFxuICAgICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgICAgICBqb2lucyxcbiAgICAgICAgICAgICAgICB3aGVyZSxcbiAgICAgICAgICAgICAgICBsaW1pdCxcbiAgICAgICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgICAgICAgb3JkZXJCeSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0YWJsZVRzS2V5OiB0YWJsZUNvbmZpZy50c05hbWUsXG4gICAgICAgICAgICBzcWw6IHJlc3VsdCxcbiAgICAgICAgICAgIHNlbGVjdGlvbixcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmNsYXNzIFR5cGVkUXVlcnlCdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1R5cGVkUXVlcnlCdWlsZGVyJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgZ2V0U2VsZWN0ZWRGaWVsZHMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl8uc2VsZWN0ZWRGaWVsZHM7XG4gICAgfVxufVxuXG5jbGFzcyBQZ1NlbGVjdEJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdTZWxlY3RCdWlsZGVyJztcbiAgICBmaWVsZHM7XG4gICAgc2Vzc2lvbjtcbiAgICBkaWFsZWN0O1xuICAgIHdpdGhMaXN0ID0gW107XG4gICAgZGlzdGluY3Q7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuZmllbGRzID0gY29uZmlnLmZpZWxkcztcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gY29uZmlnLnNlc3Npb247XG4gICAgICAgIHRoaXMuZGlhbGVjdCA9IGNvbmZpZy5kaWFsZWN0O1xuICAgICAgICBpZiAoY29uZmlnLndpdGhMaXN0KSB7XG4gICAgICAgICAgICB0aGlzLndpdGhMaXN0ID0gY29uZmlnLndpdGhMaXN0O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZGlzdGluY3QgPSBjb25maWcuZGlzdGluY3Q7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNwZWNpZnkgdGhlIHRhYmxlLCBzdWJxdWVyeSwgb3Igb3RoZXIgdGFyZ2V0IHRoYXQgeW91J3JlXG4gICAgICogYnVpbGRpbmcgYSBzZWxlY3QgcXVlcnkgYWdhaW5zdC5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL3d3dy5wb3N0Z3Jlc3FsLm9yZy9kb2NzL2N1cnJlbnQvc3FsLXNlbGVjdC5odG1sI1NRTC1GUk9NfFBvc3RncmVzIGZyb20gZG9jdW1lbnRhdGlvbn1cbiAgICAgKi9cbiAgICBmcm9tKHNvdXJjZSkge1xuICAgICAgICBjb25zdCBpc1BhcnRpYWxTZWxlY3QgPSAhIXRoaXMuZmllbGRzO1xuICAgICAgICBsZXQgZmllbGRzO1xuICAgICAgICBpZiAodGhpcy5maWVsZHMpIHtcbiAgICAgICAgICAgIGZpZWxkcyA9IHRoaXMuZmllbGRzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzKHNvdXJjZSwgU3VicXVlcnkpKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGlzIHJlcXVpcmVkIHRvIHVzZSB0aGUgcHJveHkgaGFuZGxlciB0byBnZXQgdGhlIGNvcnJlY3QgZmllbGQgdmFsdWVzIGZyb20gdGhlIHN1YnF1ZXJ5XG4gICAgICAgICAgICBmaWVsZHMgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmtleXMoc291cmNlW1N1YnF1ZXJ5Q29uZmlnXS5zZWxlY3Rpb24pLm1hcCgoa2V5KSA9PiBba2V5LCBzb3VyY2Vba2V5XV0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpcyhzb3VyY2UsIFBnVmlld0Jhc2UpKSB7XG4gICAgICAgICAgICBmaWVsZHMgPSBzb3VyY2VbVmlld0Jhc2VDb25maWddLnNlbGVjdGVkRmllbGRzO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzKHNvdXJjZSwgU1FMKSkge1xuICAgICAgICAgICAgZmllbGRzID0ge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmaWVsZHMgPSBnZXRUYWJsZUNvbHVtbnMoc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFBnU2VsZWN0KHtcbiAgICAgICAgICAgIHRhYmxlOiBzb3VyY2UsXG4gICAgICAgICAgICBmaWVsZHMsXG4gICAgICAgICAgICBpc1BhcnRpYWxTZWxlY3QsXG4gICAgICAgICAgICBzZXNzaW9uOiB0aGlzLnNlc3Npb24sXG4gICAgICAgICAgICBkaWFsZWN0OiB0aGlzLmRpYWxlY3QsXG4gICAgICAgICAgICB3aXRoTGlzdDogdGhpcy53aXRoTGlzdCxcbiAgICAgICAgICAgIGRpc3RpbmN0OiB0aGlzLmRpc3RpbmN0LFxuICAgICAgICB9KTtcbiAgICB9XG59XG5jbGFzcyBQZ1NlbGVjdFF1ZXJ5QnVpbGRlciBleHRlbmRzIFR5cGVkUXVlcnlCdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnU2VsZWN0UXVlcnlCdWlsZGVyJztcbiAgICBfO1xuICAgIGNvbmZpZztcbiAgICBqb2luc05vdE51bGxhYmxlTWFwO1xuICAgIHRhYmxlTmFtZTtcbiAgICBpc1BhcnRpYWxTZWxlY3Q7XG4gICAgc2Vzc2lvbjtcbiAgICBkaWFsZWN0O1xuICAgIGNvbnN0cnVjdG9yKHsgdGFibGUsIGZpZWxkcywgaXNQYXJ0aWFsU2VsZWN0LCBzZXNzaW9uLCBkaWFsZWN0LCB3aXRoTGlzdCwgZGlzdGluY3QgfSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHtcbiAgICAgICAgICAgIHdpdGhMaXN0LFxuICAgICAgICAgICAgdGFibGUsXG4gICAgICAgICAgICBmaWVsZHM6IHsgLi4uZmllbGRzIH0sXG4gICAgICAgICAgICBkaXN0aW5jdCxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pc1BhcnRpYWxTZWxlY3QgPSBpc1BhcnRpYWxTZWxlY3Q7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgICAgIHRoaXMuZGlhbGVjdCA9IGRpYWxlY3Q7XG4gICAgICAgIHRoaXMuXyA9IHtcbiAgICAgICAgICAgIHNlbGVjdGVkRmllbGRzOiBmaWVsZHMsXG4gICAgICAgIH07XG4gICAgICAgIHRoaXMudGFibGVOYW1lID0gZ2V0VGFibGVMaWtlTmFtZSh0YWJsZSk7XG4gICAgICAgIHRoaXMuam9pbnNOb3ROdWxsYWJsZU1hcCA9IHR5cGVvZiB0aGlzLnRhYmxlTmFtZSA9PT0gJ3N0cmluZycgPyB7IFt0aGlzLnRhYmxlTmFtZV06IHRydWUgfSA6IHt9O1xuICAgIH1cbiAgICBjcmVhdGVKb2luKGpvaW5UeXBlKSB7XG4gICAgICAgIHJldHVybiAodGFibGUsIG9uKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBiYXNlVGFibGVOYW1lID0gdGhpcy50YWJsZU5hbWU7XG4gICAgICAgICAgICBjb25zdCB0YWJsZU5hbWUgPSBnZXRUYWJsZUxpa2VOYW1lKHRhYmxlKTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGFibGVOYW1lID09PSAnc3RyaW5nJyAmJiB0aGlzLmNvbmZpZy5qb2lucz8uc29tZSgoam9pbikgPT4gam9pbi5hbGlhcyA9PT0gdGFibGVOYW1lKSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQWxpYXMgXCIke3RhYmxlTmFtZX1cIiBpcyBhbHJlYWR5IHVzZWQgaW4gdGhpcyBxdWVyeWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0aGlzLmlzUGFydGlhbFNlbGVjdCkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgdGhlIGZpcnN0IGpvaW4gYW5kIHRoaXMgaXMgbm90IGEgcGFydGlhbCBzZWxlY3QgYW5kIHdlJ3JlIG5vdCBzZWxlY3RpbmcgZnJvbSByYXcgU1FMLCBcIm1vdmVcIiB0aGUgZmllbGRzIGZyb20gdGhlIG1haW4gdGFibGUgdG8gdGhlIG5lc3RlZCBvYmplY3RcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXModGhpcy5qb2luc05vdE51bGxhYmxlTWFwKS5sZW5ndGggPT09IDEgJiYgdHlwZW9mIGJhc2VUYWJsZU5hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmZpZWxkcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFtiYXNlVGFibGVOYW1lXTogdGhpcy5jb25maWcuZmllbGRzLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhYmxlTmFtZSA9PT0gJ3N0cmluZycgJiYgIWlzKHRhYmxlLCBTUUwpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGlvbiA9IGlzKHRhYmxlLCBTdWJxdWVyeSlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gdGFibGVbU3VicXVlcnlDb25maWddLnNlbGVjdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgOiBpcyh0YWJsZSwgVmlldylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRhYmxlW1ZpZXdCYXNlQ29uZmlnXS5zZWxlY3RlZEZpZWxkc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdGFibGVbVGFibGUuU3ltYm9sLkNvbHVtbnNdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5maWVsZHNbdGFibGVOYW1lXSA9IHNlbGVjdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIG9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgb24gPSBvbihuZXcgUHJveHkodGhpcy5jb25maWcuZmllbGRzLCBuZXcgU2VsZWN0aW9uUHJveHlIYW5kbGVyKHsgc3FsQWxpYXNlZEJlaGF2aW9yOiAnc3FsJywgc3FsQmVoYXZpb3I6ICdzcWwnIH0pKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuY29uZmlnLmpvaW5zKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb25maWcuam9pbnMgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmpvaW5zLnB1c2goeyBvbiwgdGFibGUsIGpvaW5UeXBlLCBhbGlhczogdGFibGVOYW1lIH0pO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0YWJsZU5hbWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChqb2luVHlwZSkge1xuICAgICAgICAgICAgICAgICAgICBjYXNlICdsZWZ0Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5qb2luc05vdE51bGxhYmxlTWFwW3RhYmxlTmFtZV0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ3JpZ2h0Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5qb2luc05vdE51bGxhYmxlTWFwID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHRoaXMuam9pbnNOb3ROdWxsYWJsZU1hcCkubWFwKChba2V5XSkgPT4gW2tleSwgZmFsc2VdKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmpvaW5zTm90TnVsbGFibGVNYXBbdGFibGVOYW1lXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlICdpbm5lcic6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuam9pbnNOb3ROdWxsYWJsZU1hcFt0YWJsZU5hbWVdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2Z1bGwnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmpvaW5zTm90TnVsbGFibGVNYXAgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXModGhpcy5qb2luc05vdE51bGxhYmxlTWFwKS5tYXAoKFtrZXldKSA9PiBba2V5LCBmYWxzZV0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuam9pbnNOb3ROdWxsYWJsZU1hcFt0YWJsZU5hbWVdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGb3IgZWFjaCByb3cgb2YgdGhlIHRhYmxlLCBpbmNsdWRlXG4gICAgICogdmFsdWVzIGZyb20gYSBtYXRjaGluZyByb3cgb2YgdGhlIGpvaW5lZFxuICAgICAqIHRhYmxlLCBpZiB0aGVyZSBpcyBhIG1hdGNoaW5nIHJvdy4gSWYgbm90LFxuICAgICAqIGFsbCBvZiB0aGUgY29sdW1ucyBvZiB0aGUgam9pbmVkIHRhYmxlXG4gICAgICogd2lsbCBiZSBzZXQgdG8gbnVsbC5cbiAgICAgKi9cbiAgICBsZWZ0Sm9pbiA9IHRoaXMuY3JlYXRlSm9pbignbGVmdCcpO1xuICAgIC8qKlxuICAgICAqIEluY2x1ZGVzIGFsbCBvZiB0aGUgcm93cyBvZiB0aGUgam9pbmVkIHRhYmxlLlxuICAgICAqIElmIHRoZXJlIGlzIG5vIG1hdGNoaW5nIHJvdyBpbiB0aGUgbWFpbiB0YWJsZSxcbiAgICAgKiBhbGwgdGhlIGNvbHVtbnMgb2YgdGhlIG1haW4gdGFibGUgd2lsbCBiZVxuICAgICAqIHNldCB0byBudWxsLlxuICAgICAqL1xuICAgIHJpZ2h0Sm9pbiA9IHRoaXMuY3JlYXRlSm9pbigncmlnaHQnKTtcbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIHRoZSBkZWZhdWx0IHR5cGUgb2Ygam9pbi5cbiAgICAgKlxuICAgICAqIEZvciBlYWNoIHJvdyBvZiB0aGUgdGFibGUsIHRoZSBqb2luZWQgdGFibGVcbiAgICAgKiBuZWVkcyB0byBoYXZlIGEgbWF0Y2hpbmcgcm93LCBvciBpdCB3aWxsXG4gICAgICogYmUgZXhjbHVkZWQgZnJvbSByZXN1bHRzLlxuICAgICAqL1xuICAgIGlubmVySm9pbiA9IHRoaXMuY3JlYXRlSm9pbignaW5uZXInKTtcbiAgICAvKipcbiAgICAgKiBSb3dzIGZyb20gYm90aCB0aGUgbWFpbiAmIGpvaW5lZCBhcmUgaW5jbHVkZWQsXG4gICAgICogcmVnYXJkbGVzcyBvZiB3aGV0aGVyIG9yIG5vdCB0aGV5IGhhdmUgbWF0Y2hpbmdcbiAgICAgKiByb3dzIGluIHRoZSBvdGhlciB0YWJsZS5cbiAgICAgKi9cbiAgICBmdWxsSm9pbiA9IHRoaXMuY3JlYXRlSm9pbignZnVsbCcpO1xuICAgIC8qKlxuICAgICAqIFNwZWNpZnkgYSBjb25kaXRpb24gdG8gbmFycm93IHRoZSByZXN1bHQgc2V0LiBNdWx0aXBsZVxuICAgICAqIGNvbmRpdGlvbnMgY2FuIGJlIGNvbWJpbmVkIHdpdGggdGhlIGBhbmRgIGFuZCBgb3JgXG4gICAgICogZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogIyMgRXhhbXBsZXNcbiAgICAgKlxuICAgICAqIGBgYHRzXG4gICAgICogLy8gRmluZCBjYXJzIG1hZGUgaW4gdGhlIHllYXIgMjAwMFxuICAgICAqIGRiLnNlbGVjdCgpLmZyb20oY2Fycykud2hlcmUoZXEoY2Fycy55ZWFyLCAyMDAwKSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgd2hlcmUod2hlcmUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB3aGVyZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgd2hlcmUgPSB3aGVyZShuZXcgUHJveHkodGhpcy5jb25maWcuZmllbGRzLCBuZXcgU2VsZWN0aW9uUHJveHlIYW5kbGVyKHsgc3FsQWxpYXNlZEJlaGF2aW9yOiAnc3FsJywgc3FsQmVoYXZpb3I6ICdzcWwnIH0pKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25maWcud2hlcmUgPSB3aGVyZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIEhBVklORyBjbGF1c2Ugb2YgdGhpcyBxdWVyeSwgd2hpY2ggb2Z0ZW5cbiAgICAgKiB1c2VkIHdpdGggR1JPVVAgQlkgYW5kIGZpbHRlcnMgcm93cyBhZnRlciB0aGV5J3ZlIGJlZW5cbiAgICAgKiBncm91cGVkIHRvZ2V0aGVyIGFuZCBjb21iaW5lZC5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL3d3dy5wb3N0Z3Jlc3FsLm9yZy9kb2NzL2N1cnJlbnQvc3FsLXNlbGVjdC5odG1sI1NRTC1IQVZJTkd8UG9zdGdyZXMgaGF2aW5nIGNsYXVzZSBkb2N1bWVudGF0aW9ufVxuICAgICAqL1xuICAgIGhhdmluZyhoYXZpbmcpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBoYXZpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGhhdmluZyA9IGhhdmluZyhuZXcgUHJveHkodGhpcy5jb25maWcuZmllbGRzLCBuZXcgU2VsZWN0aW9uUHJveHlIYW5kbGVyKHsgc3FsQWxpYXNlZEJlaGF2aW9yOiAnc3FsJywgc3FsQmVoYXZpb3I6ICdzcWwnIH0pKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25maWcuaGF2aW5nID0gaGF2aW5nO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ3JvdXBCeSguLi5jb2x1bW5zKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY29sdW1uc1swXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY29uc3QgZ3JvdXBCeSA9IGNvbHVtbnNbMF0obmV3IFByb3h5KHRoaXMuY29uZmlnLmZpZWxkcywgbmV3IFNlbGVjdGlvblByb3h5SGFuZGxlcih7IHNxbEFsaWFzZWRCZWhhdmlvcjogJ2FsaWFzJywgc3FsQmVoYXZpb3I6ICdzcWwnIH0pKSk7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5ncm91cEJ5ID0gQXJyYXkuaXNBcnJheShncm91cEJ5KSA/IGdyb3VwQnkgOiBbZ3JvdXBCeV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5ncm91cEJ5ID0gY29sdW1ucztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgb3JkZXJCeSguLi5jb2x1bW5zKSB7XG4gICAgICAgIGlmICh0eXBlb2YgY29sdW1uc1swXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY29uc3Qgb3JkZXJCeSA9IGNvbHVtbnNbMF0obmV3IFByb3h5KHRoaXMuY29uZmlnLmZpZWxkcywgbmV3IFNlbGVjdGlvblByb3h5SGFuZGxlcih7IHNxbEFsaWFzZWRCZWhhdmlvcjogJ2FsaWFzJywgc3FsQmVoYXZpb3I6ICdzcWwnIH0pKSk7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5vcmRlckJ5ID0gQXJyYXkuaXNBcnJheShvcmRlckJ5KSA/IG9yZGVyQnkgOiBbb3JkZXJCeV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmNvbmZpZy5vcmRlckJ5ID0gY29sdW1ucztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBtYXhpbXVtIG51bWJlciBvZiByb3dzIHRoYXQgd2lsbCBiZVxuICAgICAqIHJldHVybmVkIGJ5IHRoaXMgcXVlcnkuXG4gICAgICpcbiAgICAgKiAjIyBFeGFtcGxlc1xuICAgICAqXG4gICAgICogYGBgdHNcbiAgICAgKiAvLyBHZXQgdGhlIGZpcnN0IDEwIHBlb3BsZSBmcm9tIHRoaXMgcXVlcnkuXG4gICAgICogZGIuc2VsZWN0KCkuZnJvbShwZW9wbGUpLmxpbWl0KDEwKTtcbiAgICAgKiBgYGBcbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL3d3dy5wb3N0Z3Jlc3FsLm9yZy9kb2NzL2N1cnJlbnQvc3FsLXNlbGVjdC5odG1sI1NRTC1MSU1JVHxQb3N0Z3JlcyBMSU1JVCBkb2N1bWVudGF0aW9ufVxuICAgICAqL1xuICAgIGxpbWl0KGxpbWl0KSB7XG4gICAgICAgIHRoaXMuY29uZmlnLmxpbWl0ID0gbGltaXQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTa2lwIGEgbnVtYmVyIG9mIHJvd3Mgd2hlbiByZXR1cm5pbmcgcmVzdWx0c1xuICAgICAqIGZyb20gdGhpcyBxdWVyeS5cbiAgICAgKlxuICAgICAqICMjIEV4YW1wbGVzXG4gICAgICpcbiAgICAgKiBgYGB0c1xuICAgICAqIC8vIEdldCB0aGUgMTB0aC0yMHRoIHBlb3BsZSBmcm9tIHRoaXMgcXVlcnkuXG4gICAgICogZGIuc2VsZWN0KCkuZnJvbShwZW9wbGUpLm9mZnNldCgxMCkubGltaXQoMTApO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIG9mZnNldChvZmZzZXQpIHtcbiAgICAgICAgdGhpcy5jb25maWcub2Zmc2V0ID0gb2Zmc2V0O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIEZPUiBjbGF1c2Ugc3BlY2lmaWVzIGEgbG9jayBzdHJlbmd0aCBmb3IgdGhpcyBxdWVyeVxuICAgICAqIHRoYXQgY29udHJvbHMgaG93IHN0cmljdGx5IGl0IGFjcXVpcmVzIGV4Y2x1c2l2ZSBhY2Nlc3MgdG9cbiAgICAgKiB0aGUgcm93cyBiZWluZyBxdWVyaWVkLlxuICAgICAqXG4gICAgICoge0BsaW5rIGh0dHBzOi8vd3d3LnBvc3RncmVzcWwub3JnL2RvY3MvY3VycmVudC9zcWwtc2VsZWN0Lmh0bWwjU1FMLUZPUi1VUERBVEUtU0hBUkV8UG9zdGdyZXMgbG9ja2luZyBjbGF1c2UgZG9jdW1lbnRhdGlvbn1cbiAgICAgKi9cbiAgICBmb3Ioc3RyZW5ndGgsIGNvbmZpZyA9IHt9KSB7XG4gICAgICAgIGlmICghdGhpcy5jb25maWcubG9ja2luZ0NsYXVzZXMpIHtcbiAgICAgICAgICAgIHRoaXMuY29uZmlnLmxvY2tpbmdDbGF1c2VzID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jb25maWcubG9ja2luZ0NsYXVzZXMucHVzaCh7IHN0cmVuZ3RoLCBjb25maWcgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgZ2V0U1FMKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaWFsZWN0LmJ1aWxkU2VsZWN0UXVlcnkodGhpcy5jb25maWcpO1xuICAgIH1cbiAgICB0b1NRTCgpIHtcbiAgICAgICAgY29uc3QgeyB0eXBpbmdzOiBfdHlwaW5ncywgLi4ucmVzdCB9ID0gdGhpcy5kaWFsZWN0LnNxbFRvUXVlcnkodGhpcy5nZXRTUUwoKSk7XG4gICAgICAgIHJldHVybiByZXN0O1xuICAgIH1cbiAgICBhcyhhbGlhcykge1xuICAgICAgICByZXR1cm4gbmV3IFByb3h5KG5ldyBTdWJxdWVyeSh0aGlzLmdldFNRTCgpLCB0aGlzLmNvbmZpZy5maWVsZHMsIGFsaWFzKSwgbmV3IFNlbGVjdGlvblByb3h5SGFuZGxlcih7IGFsaWFzLCBzcWxBbGlhc2VkQmVoYXZpb3I6ICdhbGlhcycsIHNxbEJlaGF2aW9yOiAnZXJyb3InIH0pKTtcbiAgICB9XG59XG5jbGFzcyBQZ1NlbGVjdCBleHRlbmRzIFBnU2VsZWN0UXVlcnlCdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnU2VsZWN0JztcbiAgICBfcHJlcGFyZShuYW1lKSB7XG4gICAgICAgIGNvbnN0IHsgc2Vzc2lvbiwgY29uZmlnLCBkaWFsZWN0LCBqb2luc05vdE51bGxhYmxlTWFwIH0gPSB0aGlzO1xuICAgICAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGV4ZWN1dGUgYSBxdWVyeSBvbiBhIHF1ZXJ5IGJ1aWxkZXIuIFBsZWFzZSB1c2UgYSBkYXRhYmFzZSBpbnN0YW5jZSBpbnN0ZWFkLicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cmFjZXIuc3RhcnRBY3RpdmVTcGFuKCdkcml6emxlLnByZXBhcmVRdWVyeScsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkc0xpc3QgPSBvcmRlclNlbGVjdGVkRmllbGRzKGNvbmZpZy5maWVsZHMpO1xuICAgICAgICAgICAgY29uc3QgcXVlcnkgPSBzZXNzaW9uLnByZXBhcmVRdWVyeShkaWFsZWN0LnNxbFRvUXVlcnkodGhpcy5nZXRTUUwoKSksIGZpZWxkc0xpc3QsIG5hbWUpO1xuICAgICAgICAgICAgcXVlcnkuam9pbnNOb3ROdWxsYWJsZU1hcCA9IGpvaW5zTm90TnVsbGFibGVNYXA7XG4gICAgICAgICAgICByZXR1cm4gcXVlcnk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBwcmVwYXJlZCBzdGF0ZW1lbnQgZm9yIHRoaXMgcXVlcnkuIFRoaXMgYWxsb3dzXG4gICAgICogdGhlIGRhdGFiYXNlIHRvIHJlbWVtYmVyIHRoaXMgcXVlcnkgZm9yIHRoZSBnaXZlbiBzZXNzaW9uXG4gICAgICogYW5kIGNhbGwgaXQgYnkgbmFtZSwgcmF0aGVyIHRoYW4gc3BlY2lmeWluZyB0aGUgZnVsbCBxdWVyeS5cbiAgICAgKlxuICAgICAqIHtAbGluayBodHRwczovL3d3dy5wb3N0Z3Jlc3FsLm9yZy9kb2NzL2N1cnJlbnQvc3FsLXByZXBhcmUuaHRtbHxQb3N0Z3JlcyBwcmVwYXJlIGRvY3VtZW50YXRpb259XG4gICAgICovXG4gICAgcHJlcGFyZShuYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9wcmVwYXJlKG5hbWUpO1xuICAgIH1cbiAgICBleGVjdXRlID0gKHBsYWNlaG9sZGVyVmFsdWVzKSA9PiB7XG4gICAgICAgIHJldHVybiB0cmFjZXIuc3RhcnRBY3RpdmVTcGFuKCdkcml6emxlLm9wZXJhdGlvbicsICgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9wcmVwYXJlKCkuZXhlY3V0ZShwbGFjZWhvbGRlclZhbHVlcyk7XG4gICAgICAgIH0pO1xuICAgIH07XG59XG5hcHBseU1peGlucyhQZ1NlbGVjdCwgW1F1ZXJ5UHJvbWlzZV0pO1xuXG5jbGFzcyBRdWVyeUJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdRdWVyeUJ1aWxkZXInO1xuICAgIGRpYWxlY3Q7XG4gICAgJHdpdGgoYWxpYXMpIHtcbiAgICAgICAgY29uc3QgcXVlcnlCdWlsZGVyID0gdGhpcztcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFzKHFiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBxYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBxYiA9IHFiKHF1ZXJ5QnVpbGRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJveHkobmV3IFdpdGhTdWJxdWVyeShxYi5nZXRTUUwoKSwgcWIuZ2V0U2VsZWN0ZWRGaWVsZHMoKSwgYWxpYXMsIHRydWUpLCBuZXcgU2VsZWN0aW9uUHJveHlIYW5kbGVyKHsgYWxpYXMsIHNxbEFsaWFzZWRCZWhhdmlvcjogJ2FsaWFzJywgc3FsQmVoYXZpb3I6ICdlcnJvcicgfSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgd2l0aCguLi5xdWVyaWVzKSB7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBmdW5jdGlvbiBzZWxlY3QoZmllbGRzKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFBnU2VsZWN0QnVpbGRlcih7XG4gICAgICAgICAgICAgICAgZmllbGRzOiBmaWVsZHMgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHNlc3Npb246IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBkaWFsZWN0OiBzZWxmLmdldERpYWxlY3QoKSxcbiAgICAgICAgICAgICAgICB3aXRoTGlzdDogcXVlcmllcyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHNlbGVjdERpc3RpbmN0KGZpZWxkcykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQZ1NlbGVjdEJ1aWxkZXIoe1xuICAgICAgICAgICAgICAgIGZpZWxkczogZmllbGRzID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBzZXNzaW9uOiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgZGlhbGVjdDogc2VsZi5nZXREaWFsZWN0KCksXG4gICAgICAgICAgICAgICAgZGlzdGluY3Q6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzZWxlY3REaXN0aW5jdE9uKG9uLCBmaWVsZHMpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUGdTZWxlY3RCdWlsZGVyKHtcbiAgICAgICAgICAgICAgICBmaWVsZHM6IGZpZWxkcyA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGRpYWxlY3Q6IHNlbGYuZ2V0RGlhbGVjdCgpLFxuICAgICAgICAgICAgICAgIGRpc3RpbmN0OiB7IG9uIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzZWxlY3QsIHNlbGVjdERpc3RpbmN0LCBzZWxlY3REaXN0aW5jdE9uIH07XG4gICAgfVxuICAgIHNlbGVjdChmaWVsZHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQZ1NlbGVjdEJ1aWxkZXIoe1xuICAgICAgICAgICAgZmllbGRzOiBmaWVsZHMgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgc2Vzc2lvbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGlhbGVjdDogdGhpcy5nZXREaWFsZWN0KCksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZWxlY3REaXN0aW5jdChmaWVsZHMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQZ1NlbGVjdEJ1aWxkZXIoe1xuICAgICAgICAgICAgZmllbGRzOiBmaWVsZHMgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgc2Vzc2lvbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgZGlhbGVjdDogdGhpcy5nZXREaWFsZWN0KCksXG4gICAgICAgICAgICBkaXN0aW5jdDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHNlbGVjdERpc3RpbmN0T24ob24sIGZpZWxkcykge1xuICAgICAgICByZXR1cm4gbmV3IFBnU2VsZWN0QnVpbGRlcih7XG4gICAgICAgICAgICBmaWVsZHM6IGZpZWxkcyA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICBzZXNzaW9uOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBkaWFsZWN0OiB0aGlzLmdldERpYWxlY3QoKSxcbiAgICAgICAgICAgIGRpc3RpbmN0OiB7IG9uIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBMYXp5IGxvYWQgZGlhbGVjdCB0byBhdm9pZCBjaXJjdWxhciBkZXBlbmRlbmN5XG4gICAgZ2V0RGlhbGVjdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRpYWxlY3QpIHtcbiAgICAgICAgICAgIHRoaXMuZGlhbGVjdCA9IG5ldyBQZ0RpYWxlY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5kaWFsZWN0O1xuICAgIH1cbn1cblxuY2xhc3MgRGVmYXVsdFZpZXdCdWlsZGVyQ29yZSB7XG4gICAgbmFtZTtcbiAgICBzY2hlbWE7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQZ0RlZmF1bHRWaWV3QnVpbGRlckNvcmUnO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHNjaGVtYSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICB9XG4gICAgY29uZmlnID0ge307XG4gICAgd2l0aChjb25maWcpIHtcbiAgICAgICAgdGhpcy5jb25maWcud2l0aCA9IGNvbmZpZztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuY2xhc3MgVmlld0J1aWxkZXIgZXh0ZW5kcyBEZWZhdWx0Vmlld0J1aWxkZXJDb3JlIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnVmlld0J1aWxkZXInO1xuICAgIGFzKHFiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgcWIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHFiID0gcWIobmV3IFF1ZXJ5QnVpbGRlcigpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzZWxlY3Rpb25Qcm94eSA9IG5ldyBTZWxlY3Rpb25Qcm94eUhhbmRsZXIoe1xuICAgICAgICAgICAgYWxpYXM6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIHNxbEJlaGF2aW9yOiAnZXJyb3InLFxuICAgICAgICAgICAgc3FsQWxpYXNlZEJlaGF2aW9yOiAnYWxpYXMnLFxuICAgICAgICAgICAgcmVwbGFjZU9yaWdpbmFsTmFtZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGFsaWFzZWRTZWxlY3Rpb24gPSBuZXcgUHJveHkocWIuZ2V0U2VsZWN0ZWRGaWVsZHMoKSwgc2VsZWN0aW9uUHJveHkpO1xuICAgICAgICByZXR1cm4gbmV3IFByb3h5KG5ldyBQZ1ZpZXcoe1xuICAgICAgICAgICAgcGdDb25maWc6IHRoaXMuY29uZmlnLFxuICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgICAgIHNjaGVtYTogdGhpcy5zY2hlbWEsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRGaWVsZHM6IGFsaWFzZWRTZWxlY3Rpb24sXG4gICAgICAgICAgICAgICAgcXVlcnk6IHFiLmdldFNRTCgpLmlubGluZVBhcmFtcygpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSksIHNlbGVjdGlvblByb3h5KTtcbiAgICB9XG59XG5jbGFzcyBNYW51YWxWaWV3QnVpbGRlciBleHRlbmRzIERlZmF1bHRWaWV3QnVpbGRlckNvcmUge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdNYW51YWxWaWV3QnVpbGRlcic7XG4gICAgY29sdW1ucztcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBjb2x1bW5zLCBzY2hlbWEpIHtcbiAgICAgICAgc3VwZXIobmFtZSwgc2NoZW1hKTtcbiAgICAgICAgdGhpcy5jb2x1bW5zID0gZ2V0VGFibGVDb2x1bW5zKHBnVGFibGUobmFtZSwgY29sdW1ucykpO1xuICAgIH1cbiAgICBleGlzdGluZygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eShuZXcgUGdWaWV3KHtcbiAgICAgICAgICAgIHBnQ29uZmlnOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAgICAgc2NoZW1hOiB0aGlzLnNjaGVtYSxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEZpZWxkczogdGhpcy5jb2x1bW5zLFxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSwgbmV3IFNlbGVjdGlvblByb3h5SGFuZGxlcih7XG4gICAgICAgICAgICBhbGlhczogdGhpcy5uYW1lLFxuICAgICAgICAgICAgc3FsQmVoYXZpb3I6ICdlcnJvcicsXG4gICAgICAgICAgICBzcWxBbGlhc2VkQmVoYXZpb3I6ICdhbGlhcycsXG4gICAgICAgICAgICByZXBsYWNlT3JpZ2luYWxOYW1lOiB0cnVlLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGFzKHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkobmV3IFBnVmlldyh7XG4gICAgICAgICAgICBwZ0NvbmZpZzogdGhpcy5jb25maWcsXG4gICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAgICAgc2NoZW1hOiB0aGlzLnNjaGVtYSxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEZpZWxkczogdGhpcy5jb2x1bW5zLFxuICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeS5pbmxpbmVQYXJhbXMoKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pLCBuZXcgU2VsZWN0aW9uUHJveHlIYW5kbGVyKHtcbiAgICAgICAgICAgIGFsaWFzOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICBzcWxCZWhhdmlvcjogJ2Vycm9yJyxcbiAgICAgICAgICAgIHNxbEFsaWFzZWRCZWhhdmlvcjogJ2FsaWFzJyxcbiAgICAgICAgICAgIHJlcGxhY2VPcmlnaW5hbE5hbWU6IHRydWUsXG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5jbGFzcyBNYXRlcmlhbGl6ZWRWaWV3QnVpbGRlckNvcmUge1xuICAgIG5hbWU7XG4gICAgc2NoZW1hO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdNYXRlcmlhbGl6ZWRWaWV3QnVpbGRlckNvcmUnO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHNjaGVtYSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICB9XG4gICAgY29uZmlnID0ge307XG4gICAgdXNpbmcodXNpbmcpIHtcbiAgICAgICAgdGhpcy5jb25maWcudXNpbmcgPSB1c2luZztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHdpdGgoY29uZmlnKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLndpdGggPSBjb25maWc7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB0YWJsZXNwYWNlKHRhYmxlc3BhY2UpIHtcbiAgICAgICAgdGhpcy5jb25maWcudGFibGVzcGFjZSA9IHRhYmxlc3BhY2U7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB3aXRoTm9EYXRhKCkge1xuICAgICAgICB0aGlzLmNvbmZpZy53aXRoTm9EYXRhID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuY2xhc3MgTWF0ZXJpYWxpemVkVmlld0J1aWxkZXIgZXh0ZW5kcyBNYXRlcmlhbGl6ZWRWaWV3QnVpbGRlckNvcmUge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdNYXRlcmlhbGl6ZWRWaWV3QnVpbGRlcic7XG4gICAgYXMocWIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBxYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgcWIgPSBxYihuZXcgUXVlcnlCdWlsZGVyKCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvblByb3h5ID0gbmV3IFNlbGVjdGlvblByb3h5SGFuZGxlcih7XG4gICAgICAgICAgICBhbGlhczogdGhpcy5uYW1lLFxuICAgICAgICAgICAgc3FsQmVoYXZpb3I6ICdlcnJvcicsXG4gICAgICAgICAgICBzcWxBbGlhc2VkQmVoYXZpb3I6ICdhbGlhcycsXG4gICAgICAgICAgICByZXBsYWNlT3JpZ2luYWxOYW1lOiB0cnVlLFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgYWxpYXNlZFNlbGVjdGlvbiA9IG5ldyBQcm94eShxYi5nZXRTZWxlY3RlZEZpZWxkcygpLCBzZWxlY3Rpb25Qcm94eSk7XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkobmV3IFBnTWF0ZXJpYWxpemVkVmlldyh7XG4gICAgICAgICAgICBwZ0NvbmZpZzoge1xuICAgICAgICAgICAgICAgIHdpdGg6IHRoaXMuY29uZmlnLndpdGgsXG4gICAgICAgICAgICAgICAgdXNpbmc6IHRoaXMuY29uZmlnLnVzaW5nLFxuICAgICAgICAgICAgICAgIHRhYmxlc3BhY2U6IHRoaXMuY29uZmlnLnRhYmxlc3BhY2UsXG4gICAgICAgICAgICAgICAgd2l0aE5vRGF0YTogdGhpcy5jb25maWcud2l0aE5vRGF0YSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAgICAgc2NoZW1hOiB0aGlzLnNjaGVtYSxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEZpZWxkczogYWxpYXNlZFNlbGVjdGlvbixcbiAgICAgICAgICAgICAgICBxdWVyeTogcWIuZ2V0U1FMKCkuaW5saW5lUGFyYW1zKCksXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSwgc2VsZWN0aW9uUHJveHkpO1xuICAgIH1cbn1cbmNsYXNzIE1hbnVhbE1hdGVyaWFsaXplZFZpZXdCdWlsZGVyIGV4dGVuZHMgTWF0ZXJpYWxpemVkVmlld0J1aWxkZXJDb3JlIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnTWFudWFsTWF0ZXJpYWxpemVkVmlld0J1aWxkZXInO1xuICAgIGNvbHVtbnM7XG4gICAgY29uc3RydWN0b3IobmFtZSwgY29sdW1ucywgc2NoZW1hKSB7XG4gICAgICAgIHN1cGVyKG5hbWUsIHNjaGVtYSk7XG4gICAgICAgIHRoaXMuY29sdW1ucyA9IGdldFRhYmxlQ29sdW1ucyhwZ1RhYmxlKG5hbWUsIGNvbHVtbnMpKTtcbiAgICB9XG4gICAgZXhpc3RpbmcoKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkobmV3IFBnTWF0ZXJpYWxpemVkVmlldyh7XG4gICAgICAgICAgICBwZ0NvbmZpZzogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5uYW1lLFxuICAgICAgICAgICAgICAgIHNjaGVtYTogdGhpcy5zY2hlbWEsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRGaWVsZHM6IHRoaXMuY29sdW1ucyxcbiAgICAgICAgICAgICAgICBxdWVyeTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSksIG5ldyBTZWxlY3Rpb25Qcm94eUhhbmRsZXIoe1xuICAgICAgICAgICAgYWxpYXM6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIHNxbEJlaGF2aW9yOiAnZXJyb3InLFxuICAgICAgICAgICAgc3FsQWxpYXNlZEJlaGF2aW9yOiAnYWxpYXMnLFxuICAgICAgICAgICAgcmVwbGFjZU9yaWdpbmFsTmFtZTogdHJ1ZSxcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBhcyhxdWVyeSkge1xuICAgICAgICByZXR1cm4gbmV3IFByb3h5KG5ldyBQZ01hdGVyaWFsaXplZFZpZXcoe1xuICAgICAgICAgICAgcGdDb25maWc6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICBzY2hlbWE6IHRoaXMuc2NoZW1hLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkRmllbGRzOiB0aGlzLmNvbHVtbnMsXG4gICAgICAgICAgICAgICAgcXVlcnk6IHF1ZXJ5LmlubGluZVBhcmFtcygpLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSksIG5ldyBTZWxlY3Rpb25Qcm94eUhhbmRsZXIoe1xuICAgICAgICAgICAgYWxpYXM6IHRoaXMubmFtZSxcbiAgICAgICAgICAgIHNxbEJlaGF2aW9yOiAnZXJyb3InLFxuICAgICAgICAgICAgc3FsQWxpYXNlZEJlaGF2aW9yOiAnYWxpYXMnLFxuICAgICAgICAgICAgcmVwbGFjZU9yaWdpbmFsTmFtZTogdHJ1ZSxcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cbmNsYXNzIFBnVmlld0Jhc2UgZXh0ZW5kcyBWaWV3IHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnVmlld0Jhc2UnO1xufVxuY29uc3QgUGdWaWV3Q29uZmlnID0gU3ltYm9sLmZvcignZHJpenpsZTpQZ1ZpZXdDb25maWcnKTtcbmNsYXNzIFBnVmlldyBleHRlbmRzIFBnVmlld0Jhc2Uge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGdWaWV3JztcbiAgICBbUGdWaWV3Q29uZmlnXTtcbiAgICBjb25zdHJ1Y3Rvcih7IHBnQ29uZmlnLCBjb25maWcgfSkge1xuICAgICAgICBzdXBlcihjb25maWcpO1xuICAgICAgICBpZiAocGdDb25maWcpIHtcbiAgICAgICAgICAgIHRoaXNbUGdWaWV3Q29uZmlnXSA9IHtcbiAgICAgICAgICAgICAgICB3aXRoOiBwZ0NvbmZpZy53aXRoLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmNvbnN0IFBnTWF0ZXJpYWxpemVkVmlld0NvbmZpZyA9IFN5bWJvbC5mb3IoJ2RyaXp6bGU6UGdNYXRlcmlhbGl6ZWRWaWV3Q29uZmlnJyk7XG5jbGFzcyBQZ01hdGVyaWFsaXplZFZpZXcgZXh0ZW5kcyBQZ1ZpZXdCYXNlIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BnTWF0ZXJpYWxpemVkVmlldyc7XG4gICAgW1BnTWF0ZXJpYWxpemVkVmlld0NvbmZpZ107XG4gICAgY29uc3RydWN0b3IoeyBwZ0NvbmZpZywgY29uZmlnIH0pIHtcbiAgICAgICAgc3VwZXIoY29uZmlnKTtcbiAgICAgICAgdGhpc1tQZ01hdGVyaWFsaXplZFZpZXdDb25maWddID0ge1xuICAgICAgICAgICAgd2l0aDogcGdDb25maWc/LndpdGgsXG4gICAgICAgICAgICB1c2luZzogcGdDb25maWc/LnVzaW5nLFxuICAgICAgICAgICAgdGFibGVzcGFjZTogcGdDb25maWc/LnRhYmxlc3BhY2UsXG4gICAgICAgICAgICB3aXRoTm9EYXRhOiBwZ0NvbmZpZz8ud2l0aE5vRGF0YSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vKiogQGludGVybmFsICovXG5mdW5jdGlvbiBwZ1ZpZXdXaXRoU2NoZW1hKG5hbWUsIHNlbGVjdGlvbiwgc2NoZW1hKSB7XG4gICAgaWYgKHNlbGVjdGlvbikge1xuICAgICAgICByZXR1cm4gbmV3IE1hbnVhbFZpZXdCdWlsZGVyKG5hbWUsIHNlbGVjdGlvbiwgc2NoZW1hKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBWaWV3QnVpbGRlcihuYW1lLCBzY2hlbWEpO1xufVxuLyoqIEBpbnRlcm5hbCAqL1xuZnVuY3Rpb24gcGdNYXRlcmlhbGl6ZWRWaWV3V2l0aFNjaGVtYShuYW1lLCBzZWxlY3Rpb24sIHNjaGVtYSkge1xuICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYW51YWxNYXRlcmlhbGl6ZWRWaWV3QnVpbGRlcihuYW1lLCBzZWxlY3Rpb24sIHNjaGVtYSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgTWF0ZXJpYWxpemVkVmlld0J1aWxkZXIobmFtZSwgc2NoZW1hKTtcbn1cbmZ1bmN0aW9uIHBnVmlldyhuYW1lLCBjb2x1bW5zKSB7XG4gICAgcmV0dXJuIHBnVmlld1dpdGhTY2hlbWEobmFtZSwgY29sdW1ucywgdW5kZWZpbmVkKTtcbn1cbmZ1bmN0aW9uIHBnTWF0ZXJpYWxpemVkVmlldyhuYW1lLCBjb2x1bW5zKSB7XG4gICAgcmV0dXJuIHBnTWF0ZXJpYWxpemVkVmlld1dpdGhTY2hlbWEobmFtZSwgY29sdW1ucywgdW5kZWZpbmVkKTtcbn1cblxuY2xhc3MgUmVsYXRpb24ge1xuICAgIHNvdXJjZVRhYmxlO1xuICAgIHJlZmVyZW5jZWRUYWJsZTtcbiAgICByZWxhdGlvbk5hbWU7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdSZWxhdGlvbic7XG4gICAgcmVmZXJlbmNlZFRhYmxlTmFtZTtcbiAgICBmaWVsZE5hbWU7XG4gICAgY29uc3RydWN0b3Ioc291cmNlVGFibGUsIHJlZmVyZW5jZWRUYWJsZSwgcmVsYXRpb25OYW1lKSB7XG4gICAgICAgIHRoaXMuc291cmNlVGFibGUgPSBzb3VyY2VUYWJsZTtcbiAgICAgICAgdGhpcy5yZWZlcmVuY2VkVGFibGUgPSByZWZlcmVuY2VkVGFibGU7XG4gICAgICAgIHRoaXMucmVsYXRpb25OYW1lID0gcmVsYXRpb25OYW1lO1xuICAgICAgICB0aGlzLnJlZmVyZW5jZWRUYWJsZU5hbWUgPSByZWZlcmVuY2VkVGFibGVbVGFibGUuU3ltYm9sLk5hbWVdO1xuICAgIH1cbn1cbmNsYXNzIFJlbGF0aW9ucyB7XG4gICAgdGFibGU7XG4gICAgY29uZmlnO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUmVsYXRpb25zJztcbiAgICBjb25zdHJ1Y3Rvcih0YWJsZSwgY29uZmlnKSB7XG4gICAgICAgIHRoaXMudGFibGUgPSB0YWJsZTtcbiAgICAgICAgdGhpcy5jb25maWcgPSBjb25maWc7XG4gICAgfVxufVxuY2xhc3MgT25lIGV4dGVuZHMgUmVsYXRpb24ge1xuICAgIGNvbmZpZztcbiAgICBpc051bGxhYmxlO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnT25lJztcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2VUYWJsZSwgcmVmZXJlbmNlZFRhYmxlLCBjb25maWcsIGlzTnVsbGFibGUpIHtcbiAgICAgICAgc3VwZXIoc291cmNlVGFibGUsIHJlZmVyZW5jZWRUYWJsZSwgY29uZmlnPy5yZWxhdGlvbk5hbWUpO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5pc051bGxhYmxlID0gaXNOdWxsYWJsZTtcbiAgICB9XG4gICAgd2l0aEZpZWxkTmFtZShmaWVsZE5hbWUpIHtcbiAgICAgICAgY29uc3QgcmVsYXRpb24gPSBuZXcgT25lKHRoaXMuc291cmNlVGFibGUsIHRoaXMucmVmZXJlbmNlZFRhYmxlLCB0aGlzLmNvbmZpZywgdGhpcy5pc051bGxhYmxlKTtcbiAgICAgICAgcmVsYXRpb24uZmllbGROYW1lID0gZmllbGROYW1lO1xuICAgICAgICByZXR1cm4gcmVsYXRpb247XG4gICAgfVxufVxuY2xhc3MgTWFueSBleHRlbmRzIFJlbGF0aW9uIHtcbiAgICBjb25maWc7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNYW55JztcbiAgICBjb25zdHJ1Y3Rvcihzb3VyY2VUYWJsZSwgcmVmZXJlbmNlZFRhYmxlLCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIoc291cmNlVGFibGUsIHJlZmVyZW5jZWRUYWJsZSwgY29uZmlnPy5yZWxhdGlvbk5hbWUpO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICB9XG4gICAgd2l0aEZpZWxkTmFtZShmaWVsZE5hbWUpIHtcbiAgICAgICAgY29uc3QgcmVsYXRpb24gPSBuZXcgTWFueSh0aGlzLnNvdXJjZVRhYmxlLCB0aGlzLnJlZmVyZW5jZWRUYWJsZSwgdGhpcy5jb25maWcpO1xuICAgICAgICByZWxhdGlvbi5maWVsZE5hbWUgPSBmaWVsZE5hbWU7XG4gICAgICAgIHJldHVybiByZWxhdGlvbjtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRPcGVyYXRvcnMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYW5kLFxuICAgICAgICBiZXR3ZWVuLFxuICAgICAgICBlcSxcbiAgICAgICAgZXhpc3RzLFxuICAgICAgICBndCxcbiAgICAgICAgZ3RlLFxuICAgICAgICBpbGlrZSxcbiAgICAgICAgaW5BcnJheSxcbiAgICAgICAgaXNOdWxsLFxuICAgICAgICBpc05vdE51bGwsXG4gICAgICAgIGxpa2UsXG4gICAgICAgIGx0LFxuICAgICAgICBsdGUsXG4gICAgICAgIG5lLFxuICAgICAgICBub3QsXG4gICAgICAgIG5vdEJldHdlZW4sXG4gICAgICAgIG5vdEV4aXN0cyxcbiAgICAgICAgbm90TGlrZSxcbiAgICAgICAgbm90SWxpa2UsXG4gICAgICAgIG5vdEluQXJyYXksXG4gICAgICAgIG9yLFxuICAgICAgICBzcWwsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGdldE9yZGVyQnlPcGVyYXRvcnMoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc3FsLFxuICAgICAgICBhc2MsXG4gICAgICAgIGRlc2MsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGV4dHJhY3RUYWJsZXNSZWxhdGlvbmFsQ29uZmlnKHNjaGVtYSwgY29uZmlnSGVscGVycykge1xuICAgIGlmIChPYmplY3Qua2V5cyhzY2hlbWEpLmxlbmd0aCA9PT0gMVxuICAgICAgICAmJiAnZGVmYXVsdCcgaW4gc2NoZW1hXG4gICAgICAgICYmICFpcyhzY2hlbWFbJ2RlZmF1bHQnXSwgVGFibGUpKSB7XG4gICAgICAgIHNjaGVtYSA9IHNjaGVtYVsnZGVmYXVsdCddO1xuICAgIH1cbiAgICAvLyB0YWJsZSBEQiBuYW1lIC0+IHNjaGVtYSB0YWJsZSBrZXlcbiAgICBjb25zdCB0YWJsZU5hbWVzTWFwID0ge307XG4gICAgLy8gVGFibGUgcmVsYXRpb25zIGZvdW5kIGJlZm9yZSB0aGVpciB0YWJsZXMgLSBuZWVkIHRvIGJ1ZmZlciB0aGVtIHVudGlsIHdlIGtub3cgdGhlIHNjaGVtYSB0YWJsZSBrZXlcbiAgICBjb25zdCByZWxhdGlvbnNCdWZmZXIgPSB7fTtcbiAgICBjb25zdCB0YWJsZXNDb25maWcgPSB7fTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhzY2hlbWEpKSB7XG4gICAgICAgIGlmIChpc1RhYmxlKHZhbHVlKSkge1xuICAgICAgICAgICAgY29uc3QgZGJOYW1lID0gdmFsdWVbVGFibGUuU3ltYm9sLk5hbWVdO1xuICAgICAgICAgICAgY29uc3QgYnVmZmVyZWRSZWxhdGlvbnMgPSByZWxhdGlvbnNCdWZmZXJbZGJOYW1lXTtcbiAgICAgICAgICAgIHRhYmxlTmFtZXNNYXBbZGJOYW1lXSA9IGtleTtcbiAgICAgICAgICAgIHRhYmxlc0NvbmZpZ1trZXldID0ge1xuICAgICAgICAgICAgICAgIHRzTmFtZToga2V5LFxuICAgICAgICAgICAgICAgIGRiTmFtZTogdmFsdWVbVGFibGUuU3ltYm9sLk5hbWVdLFxuICAgICAgICAgICAgICAgIGNvbHVtbnM6IHZhbHVlW1RhYmxlLlN5bWJvbC5Db2x1bW5zXSxcbiAgICAgICAgICAgICAgICByZWxhdGlvbnM6IGJ1ZmZlcmVkUmVsYXRpb25zPy5yZWxhdGlvbnMgPz8ge30sXG4gICAgICAgICAgICAgICAgcHJpbWFyeUtleTogYnVmZmVyZWRSZWxhdGlvbnM/LnByaW1hcnlLZXkgPz8gW10sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gRmlsbCBpbiBwcmltYXJ5IGtleXNcbiAgICAgICAgICAgIGZvciAoY29uc3QgY29sdW1uIG9mIE9iamVjdC52YWx1ZXModmFsdWVbVGFibGUuU3ltYm9sLkNvbHVtbnNdKSkge1xuICAgICAgICAgICAgICAgIGlmIChjb2x1bW4ucHJpbWFyeSkge1xuICAgICAgICAgICAgICAgICAgICB0YWJsZXNDb25maWdba2V5XS5wcmltYXJ5S2V5LnB1c2goY29sdW1uKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBleHRyYUNvbmZpZyA9IHZhbHVlW1RhYmxlLlN5bWJvbC5FeHRyYUNvbmZpZ0J1aWxkZXJdPy4odmFsdWUpO1xuICAgICAgICAgICAgaWYgKGV4dHJhQ29uZmlnKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjb25maWdFbnRyeSBvZiBPYmplY3QudmFsdWVzKGV4dHJhQ29uZmlnKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXMoY29uZmlnRW50cnksIFByaW1hcnlLZXlCdWlsZGVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVzQ29uZmlnW2tleV0ucHJpbWFyeUtleS5wdXNoKC4uLmNvbmZpZ0VudHJ5LmNvbHVtbnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzKHZhbHVlLCBSZWxhdGlvbnMpKSB7XG4gICAgICAgICAgICBjb25zdCBkYk5hbWUgPSB2YWx1ZS50YWJsZVtUYWJsZS5TeW1ib2wuTmFtZV07XG4gICAgICAgICAgICBjb25zdCB0YWJsZU5hbWUgPSB0YWJsZU5hbWVzTWFwW2RiTmFtZV07XG4gICAgICAgICAgICBjb25zdCByZWxhdGlvbnMgPSB2YWx1ZS5jb25maWcoY29uZmlnSGVscGVycyh2YWx1ZS50YWJsZSkpO1xuICAgICAgICAgICAgbGV0IHByaW1hcnlLZXk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IFtyZWxhdGlvbk5hbWUsIHJlbGF0aW9uXSBvZiBPYmplY3QuZW50cmllcyhyZWxhdGlvbnMpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRhYmxlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0YWJsZUNvbmZpZyA9IHRhYmxlc0NvbmZpZ1t0YWJsZU5hbWVdO1xuICAgICAgICAgICAgICAgICAgICB0YWJsZUNvbmZpZy5yZWxhdGlvbnNbcmVsYXRpb25OYW1lXSA9IHJlbGF0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoZGJOYW1lIGluIHJlbGF0aW9uc0J1ZmZlcikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uc0J1ZmZlcltkYk5hbWVdID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uczoge30sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJpbWFyeUtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25zQnVmZmVyW2RiTmFtZV0ucmVsYXRpb25zW3JlbGF0aW9uTmFtZV0gPSByZWxhdGlvbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgdGFibGVzOiB0YWJsZXNDb25maWcsIHRhYmxlTmFtZXNNYXAgfTtcbn1cbmZ1bmN0aW9uIHJlbGF0aW9ucyh0YWJsZSwgcmVsYXRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBSZWxhdGlvbnModGFibGUsIChoZWxwZXJzKSA9PiBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMocmVsYXRpb25zKGhlbHBlcnMpKS5tYXAoKFtrZXksIHZhbHVlXSkgPT4gW1xuICAgICAgICBrZXksXG4gICAgICAgIHZhbHVlLndpdGhGaWVsZE5hbWUoa2V5KSxcbiAgICBdKSkpO1xufVxuZnVuY3Rpb24gY3JlYXRlT25lKHNvdXJjZVRhYmxlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG9uZSh0YWJsZSwgY29uZmlnKSB7XG4gICAgICAgIHJldHVybiBuZXcgT25lKHNvdXJjZVRhYmxlLCB0YWJsZSwgY29uZmlnLCAoY29uZmlnPy5maWVsZHMucmVkdWNlKChyZXMsIGYpID0+IHJlcyAmJiBmLm5vdE51bGwsIHRydWUpXG4gICAgICAgICAgICA/PyBmYWxzZSkpO1xuICAgIH07XG59XG5mdW5jdGlvbiBjcmVhdGVNYW55KHNvdXJjZVRhYmxlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1hbnkocmVmZXJlbmNlZFRhYmxlLCBjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYW55KHNvdXJjZVRhYmxlLCByZWZlcmVuY2VkVGFibGUsIGNvbmZpZyk7XG4gICAgfTtcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZVJlbGF0aW9uKHNjaGVtYSwgdGFibGVOYW1lc01hcCwgcmVsYXRpb24pIHtcbiAgICBpZiAoaXMocmVsYXRpb24sIE9uZSkgJiYgcmVsYXRpb24uY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaWVsZHM6IHJlbGF0aW9uLmNvbmZpZy5maWVsZHMsXG4gICAgICAgICAgICByZWZlcmVuY2VzOiByZWxhdGlvbi5jb25maWcucmVmZXJlbmNlcyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgcmVmZXJlbmNlZFRhYmxlVHNOYW1lID0gdGFibGVOYW1lc01hcFtyZWxhdGlvbi5yZWZlcmVuY2VkVGFibGVbVGFibGUuU3ltYm9sLk5hbWVdXTtcbiAgICBpZiAoIXJlZmVyZW5jZWRUYWJsZVRzTmFtZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFRhYmxlIFwiJHtyZWxhdGlvbi5yZWZlcmVuY2VkVGFibGVbVGFibGUuU3ltYm9sLk5hbWVdfVwiIG5vdCBmb3VuZCBpbiBzY2hlbWFgKTtcbiAgICB9XG4gICAgY29uc3QgcmVmZXJlbmNlZFRhYmxlQ29uZmlnID0gc2NoZW1hW3JlZmVyZW5jZWRUYWJsZVRzTmFtZV07XG4gICAgaWYgKCFyZWZlcmVuY2VkVGFibGVDb25maWcpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUYWJsZSBcIiR7cmVmZXJlbmNlZFRhYmxlVHNOYW1lfVwiIG5vdCBmb3VuZCBpbiBzY2hlbWFgKTtcbiAgICB9XG4gICAgY29uc3Qgc291cmNlVGFibGUgPSByZWxhdGlvbi5zb3VyY2VUYWJsZTtcbiAgICBjb25zdCBzb3VyY2VUYWJsZVRzTmFtZSA9IHRhYmxlTmFtZXNNYXBbc291cmNlVGFibGVbVGFibGUuU3ltYm9sLk5hbWVdXTtcbiAgICBpZiAoIXNvdXJjZVRhYmxlVHNOYW1lKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVGFibGUgXCIke3NvdXJjZVRhYmxlW1RhYmxlLlN5bWJvbC5OYW1lXX1cIiBub3QgZm91bmQgaW4gc2NoZW1hYCk7XG4gICAgfVxuICAgIGNvbnN0IHJldmVyc2VSZWxhdGlvbnMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHJlZmVyZW5jZWRUYWJsZVJlbGF0aW9uIG9mIE9iamVjdC52YWx1ZXMocmVmZXJlbmNlZFRhYmxlQ29uZmlnLnJlbGF0aW9ucykpIHtcbiAgICAgICAgaWYgKChyZWxhdGlvbi5yZWxhdGlvbk5hbWVcbiAgICAgICAgICAgICYmIHJlbGF0aW9uICE9PSByZWZlcmVuY2VkVGFibGVSZWxhdGlvblxuICAgICAgICAgICAgJiYgcmVmZXJlbmNlZFRhYmxlUmVsYXRpb24ucmVsYXRpb25OYW1lID09PSByZWxhdGlvbi5yZWxhdGlvbk5hbWUpXG4gICAgICAgICAgICB8fCAoIXJlbGF0aW9uLnJlbGF0aW9uTmFtZVxuICAgICAgICAgICAgICAgICYmIHJlZmVyZW5jZWRUYWJsZVJlbGF0aW9uLnJlZmVyZW5jZWRUYWJsZSA9PT0gcmVsYXRpb24uc291cmNlVGFibGUpKSB7XG4gICAgICAgICAgICByZXZlcnNlUmVsYXRpb25zLnB1c2gocmVmZXJlbmNlZFRhYmxlUmVsYXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChyZXZlcnNlUmVsYXRpb25zLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGhyb3cgcmVsYXRpb24ucmVsYXRpb25OYW1lXG4gICAgICAgICAgICA/IG5ldyBFcnJvcihgVGhlcmUgYXJlIG11bHRpcGxlIHJlbGF0aW9ucyB3aXRoIG5hbWUgXCIke3JlbGF0aW9uLnJlbGF0aW9uTmFtZX1cIiBpbiB0YWJsZSBcIiR7cmVmZXJlbmNlZFRhYmxlVHNOYW1lfVwiYClcbiAgICAgICAgICAgIDogbmV3IEVycm9yKGBUaGVyZSBhcmUgbXVsdGlwbGUgcmVsYXRpb25zIGJldHdlZW4gXCIke3JlZmVyZW5jZWRUYWJsZVRzTmFtZX1cIiBhbmQgXCIke3JlbGF0aW9uLnNvdXJjZVRhYmxlW1RhYmxlLlN5bWJvbC5OYW1lXX1cIi4gUGxlYXNlIHNwZWNpZnkgcmVsYXRpb24gbmFtZWApO1xuICAgIH1cbiAgICBpZiAocmV2ZXJzZVJlbGF0aW9uc1swXVxuICAgICAgICAmJiBpcyhyZXZlcnNlUmVsYXRpb25zWzBdLCBPbmUpXG4gICAgICAgICYmIHJldmVyc2VSZWxhdGlvbnNbMF0uY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaWVsZHM6IHJldmVyc2VSZWxhdGlvbnNbMF0uY29uZmlnLnJlZmVyZW5jZXMsXG4gICAgICAgICAgICByZWZlcmVuY2VzOiByZXZlcnNlUmVsYXRpb25zWzBdLmNvbmZpZy5maWVsZHMsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcihgVGhlcmUgaXMgbm90IGVub3VnaCBpbmZvcm1hdGlvbiB0byBpbmZlciByZWxhdGlvbiBcIiR7c291cmNlVGFibGVUc05hbWV9LiR7cmVsYXRpb24uZmllbGROYW1lfVwiYCk7XG59XG5mdW5jdGlvbiBjcmVhdGVUYWJsZVJlbGF0aW9uc0hlbHBlcnMoc291cmNlVGFibGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICBvbmU6IGNyZWF0ZU9uZShzb3VyY2VUYWJsZSksXG4gICAgICAgIG1hbnk6IGNyZWF0ZU1hbnkoc291cmNlVGFibGUpLFxuICAgIH07XG59XG5mdW5jdGlvbiBtYXBSZWxhdGlvbmFsUm93KHRhYmxlc0NvbmZpZywgdGFibGVDb25maWcsIHJvdywgYnVpbGRRdWVyeVJlc3VsdFNlbGVjdGlvbiwgbWFwQ29sdW1uVmFsdWUgPSAodmFsdWUpID0+IHZhbHVlKSB7XG4gICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgZm9yIChjb25zdCBbc2VsZWN0aW9uSXRlbUluZGV4LCBzZWxlY3Rpb25JdGVtLF0gb2YgYnVpbGRRdWVyeVJlc3VsdFNlbGVjdGlvbi5lbnRyaWVzKCkpIHtcbiAgICAgICAgaWYgKHNlbGVjdGlvbkl0ZW0uaXNKc29uKSB7XG4gICAgICAgICAgICBjb25zdCByZWxhdGlvbiA9IHRhYmxlQ29uZmlnLnJlbGF0aW9uc1tzZWxlY3Rpb25JdGVtLnRzS2V5XTtcbiAgICAgICAgICAgIGNvbnN0IHJhd1N1YlJvd3MgPSByb3dbc2VsZWN0aW9uSXRlbUluZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IHN1YlJvd3MgPSB0eXBlb2YgcmF3U3ViUm93cyA9PT0gJ3N0cmluZydcbiAgICAgICAgICAgICAgICA/IEpTT04ucGFyc2UocmF3U3ViUm93cylcbiAgICAgICAgICAgICAgICA6IHJhd1N1YlJvd3M7XG4gICAgICAgICAgICByZXN1bHRbc2VsZWN0aW9uSXRlbS50c0tleV0gPSBpcyhyZWxhdGlvbiwgT25lKVxuICAgICAgICAgICAgICAgID8gc3ViUm93c1xuICAgICAgICAgICAgICAgICAgICAmJiBtYXBSZWxhdGlvbmFsUm93KHRhYmxlc0NvbmZpZywgdGFibGVzQ29uZmlnW3NlbGVjdGlvbkl0ZW0ucmVsYXRpb25UYWJsZVRzS2V5XSwgc3ViUm93cywgc2VsZWN0aW9uSXRlbS5zZWxlY3Rpb24sIG1hcENvbHVtblZhbHVlKVxuICAgICAgICAgICAgICAgIDogc3ViUm93cy5tYXAoKHN1YlJvdykgPT4gbWFwUmVsYXRpb25hbFJvdyh0YWJsZXNDb25maWcsIHRhYmxlc0NvbmZpZ1tzZWxlY3Rpb25JdGVtLnJlbGF0aW9uVGFibGVUc0tleV0sIHN1YlJvdywgc2VsZWN0aW9uSXRlbS5zZWxlY3Rpb24sIG1hcENvbHVtblZhbHVlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IG1hcENvbHVtblZhbHVlKHJvd1tzZWxlY3Rpb25JdGVtSW5kZXhdKTtcbiAgICAgICAgICAgIGNvbnN0IGZpZWxkID0gc2VsZWN0aW9uSXRlbS5maWVsZDtcbiAgICAgICAgICAgIGxldCBkZWNvZGVyO1xuICAgICAgICAgICAgaWYgKGlzKGZpZWxkLCBDb2x1bW4pKSB7XG4gICAgICAgICAgICAgICAgZGVjb2RlciA9IGZpZWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXMoZmllbGQsIFNRTCkpIHtcbiAgICAgICAgICAgICAgICBkZWNvZGVyID0gZmllbGQuZGVjb2RlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlY29kZXIgPSBmaWVsZC5zcWwuZGVjb2RlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdFtzZWxlY3Rpb25JdGVtLnRzS2V5XSA9IHZhbHVlID09PSBudWxsID8gbnVsbCA6IGRlY29kZXIubWFwRnJvbURyaXZlclZhbHVlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBiaW5kSWZQYXJhbSh2YWx1ZSwgY29sdW1uKSB7XG4gICAgaWYgKGlzRHJpdmVyVmFsdWVFbmNvZGVyKGNvbHVtbilcbiAgICAgICAgJiYgIWlzU1FMV3JhcHBlcih2YWx1ZSlcbiAgICAgICAgJiYgIWlzKHZhbHVlLCBQYXJhbSlcbiAgICAgICAgJiYgIWlzKHZhbHVlLCBQbGFjZWhvbGRlcilcbiAgICAgICAgJiYgIWlzKHZhbHVlLCBDb2x1bW4pXG4gICAgICAgICYmICFpcyh2YWx1ZSwgVGFibGUpXG4gICAgICAgICYmICFpcyh2YWx1ZSwgVmlldykpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQYXJhbSh2YWx1ZSwgY29sdW1uKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuLyoqXG4gKiBUZXN0IHRoYXQgdHdvIHZhbHVlcyBhcmUgZXF1YWwuXG4gKlxuICogUmVtZW1iZXIgdGhhdCB0aGUgU1FMIHN0YW5kYXJkIGRpY3RhdGVzIHRoYXRcbiAqIHR3byBOVUxMIHZhbHVlcyBhcmUgbm90IGVxdWFsLCBzbyBpZiB5b3Ugd2FudCB0byB0ZXN0XG4gKiB3aGV0aGVyIGEgdmFsdWUgaXMgbnVsbCwgeW91IG1heSB3YW50IHRvIHVzZVxuICogYGlzTnVsbGAgaW5zdGVhZC5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIGBgYHRzXG4gKiAvLyBTZWxlY3QgY2FycyBtYWRlIGJ5IEZvcmRcbiAqIGRiLnNlbGVjdCgpLmZyb20oY2FycylcbiAqICAgLndoZXJlKGVxKGNhcnMubWFrZSwgJ0ZvcmQnKSlcbiAqIGBgYFxuICpcbiAqIEBzZWUgaXNOdWxsIGZvciBhIHdheSB0byB0ZXN0IGVxdWFsaXR5IHRvIE5VTEwuXG4gKi9cbmNvbnN0IGVxID0gKGxlZnQsIHJpZ2h0KSA9PiB7XG4gICAgcmV0dXJuIHNxbCBgJHtsZWZ0fSA9ICR7YmluZElmUGFyYW0ocmlnaHQsIGxlZnQpfWA7XG59O1xuLyoqXG4gKiBUZXN0IHRoYXQgdHdvIHZhbHVlcyBhcmUgbm90IGVxdWFsLlxuICpcbiAqIFJlbWVtYmVyIHRoYXQgdGhlIFNRTCBzdGFuZGFyZCBkaWN0YXRlcyB0aGF0XG4gKiB0d28gTlVMTCB2YWx1ZXMgYXJlIG5vdCBlcXVhbCwgc28gaWYgeW91IHdhbnQgdG8gdGVzdFxuICogd2hldGhlciBhIHZhbHVlIGlzIG5vdCBudWxsLCB5b3UgbWF5IHdhbnQgdG8gdXNlXG4gKiBgaXNOb3ROdWxsYCBpbnN0ZWFkLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogYGBgdHNcbiAqIC8vIFNlbGVjdCBjYXJzIG5vdCBtYWRlIGJ5IEZvcmRcbiAqIGRiLnNlbGVjdCgpLmZyb20oY2FycylcbiAqICAgLndoZXJlKG5lKGNhcnMubWFrZSwgJ0ZvcmQnKSlcbiAqIGBgYFxuICpcbiAqIEBzZWUgaXNOb3ROdWxsIGZvciBhIHdheSB0byB0ZXN0IHdoZXRoZXIgYSB2YWx1ZSBpcyBub3QgbnVsbC5cbiAqL1xuY29uc3QgbmUgPSAobGVmdCwgcmlnaHQpID0+IHtcbiAgICByZXR1cm4gc3FsIGAke2xlZnR9IDw+ICR7YmluZElmUGFyYW0ocmlnaHQsIGxlZnQpfWA7XG59O1xuZnVuY3Rpb24gYW5kKC4uLnVuZmlsdGVyZWRDb25kaXRpb25zKSB7XG4gICAgY29uc3QgY29uZGl0aW9ucyA9IHVuZmlsdGVyZWRDb25kaXRpb25zLmZpbHRlcigoYykgPT4gYyAhPT0gdW5kZWZpbmVkKTtcbiAgICBpZiAoY29uZGl0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKGNvbmRpdGlvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBuZXcgU1FMKGNvbmRpdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFNRTChbXG4gICAgICAgIG5ldyBTdHJpbmdDaHVuaygnKCcpLFxuICAgICAgICBzcWwuam9pbihjb25kaXRpb25zLCBuZXcgU3RyaW5nQ2h1bmsoJyBhbmQgJykpLFxuICAgICAgICBuZXcgU3RyaW5nQ2h1bmsoJyknKSxcbiAgICBdKTtcbn1cbmZ1bmN0aW9uIG9yKC4uLnVuZmlsdGVyZWRDb25kaXRpb25zKSB7XG4gICAgY29uc3QgY29uZGl0aW9ucyA9IHVuZmlsdGVyZWRDb25kaXRpb25zLmZpbHRlcigoYykgPT4gYyAhPT0gdW5kZWZpbmVkKTtcbiAgICBpZiAoY29uZGl0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKGNvbmRpdGlvbnMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBuZXcgU1FMKGNvbmRpdGlvbnMpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFNRTChbXG4gICAgICAgIG5ldyBTdHJpbmdDaHVuaygnKCcpLFxuICAgICAgICBzcWwuam9pbihjb25kaXRpb25zLCBuZXcgU3RyaW5nQ2h1bmsoJyBvciAnKSksXG4gICAgICAgIG5ldyBTdHJpbmdDaHVuaygnKScpLFxuICAgIF0pO1xufVxuLyoqXG4gKiBOZWdhdGUgdGhlIG1lYW5pbmcgb2YgYW4gZXhwcmVzc2lvbiB1c2luZyB0aGUgYG5vdGAga2V5d29yZC5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIGBgYHRzXG4gKiAvLyBTZWxlY3QgY2FycyBfbm90XyBtYWRlIGJ5IEdNIG9yIEZvcmQuXG4gKiBkYi5zZWxlY3QoKS5mcm9tKGNhcnMpXG4gKiAgIC53aGVyZShub3QoaW5BcnJheShjYXJzLm1ha2UsIFsnR00nLCAnRm9yZCddKSkpXG4gKiBgYGBcbiAqL1xuZnVuY3Rpb24gbm90KGNvbmRpdGlvbikge1xuICAgIHJldHVybiBzcWwgYG5vdCAke2NvbmRpdGlvbn1gO1xufVxuLyoqXG4gKiBUZXN0IHRoYXQgdGhlIGZpcnN0IGV4cHJlc3Npb24gcGFzc2VkIGlzIGdyZWF0ZXIgdGhhblxuICogdGhlIHNlY29uZCBleHByZXNzaW9uLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogYGBgdHNcbiAqIC8vIFNlbGVjdCBjYXJzIG1hZGUgYWZ0ZXIgMjAwMC5cbiAqIGRiLnNlbGVjdCgpLmZyb20oY2FycylcbiAqICAgLndoZXJlKGd0KGNhcnMueWVhciwgMjAwMCkpXG4gKiBgYGBcbiAqXG4gKiBAc2VlIGd0ZSBmb3IgZ3JlYXRlci10aGFuLW9yLWVxdWFsXG4gKi9cbmNvbnN0IGd0ID0gKGxlZnQsIHJpZ2h0KSA9PiB7XG4gICAgcmV0dXJuIHNxbCBgJHtsZWZ0fSA+ICR7YmluZElmUGFyYW0ocmlnaHQsIGxlZnQpfWA7XG59O1xuLyoqXG4gKiBUZXN0IHRoYXQgdGhlIGZpcnN0IGV4cHJlc3Npb24gcGFzc2VkIGlzIGdyZWF0ZXIgdGhhblxuICogb3IgZXF1YWwgdG8gdGhlIHNlY29uZCBleHByZXNzaW9uLiBVc2UgYGd0YCB0b1xuICogdGVzdCB3aGV0aGVyIGFuIGV4cHJlc3Npb24gaXMgc3RyaWN0bHkgZ3JlYXRlclxuICogdGhhbiBhbm90aGVyLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogYGBgdHNcbiAqIC8vIFNlbGVjdCBjYXJzIG1hZGUgb24gb3IgYWZ0ZXIgMjAwMC5cbiAqIGRiLnNlbGVjdCgpLmZyb20oY2FycylcbiAqICAgLndoZXJlKGd0ZShjYXJzLnllYXIsIDIwMDApKVxuICogYGBgXG4gKlxuICogQHNlZSBndCBmb3IgYSBzdHJpY3RseSBncmVhdGVyLXRoYW4gY29uZGl0aW9uXG4gKi9cbmNvbnN0IGd0ZSA9IChsZWZ0LCByaWdodCkgPT4ge1xuICAgIHJldHVybiBzcWwgYCR7bGVmdH0gPj0gJHtiaW5kSWZQYXJhbShyaWdodCwgbGVmdCl9YDtcbn07XG4vKipcbiAqIFRlc3QgdGhhdCB0aGUgZmlyc3QgZXhwcmVzc2lvbiBwYXNzZWQgaXMgbGVzcyB0aGFuXG4gKiB0aGUgc2Vjb25kIGV4cHJlc3Npb24uXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBgYGB0c1xuICogLy8gU2VsZWN0IGNhcnMgbWFkZSBiZWZvcmUgMjAwMC5cbiAqIGRiLnNlbGVjdCgpLmZyb20oY2FycylcbiAqICAgLndoZXJlKGx0KGNhcnMueWVhciwgMjAwMCkpXG4gKiBgYGBcbiAqXG4gKiBAc2VlIGx0ZSBmb3IgZ3JlYXRlci10aGFuLW9yLWVxdWFsXG4gKi9cbmNvbnN0IGx0ID0gKGxlZnQsIHJpZ2h0KSA9PiB7XG4gICAgcmV0dXJuIHNxbCBgJHtsZWZ0fSA8ICR7YmluZElmUGFyYW0ocmlnaHQsIGxlZnQpfWA7XG59O1xuLyoqXG4gKiBUZXN0IHRoYXQgdGhlIGZpcnN0IGV4cHJlc3Npb24gcGFzc2VkIGlzIGxlc3MgdGhhblxuICogb3IgZXF1YWwgdG8gdGhlIHNlY29uZCBleHByZXNzaW9uLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogYGBgdHNcbiAqIC8vIFNlbGVjdCBjYXJzIG1hZGUgYmVmb3JlIDIwMDAuXG4gKiBkYi5zZWxlY3QoKS5mcm9tKGNhcnMpXG4gKiAgIC53aGVyZShsdGUoY2Fycy55ZWFyLCAyMDAwKSlcbiAqIGBgYFxuICpcbiAqIEBzZWUgbHQgZm9yIGEgc3RyaWN0bHkgbGVzcy10aGFuIGNvbmRpdGlvblxuICovXG5jb25zdCBsdGUgPSAobGVmdCwgcmlnaHQpID0+IHtcbiAgICByZXR1cm4gc3FsIGAke2xlZnR9IDw9ICR7YmluZElmUGFyYW0ocmlnaHQsIGxlZnQpfWA7XG59O1xuZnVuY3Rpb24gaW5BcnJheShjb2x1bW4sIHZhbHVlcykge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHZhbHVlcykpIHtcbiAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignaW5BcnJheSByZXF1aXJlcyBhdCBsZWFzdCBvbmUgdmFsdWUnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3FsIGAke2NvbHVtbn0gaW4gJHt2YWx1ZXMubWFwKCh2KSA9PiBiaW5kSWZQYXJhbSh2LCBjb2x1bW4pKX1gO1xuICAgIH1cbiAgICByZXR1cm4gc3FsIGAke2NvbHVtbn0gaW4gJHtiaW5kSWZQYXJhbSh2YWx1ZXMsIGNvbHVtbil9YDtcbn1cbmZ1bmN0aW9uIG5vdEluQXJyYXkoY29sdW1uLCB2YWx1ZXMpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZXMpKSB7XG4gICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vdEluQXJyYXkgcmVxdWlyZXMgYXQgbGVhc3Qgb25lIHZhbHVlJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNxbCBgJHtjb2x1bW59IG5vdCBpbiAke3ZhbHVlcy5tYXAoKHYpID0+IGJpbmRJZlBhcmFtKHYsIGNvbHVtbikpfWA7XG4gICAgfVxuICAgIHJldHVybiBzcWwgYCR7Y29sdW1ufSBub3QgaW4gJHtiaW5kSWZQYXJhbSh2YWx1ZXMsIGNvbHVtbil9YDtcbn1cbi8qKlxuICogVGVzdCB3aGV0aGVyIGFuIGV4cHJlc3Npb24gaXMgTlVMTC4gQnkgdGhlIFNRTCBzdGFuZGFyZCxcbiAqIE5VTEwgaXMgbmVpdGhlciBlcXVhbCBub3Igbm90IGVxdWFsIHRvIGl0c2VsZiwgc29cbiAqIGl0J3MgcmVjb21tZW5kZWQgdG8gdXNlIGBpc051bGxgIGFuZCBgbm90SXNOdWxsYCBmb3JcbiAqIGNvbXBhcmlzb25zIHRvIE5VTEwuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBgYGB0c1xuICogLy8gU2VsZWN0IGNhcnMgdGhhdCBoYXZlIG5vIGRpc2NvbnRpbnVlZEF0IGRhdGUuXG4gKiBkYi5zZWxlY3QoKS5mcm9tKGNhcnMpXG4gKiAgIC53aGVyZShpc051bGwoY2Fycy5kaXNjb250aW51ZWRBdCkpXG4gKiBgYGBcbiAqXG4gKiBAc2VlIGlzTm90TnVsbCBmb3IgdGhlIGludmVyc2Ugb2YgdGhpcyB0ZXN0XG4gKi9cbmZ1bmN0aW9uIGlzTnVsbCh2YWx1ZSkge1xuICAgIHJldHVybiBzcWwgYCR7dmFsdWV9IGlzIG51bGxgO1xufVxuLyoqXG4gKiBUZXN0IHdoZXRoZXIgYW4gZXhwcmVzc2lvbiBpcyBub3QgTlVMTC4gQnkgdGhlIFNRTCBzdGFuZGFyZCxcbiAqIE5VTEwgaXMgbmVpdGhlciBlcXVhbCBub3Igbm90IGVxdWFsIHRvIGl0c2VsZiwgc29cbiAqIGl0J3MgcmVjb21tZW5kZWQgdG8gdXNlIGBpc051bGxgIGFuZCBgbm90SXNOdWxsYCBmb3JcbiAqIGNvbXBhcmlzb25zIHRvIE5VTEwuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBgYGB0c1xuICogLy8gU2VsZWN0IGNhcnMgdGhhdCBoYXZlIGJlZW4gZGlzY29udGludWVkLlxuICogZGIuc2VsZWN0KCkuZnJvbShjYXJzKVxuICogICAud2hlcmUoaXNOb3ROdWxsKGNhcnMuZGlzY29udGludWVkQXQpKVxuICogYGBgXG4gKlxuICogQHNlZSBpc051bGwgZm9yIHRoZSBpbnZlcnNlIG9mIHRoaXMgdGVzdFxuICovXG5mdW5jdGlvbiBpc05vdE51bGwodmFsdWUpIHtcbiAgICByZXR1cm4gc3FsIGAke3ZhbHVlfSBpcyBub3QgbnVsbGA7XG59XG4vKipcbiAqIFRlc3Qgd2hldGhlciBhIHN1YnF1ZXJ5IGV2YWx1YXRlcyB0byBoYXZlIGFueSByb3dzLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogYGBgdHNcbiAqIC8vIFVzZXJzIHdob3NlIGBob21lQ2l0eWAgY29sdW1uIGhhcyBhIG1hdGNoIGluIGEgY2l0aWVzXG4gKiAvLyB0YWJsZS5cbiAqIGRiXG4gKiAgIC5zZWxlY3QoKVxuICogICAuZnJvbSh1c2VycylcbiAqICAgLndoZXJlKFxuICogICAgIGV4aXN0cyhkYi5zZWxlY3QoKVxuICogICAgICAgLmZyb20oY2l0aWVzKVxuICogICAgICAgLndoZXJlKGVxKHVzZXJzLmhvbWVDaXR5LCBjaXRpZXMuaWQpKSksXG4gKiAgICk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIG5vdEV4aXN0cyBmb3IgdGhlIGludmVyc2Ugb2YgdGhpcyB0ZXN0XG4gKi9cbmZ1bmN0aW9uIGV4aXN0cyhzdWJxdWVyeSkge1xuICAgIHJldHVybiBzcWwgYGV4aXN0cyAoJHtzdWJxdWVyeX0pYDtcbn1cbi8qKlxuICogVGVzdCB3aGV0aGVyIGEgc3VicXVlcnkgZG9lc24ndCBpbmNsdWRlIGFueSByZXN1bHRcbiAqIHJvd3MuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBgYGB0c1xuICogLy8gVXNlcnMgd2hvc2UgYGhvbWVDaXR5YCBjb2x1bW4gZG9lc24ndCBtYXRjaFxuICogLy8gYSByb3cgaW4gdGhlIGNpdGllcyB0YWJsZS5cbiAqIGRiXG4gKiAgIC5zZWxlY3QoKVxuICogICAuZnJvbSh1c2VycylcbiAqICAgLndoZXJlKFxuICogICAgIG5vdEV4aXN0cyhkYi5zZWxlY3QoKVxuICogICAgICAgLmZyb20oY2l0aWVzKVxuICogICAgICAgLndoZXJlKGVxKHVzZXJzLmhvbWVDaXR5LCBjaXRpZXMuaWQpKSksXG4gKiAgICk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIGV4aXN0cyBmb3IgdGhlIGludmVyc2Ugb2YgdGhpcyB0ZXN0XG4gKi9cbmZ1bmN0aW9uIG5vdEV4aXN0cyhzdWJxdWVyeSkge1xuICAgIHJldHVybiBzcWwgYG5vdCBleGlzdHMgKCR7c3VicXVlcnl9KWA7XG59XG5mdW5jdGlvbiBiZXR3ZWVuKGNvbHVtbiwgbWluLCBtYXgpIHtcbiAgICByZXR1cm4gc3FsIGAke2NvbHVtbn0gYmV0d2VlbiAke2JpbmRJZlBhcmFtKG1pbiwgY29sdW1uKX0gYW5kICR7YmluZElmUGFyYW0obWF4LCBjb2x1bW4pfWA7XG59XG5mdW5jdGlvbiBub3RCZXR3ZWVuKGNvbHVtbiwgbWluLCBtYXgpIHtcbiAgICByZXR1cm4gc3FsIGAke2NvbHVtbn0gbm90IGJldHdlZW4gJHtiaW5kSWZQYXJhbShtaW4sIGNvbHVtbil9IGFuZCAke2JpbmRJZlBhcmFtKG1heCwgY29sdW1uKX1gO1xufVxuLyoqXG4gKiBDb21wYXJlIGEgY29sdW1uIHRvIGEgcGF0dGVybiwgd2hpY2ggY2FuIGluY2x1ZGUgYCVgIGFuZCBgX2BcbiAqIGNoYXJhY3RlcnMgdG8gbWF0Y2ggbXVsdGlwbGUgdmFyaWF0aW9ucy4gSW5jbHVkaW5nIGAlYFxuICogaW4gdGhlIHBhdHRlcm4gbWF0Y2hlcyB6ZXJvIG9yIG1vcmUgY2hhcmFjdGVycywgYW5kIGluY2x1ZGluZ1xuICogYF9gIHdpbGwgbWF0Y2ggYSBzaW5nbGUgY2hhcmFjdGVyLlxuICpcbiAqICMjIEV4YW1wbGVzXG4gKlxuICogYGBgdHNcbiAqIC8vIFNlbGVjdCBhbGwgY2FycyB3aXRoICdUdXJibycgaW4gdGhlaXIgbmFtZXMuXG4gKiBkYi5zZWxlY3QoKS5mcm9tKGNhcnMpXG4gKiAgIC53aGVyZShsaWtlKGNhcnMubmFtZSwgJyVUdXJibyUnKSlcbiAqIGBgYFxuICpcbiAqIEBzZWUgaWxpa2UgZm9yIGEgY2FzZS1pbnNlbnNpdGl2ZSB2ZXJzaW9uIG9mIHRoaXMgY29uZGl0aW9uXG4gKi9cbmZ1bmN0aW9uIGxpa2UoY29sdW1uLCB2YWx1ZSkge1xuICAgIHJldHVybiBzcWwgYCR7Y29sdW1ufSBsaWtlICR7dmFsdWV9YDtcbn1cbi8qKlxuICogVGhlIGludmVyc2Ugb2YgbGlrZSAtIHRoaXMgdGVzdHMgdGhhdCBhIGdpdmVuIGNvbHVtblxuICogZG9lcyBub3QgbWF0Y2ggYSBwYXR0ZXJuLCB3aGljaCBjYW4gaW5jbHVkZSBgJWAgYW5kIGBfYFxuICogY2hhcmFjdGVycyB0byBtYXRjaCBtdWx0aXBsZSB2YXJpYXRpb25zLiBJbmNsdWRpbmcgYCVgXG4gKiBpbiB0aGUgcGF0dGVybiBtYXRjaGVzIHplcm8gb3IgbW9yZSBjaGFyYWN0ZXJzLCBhbmQgaW5jbHVkaW5nXG4gKiBgX2Agd2lsbCBtYXRjaCBhIHNpbmdsZSBjaGFyYWN0ZXIuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBgYGB0c1xuICogLy8gU2VsZWN0IGFsbCBjYXJzIHRoYXQgZG9uJ3QgaGF2ZSBcIlJPdmVyXCIgaW4gdGhlaXIgbmFtZS5cbiAqIGRiLnNlbGVjdCgpLmZyb20oY2FycylcbiAqICAgLndoZXJlKG5vdExpa2UoY2Fycy5uYW1lLCAnJVJvdmVyJScpKVxuICogYGBgXG4gKlxuICogQHNlZSBsaWtlIGZvciB0aGUgaW52ZXJzZSBjb25kaXRpb25cbiAqIEBzZWUgbm90SWxpa2UgZm9yIGEgY2FzZS1pbnNlbnNpdGl2ZSB2ZXJzaW9uIG9mIHRoaXMgY29uZGl0aW9uXG4gKi9cbmZ1bmN0aW9uIG5vdExpa2UoY29sdW1uLCB2YWx1ZSkge1xuICAgIHJldHVybiBzcWwgYCR7Y29sdW1ufSBub3QgbGlrZSAke3ZhbHVlfWA7XG59XG4vKipcbiAqIENhc2UtaW5zZW5zaXRpdmVseSBjb21wYXJlIGEgY29sdW1uIHRvIGEgcGF0dGVybixcbiAqIHdoaWNoIGNhbiBpbmNsdWRlIGAlYCBhbmQgYF9gXG4gKiBjaGFyYWN0ZXJzIHRvIG1hdGNoIG11bHRpcGxlIHZhcmlhdGlvbnMuIEluY2x1ZGluZyBgJWBcbiAqIGluIHRoZSBwYXR0ZXJuIG1hdGNoZXMgemVybyBvciBtb3JlIGNoYXJhY3RlcnMsIGFuZCBpbmNsdWRpbmdcbiAqIGBfYCB3aWxsIG1hdGNoIGEgc2luZ2xlIGNoYXJhY3Rlci5cbiAqXG4gKiBVbmxpa2UgbGlrZSwgdGhpcyBwZXJmb3JtcyBhIGNhc2UtaW5zZW5zaXRpdmUgY29tcGFyaXNvbi5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIGBgYHRzXG4gKiAvLyBTZWxlY3QgYWxsIGNhcnMgd2l0aCAnVHVyYm8nIGluIHRoZWlyIG5hbWVzLlxuICogZGIuc2VsZWN0KCkuZnJvbShjYXJzKVxuICogICAud2hlcmUoaWxpa2UoY2Fycy5uYW1lLCAnJVR1cmJvJScpKVxuICogYGBgXG4gKlxuICogQHNlZSBsaWtlIGZvciBhIGNhc2Utc2Vuc2l0aXZlIHZlcnNpb24gb2YgdGhpcyBjb25kaXRpb25cbiAqL1xuZnVuY3Rpb24gaWxpa2UoY29sdW1uLCB2YWx1ZSkge1xuICAgIHJldHVybiBzcWwgYCR7Y29sdW1ufSBpbGlrZSAke3ZhbHVlfWA7XG59XG4vKipcbiAqIFRoZSBpbnZlcnNlIG9mIGlsaWtlIC0gdGhpcyBjYXNlLWluc2Vuc2l0aXZlbHkgdGVzdHMgdGhhdCBhIGdpdmVuIGNvbHVtblxuICogZG9lcyBub3QgbWF0Y2ggYSBwYXR0ZXJuLCB3aGljaCBjYW4gaW5jbHVkZSBgJWAgYW5kIGBfYFxuICogY2hhcmFjdGVycyB0byBtYXRjaCBtdWx0aXBsZSB2YXJpYXRpb25zLiBJbmNsdWRpbmcgYCVgXG4gKiBpbiB0aGUgcGF0dGVybiBtYXRjaGVzIHplcm8gb3IgbW9yZSBjaGFyYWN0ZXJzLCBhbmQgaW5jbHVkaW5nXG4gKiBgX2Agd2lsbCBtYXRjaCBhIHNpbmdsZSBjaGFyYWN0ZXIuXG4gKlxuICogIyMgRXhhbXBsZXNcbiAqXG4gKiBgYGB0c1xuICogLy8gU2VsZWN0IGFsbCBjYXJzIHRoYXQgZG9uJ3QgaGF2ZSBcIlJvdmVyXCIgaW4gdGhlaXIgbmFtZS5cbiAqIGRiLnNlbGVjdCgpLmZyb20oY2FycylcbiAqICAgLndoZXJlKG5vdExpa2UoY2Fycy5uYW1lLCAnJVJvdmVyJScpKVxuICogYGBgXG4gKlxuICogQHNlZSBpbGlrZSBmb3IgdGhlIGludmVyc2UgY29uZGl0aW9uXG4gKiBAc2VlIG5vdExpa2UgZm9yIGEgY2FzZS1zZW5zaXRpdmUgdmVyc2lvbiBvZiB0aGlzIGNvbmRpdGlvblxuICovXG5mdW5jdGlvbiBub3RJbGlrZShjb2x1bW4sIHZhbHVlKSB7XG4gICAgcmV0dXJuIHNxbCBgJHtjb2x1bW59IG5vdCBpbGlrZSAke3ZhbHVlfWA7XG59XG5mdW5jdGlvbiBhcnJheUNvbnRhaW5zKGNvbHVtbiwgdmFsdWVzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWVzKSkge1xuICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhcnJheUNvbnRhaW5zIHJlcXVpcmVzIGF0IGxlYXN0IG9uZSB2YWx1ZScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFycmF5ID0gc3FsIGAke2JpbmRJZlBhcmFtKHZhbHVlcywgY29sdW1uKX1gO1xuICAgICAgICByZXR1cm4gc3FsIGAke2NvbHVtbn0gQD4gJHthcnJheX1gO1xuICAgIH1cbiAgICByZXR1cm4gc3FsIGAke2NvbHVtbn0gQD4gJHtiaW5kSWZQYXJhbSh2YWx1ZXMsIGNvbHVtbil9YDtcbn1cbmZ1bmN0aW9uIGFycmF5Q29udGFpbmVkKGNvbHVtbiwgdmFsdWVzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWVzKSkge1xuICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhcnJheUNvbnRhaW5lZCByZXF1aXJlcyBhdCBsZWFzdCBvbmUgdmFsdWUnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcnJheSA9IHNxbCBgJHtiaW5kSWZQYXJhbSh2YWx1ZXMsIGNvbHVtbil9YDtcbiAgICAgICAgcmV0dXJuIHNxbCBgJHtjb2x1bW59IDxAICR7YXJyYXl9YDtcbiAgICB9XG4gICAgcmV0dXJuIHNxbCBgJHtjb2x1bW59IDxAICR7YmluZElmUGFyYW0odmFsdWVzLCBjb2x1bW4pfWA7XG59XG5mdW5jdGlvbiBhcnJheU92ZXJsYXBzKGNvbHVtbiwgdmFsdWVzKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWVzKSkge1xuICAgICAgICBpZiAodmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdhcnJheU92ZXJsYXBzIHJlcXVpcmVzIGF0IGxlYXN0IG9uZSB2YWx1ZScpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGFycmF5ID0gc3FsIGAke2JpbmRJZlBhcmFtKHZhbHVlcywgY29sdW1uKX1gO1xuICAgICAgICByZXR1cm4gc3FsIGAke2NvbHVtbn0gJiYgJHthcnJheX1gO1xuICAgIH1cbiAgICByZXR1cm4gc3FsIGAke2NvbHVtbn0gJiYgJHtiaW5kSWZQYXJhbSh2YWx1ZXMsIGNvbHVtbil9YDtcbn1cblxuLyoqXG4gKiBVc2VkIGluIHNvcnRpbmcsIHRoaXMgc3BlY2lmaWVzIHRoYXQgdGhlIGdpdmVuXG4gKiBjb2x1bW4gb3IgZXhwcmVzc2lvbiBzaG91bGQgYmUgc29ydGVkIGluIGFzY2VuZGluZ1xuICogb3JkZXIuIEJ5IHRoZSBTUUwgc3RhbmRhcmQsIGFzY2VuZGluZyBvcmRlciBpcyB0aGVcbiAqIGRlZmF1bHQsIHNvIGl0IGlzIG5vdCB1c3VhbGx5IG5lY2Vzc2FyeSB0byBzcGVjaWZ5XG4gKiBhc2NlbmRpbmcgc29ydCBvcmRlci5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIGBgYHRzXG4gKiAvLyBSZXR1cm4gY2Fycywgc3RhcnRpbmcgd2l0aCB0aGUgb2xkZXN0IG1vZGVsc1xuICogLy8gYW5kIGdvaW5nIGluIGFzY2VuZGluZyBvcmRlciB0byB0aGUgbmV3ZXN0LlxuICogZGIuc2VsZWN0KCkuZnJvbShjYXJzKVxuICogICAub3JkZXJCeShhc2MoY2Fycy55ZWFyKSk7XG4gKiBgYGBcbiAqXG4gKiBAc2VlIGRlc2MgdG8gc29ydCBpbiBkZXNjZW5kaW5nIG9yZGVyXG4gKi9cbmZ1bmN0aW9uIGFzYyhjb2x1bW4pIHtcbiAgICByZXR1cm4gc3FsIGAke2NvbHVtbn0gYXNjYDtcbn1cbi8qKlxuICogVXNlZCBpbiBzb3J0aW5nLCB0aGlzIHNwZWNpZmllcyB0aGF0IHRoZSBnaXZlblxuICogY29sdW1uIG9yIGV4cHJlc3Npb24gc2hvdWxkIGJlIHNvcnRlZCBpbiBkZXNjZW5kaW5nXG4gKiBvcmRlci5cbiAqXG4gKiAjIyBFeGFtcGxlc1xuICpcbiAqIGBgYHRzXG4gKiAvLyBTZWxlY3QgdXNlcnMsIHdpdGggdGhlIG1vc3QgcmVjZW50bHkgY3JlYXRlZFxuICogLy8gcmVjb3JkcyBjb21pbmcgZmlyc3QuXG4gKiBkYi5zZWxlY3QoKS5mcm9tKHVzZXJzKVxuICogICAub3JkZXJCeShkZXNjKHVzZXJzLmNyZWF0ZWRBdCkpO1xuICogYGBgXG4gKlxuICogQHNlZSBhc2MgdG8gc29ydCBpbiBhc2NlbmRpbmcgb3JkZXJcbiAqL1xuZnVuY3Rpb24gZGVzYyhjb2x1bW4pIHtcbiAgICByZXR1cm4gc3FsIGAke2NvbHVtbn0gZGVzY2A7XG59XG5cbi8qKlxuICogVGhpcyBjbGFzcyBpcyB1c2VkIHRvIGluZGljYXRlIGEgcHJpbWl0aXZlIHBhcmFtIHZhbHVlIHRoYXQgaXMgdXNlZCBpbiBgc3FsYCB0YWcuXG4gKiBJdCBpcyBvbmx5IHVzZWQgb24gdHlwZSBsZXZlbCBhbmQgaXMgbmV2ZXIgaW5zdGFudGlhdGVkIGF0IHJ1bnRpbWUuXG4gKiBJZiB5b3Ugc2VlIGEgdmFsdWUgb2YgdGhpcyB0eXBlIGluIHRoZSBjb2RlLCBpdHMgcnVudGltZSB2YWx1ZSBpcyBhY3R1YWxseSB0aGUgcHJpbWl0aXZlIHBhcmFtIHZhbHVlLlxuICovXG5jbGFzcyBGYWtlUHJpbWl0aXZlUGFyYW0ge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnRmFrZVByaW1pdGl2ZVBhcmFtJztcbn1cbmZ1bmN0aW9uIGlzU1FMV3JhcHBlcih2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICE9PSBudWxsICYmICdnZXRTUUwnIGluIHZhbHVlXG4gICAgICAgICYmIHR5cGVvZiB2YWx1ZS5nZXRTUUwgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBtZXJnZVF1ZXJpZXMocXVlcmllcykge1xuICAgIGNvbnN0IHJlc3VsdCA9IHsgc3FsOiAnJywgcGFyYW1zOiBbXSB9O1xuICAgIGZvciAoY29uc3QgcXVlcnkgb2YgcXVlcmllcykge1xuICAgICAgICByZXN1bHQuc3FsICs9IHF1ZXJ5LnNxbDtcbiAgICAgICAgcmVzdWx0LnBhcmFtcy5wdXNoKC4uLnF1ZXJ5LnBhcmFtcyk7XG4gICAgICAgIGlmIChxdWVyeS50eXBpbmdzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmICghcmVzdWx0LnR5cGluZ3MpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQudHlwaW5ncyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0LnR5cGluZ3MucHVzaCguLi5xdWVyeS50eXBpbmdzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuY2xhc3MgU3RyaW5nQ2h1bmsge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU3RyaW5nQ2h1bmsnO1xuICAgIHZhbHVlO1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXTtcbiAgICB9XG4gICAgZ2V0U1FMKCkge1xuICAgICAgICByZXR1cm4gbmV3IFNRTChbdGhpc10pO1xuICAgIH1cbn1cbmNsYXNzIFNRTCB7XG4gICAgcXVlcnlDaHVua3M7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdTUUwnO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBkZWNvZGVyID0gbm9vcERlY29kZXI7XG4gICAgc2hvdWxkSW5saW5lUGFyYW1zID0gZmFsc2U7XG4gICAgY29uc3RydWN0b3IocXVlcnlDaHVua3MpIHtcbiAgICAgICAgdGhpcy5xdWVyeUNodW5rcyA9IHF1ZXJ5Q2h1bmtzO1xuICAgIH1cbiAgICBhcHBlbmQocXVlcnkpIHtcbiAgICAgICAgdGhpcy5xdWVyeUNodW5rcy5wdXNoKC4uLnF1ZXJ5LnF1ZXJ5Q2h1bmtzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHRvUXVlcnkoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB0cmFjZXIuc3RhcnRBY3RpdmVTcGFuKCdkcml6emxlLmJ1aWxkU1FMJywgKHNwYW4pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy5idWlsZFF1ZXJ5RnJvbVNvdXJjZVBhcmFtcyh0aGlzLnF1ZXJ5Q2h1bmtzLCBjb25maWcpO1xuICAgICAgICAgICAgc3Bhbj8uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgJ2RyaXp6bGUucXVlcnkudGV4dCc6IHF1ZXJ5LnNxbCxcbiAgICAgICAgICAgICAgICAnZHJpenpsZS5xdWVyeS5wYXJhbXMnOiBKU09OLnN0cmluZ2lmeShxdWVyeS5wYXJhbXMpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcXVlcnk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBidWlsZFF1ZXJ5RnJvbVNvdXJjZVBhcmFtcyhjaHVua3MsIF9jb25maWcpIHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gT2JqZWN0LmFzc2lnbih7fSwgX2NvbmZpZywge1xuICAgICAgICAgICAgaW5saW5lUGFyYW1zOiBfY29uZmlnLmlubGluZVBhcmFtcyB8fCB0aGlzLnNob3VsZElubGluZVBhcmFtcyxcbiAgICAgICAgICAgIHBhcmFtU3RhcnRJbmRleDogX2NvbmZpZy5wYXJhbVN0YXJ0SW5kZXggfHwgeyB2YWx1ZTogMCB9LFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgeyBlc2NhcGVOYW1lLCBlc2NhcGVQYXJhbSwgcHJlcGFyZVR5cGluZywgaW5saW5lUGFyYW1zLCBwYXJhbVN0YXJ0SW5kZXgsIH0gPSBjb25maWc7XG4gICAgICAgIHJldHVybiBtZXJnZVF1ZXJpZXMoY2h1bmtzLm1hcCgoY2h1bmspID0+IHtcbiAgICAgICAgICAgIGlmIChpcyhjaHVuaywgU3RyaW5nQ2h1bmspKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3FsOiBjaHVuay52YWx1ZS5qb2luKCcnKSwgcGFyYW1zOiBbXSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzKGNodW5rLCBOYW1lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHNxbDogZXNjYXBlTmFtZShjaHVuay52YWx1ZSksIHBhcmFtczogW10gfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaHVuayA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3FsOiAnJywgcGFyYW1zOiBbXSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2h1bmspKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gW25ldyBTdHJpbmdDaHVuaygnKCcpXTtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IFtpLCBwXSBvZiBjaHVuay5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gocCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpIDwgY2h1bmsubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2gobmV3IFN0cmluZ0NodW5rKCcsICcpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgU3RyaW5nQ2h1bmsoJyknKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVpbGRRdWVyeUZyb21Tb3VyY2VQYXJhbXMocmVzdWx0LCBjb25maWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzKGNodW5rLCBTUUwpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVpbGRRdWVyeUZyb21Tb3VyY2VQYXJhbXMoY2h1bmsucXVlcnlDaHVua3MsIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY29uZmlnLFxuICAgICAgICAgICAgICAgICAgICBpbmxpbmVQYXJhbXM6IGlubGluZVBhcmFtcyB8fCBjaHVuay5zaG91bGRJbmxpbmVQYXJhbXMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXMoY2h1bmssIFRhYmxlKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjaGVtYU5hbWUgPSBjaHVua1tUYWJsZS5TeW1ib2wuU2NoZW1hXTtcbiAgICAgICAgICAgICAgICBjb25zdCB0YWJsZU5hbWUgPSBjaHVua1tUYWJsZS5TeW1ib2wuTmFtZV07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3FsOiBzY2hlbWFOYW1lID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZXNjYXBlTmFtZSh0YWJsZU5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGVzY2FwZU5hbWUoc2NoZW1hTmFtZSkgKyAnLicgKyBlc2NhcGVOYW1lKHRhYmxlTmFtZSksXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtczogW10sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpcyhjaHVuaywgQ29sdW1uKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHNxbDogZXNjYXBlTmFtZShjaHVuay50YWJsZVtUYWJsZS5TeW1ib2wuTmFtZV0pICsgJy4nICsgZXNjYXBlTmFtZShjaHVuay5uYW1lKSwgcGFyYW1zOiBbXSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzKGNodW5rLCBWaWV3KSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNjaGVtYU5hbWUgPSBjaHVua1tWaWV3QmFzZUNvbmZpZ10uc2NoZW1hO1xuICAgICAgICAgICAgICAgIGNvbnN0IHZpZXdOYW1lID0gY2h1bmtbVmlld0Jhc2VDb25maWddLm5hbWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgc3FsOiBzY2hlbWFOYW1lID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZXNjYXBlTmFtZSh2aWV3TmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogZXNjYXBlTmFtZShzY2hlbWFOYW1lKSArICcuJyArIGVzY2FwZU5hbWUodmlld05hbWUpLFxuICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IFtdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXMoY2h1bmssIFBhcmFtKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hcHBlZFZhbHVlID0gKGNodW5rLnZhbHVlID09PSBudWxsKSA/IG51bGwgOiBjaHVuay5lbmNvZGVyLm1hcFRvRHJpdmVyVmFsdWUoY2h1bmsudmFsdWUpO1xuICAgICAgICAgICAgICAgIGlmIChpcyhtYXBwZWRWYWx1ZSwgU1FMKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5idWlsZFF1ZXJ5RnJvbVNvdXJjZVBhcmFtcyhbbWFwcGVkVmFsdWVdLCBjb25maWcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaW5saW5lUGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHNxbDogdGhpcy5tYXBJbmxpbmVQYXJhbShtYXBwZWRWYWx1ZSwgY29uZmlnKSwgcGFyYW1zOiBbXSB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQgdHlwaW5ncztcbiAgICAgICAgICAgICAgICBpZiAocHJlcGFyZVR5cGluZyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGluZ3MgPSBbcHJlcGFyZVR5cGluZyhjaHVuay5lbmNvZGVyKV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7IHNxbDogZXNjYXBlUGFyYW0ocGFyYW1TdGFydEluZGV4LnZhbHVlKyssIG1hcHBlZFZhbHVlKSwgcGFyYW1zOiBbbWFwcGVkVmFsdWVdLCB0eXBpbmdzIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXMoY2h1bmssIFBsYWNlaG9sZGVyKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHNxbDogZXNjYXBlUGFyYW0ocGFyYW1TdGFydEluZGV4LnZhbHVlKyssIGNodW5rKSwgcGFyYW1zOiBbY2h1bmtdIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXMoY2h1bmssIFNRTC5BbGlhc2VkKSAmJiBjaHVuay5maWVsZEFsaWFzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyBzcWw6IGVzY2FwZU5hbWUoY2h1bmsuZmllbGRBbGlhcyksIHBhcmFtczogW10gfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpcyhjaHVuaywgU3VicXVlcnkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNodW5rW1N1YnF1ZXJ5Q29uZmlnXS5pc1dpdGgpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgc3FsOiBlc2NhcGVOYW1lKGNodW5rW1N1YnF1ZXJ5Q29uZmlnXS5hbGlhcyksIHBhcmFtczogW10gfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuYnVpbGRRdWVyeUZyb21Tb3VyY2VQYXJhbXMoW1xuICAgICAgICAgICAgICAgICAgICBuZXcgU3RyaW5nQ2h1bmsoJygnKSxcbiAgICAgICAgICAgICAgICAgICAgY2h1bmtbU3VicXVlcnlDb25maWddLnNxbCxcbiAgICAgICAgICAgICAgICAgICAgbmV3IFN0cmluZ0NodW5rKCcpICcpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgTmFtZShjaHVua1tTdWJxdWVyeUNvbmZpZ10uYWxpYXMpLFxuICAgICAgICAgICAgICAgIF0sIGNvbmZpZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBpZiAoaXMoY2h1bmssIFBsYWNlaG9sZGVyKSkge1xuICAgICAgICAgICAgLy8gXHRyZXR1cm4ge3NxbDogZXNjYXBlUGFyYW19XG4gICAgICAgICAgICBpZiAoaXNTUUxXcmFwcGVyKGNodW5rKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmJ1aWxkUXVlcnlGcm9tU291cmNlUGFyYW1zKFtcbiAgICAgICAgICAgICAgICAgICAgbmV3IFN0cmluZ0NodW5rKCcoJyksXG4gICAgICAgICAgICAgICAgICAgIGNodW5rLmdldFNRTCgpLFxuICAgICAgICAgICAgICAgICAgICBuZXcgU3RyaW5nQ2h1bmsoJyknKSxcbiAgICAgICAgICAgICAgICBdLCBjb25maWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlzKGNodW5rLCBSZWxhdGlvbikpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5idWlsZFF1ZXJ5RnJvbVNvdXJjZVBhcmFtcyhbXG4gICAgICAgICAgICAgICAgICAgIGNodW5rLnNvdXJjZVRhYmxlLFxuICAgICAgICAgICAgICAgICAgICBuZXcgU3RyaW5nQ2h1bmsoJy4nKSxcbiAgICAgICAgICAgICAgICAgICAgc3FsLmlkZW50aWZpZXIoY2h1bmsuZmllbGROYW1lKSxcbiAgICAgICAgICAgICAgICBdLCBjb25maWcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGlubGluZVBhcmFtcykge1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHNxbDogdGhpcy5tYXBJbmxpbmVQYXJhbShjaHVuaywgY29uZmlnKSwgcGFyYW1zOiBbXSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3FsOiBlc2NhcGVQYXJhbShwYXJhbVN0YXJ0SW5kZXgudmFsdWUrKywgY2h1bmspLCBwYXJhbXM6IFtjaHVua10gfTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICBtYXBJbmxpbmVQYXJhbShjaHVuaywgeyBlc2NhcGVTdHJpbmcgfSkge1xuICAgICAgICBpZiAoY2h1bmsgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiAnbnVsbCc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBjaHVuayA9PT0gJ251bWJlcicgfHwgdHlwZW9mIGNodW5rID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgIHJldHVybiBjaHVuay50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICByZXR1cm4gZXNjYXBlU3RyaW5nKGNodW5rKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGNodW5rID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgY29uc3QgbWFwcGVkVmFsdWVBc1N0cmluZyA9IGNodW5rLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICBpZiAobWFwcGVkVmFsdWVBc1N0cmluZyA9PT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXNjYXBlU3RyaW5nKEpTT04uc3RyaW5naWZ5KGNodW5rKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZXNjYXBlU3RyaW5nKG1hcHBlZFZhbHVlQXNTdHJpbmcpO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignVW5leHBlY3RlZCBwYXJhbSB2YWx1ZTogJyArIGNodW5rKTtcbiAgICB9XG4gICAgZ2V0U1FMKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgYXMoYWxpYXMpIHtcbiAgICAgICAgLy8gVE9ETzogcmVtb3ZlIHdpdGggZGVwcmVjYXRlZCBvdmVybG9hZHNcbiAgICAgICAgaWYgKGFsaWFzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU1FMLkFsaWFzZWQodGhpcywgYWxpYXMpO1xuICAgIH1cbiAgICBtYXBXaXRoKGRlY29kZXIpIHtcbiAgICAgICAgdGhpcy5kZWNvZGVyID0gdHlwZW9mIGRlY29kZXIgPT09ICdmdW5jdGlvbicgPyB7IG1hcEZyb21Ecml2ZXJWYWx1ZTogZGVjb2RlciB9IDogZGVjb2RlcjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGlubGluZVBhcmFtcygpIHtcbiAgICAgICAgdGhpcy5zaG91bGRJbmxpbmVQYXJhbXMgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG4vKipcbiAqIEFueSBEQiBuYW1lICh0YWJsZSwgY29sdW1uLCBpbmRleCBldGMuKVxuICovXG5jbGFzcyBOYW1lIHtcbiAgICB2YWx1ZTtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ05hbWUnO1xuICAgIGJyYW5kO1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICB9XG4gICAgZ2V0U1FMKCkge1xuICAgICAgICByZXR1cm4gbmV3IFNRTChbdGhpc10pO1xuICAgIH1cbn1cbi8qKlxuICogQW55IERCIG5hbWUgKHRhYmxlLCBjb2x1bW4sIGluZGV4IGV0Yy4pXG4gKiBAZGVwcmVjYXRlZCBVc2UgYHNxbC5pZGVudGlmaWVyYCBpbnN0ZWFkLlxuICovXG5mdW5jdGlvbiBuYW1lKHZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBOYW1lKHZhbHVlKTtcbn1cbmZ1bmN0aW9uIGlzRHJpdmVyVmFsdWVFbmNvZGVyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgIT09IG51bGwgJiYgJ21hcFRvRHJpdmVyVmFsdWUnIGluIHZhbHVlXG4gICAgICAgICYmIHR5cGVvZiB2YWx1ZS5tYXBUb0RyaXZlclZhbHVlID09PSAnZnVuY3Rpb24nO1xufVxuY29uc3Qgbm9vcERlY29kZXIgPSB7XG4gICAgbWFwRnJvbURyaXZlclZhbHVlOiAodmFsdWUpID0+IHZhbHVlLFxufTtcbmNvbnN0IG5vb3BFbmNvZGVyID0ge1xuICAgIG1hcFRvRHJpdmVyVmFsdWU6ICh2YWx1ZSkgPT4gdmFsdWUsXG59O1xuY29uc3Qgbm9vcE1hcHBlciA9IHtcbiAgICAuLi5ub29wRGVjb2RlcixcbiAgICAuLi5ub29wRW5jb2Rlcixcbn07XG4vKiogUGFyYW1ldGVyIHZhbHVlIHRoYXQgaXMgb3B0aW9uYWxseSBib3VuZCB0byBhbiBlbmNvZGVyIChmb3IgZXhhbXBsZSwgYSBjb2x1bW4pLiAqL1xuY2xhc3MgUGFyYW0ge1xuICAgIHZhbHVlO1xuICAgIGVuY29kZXI7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQYXJhbSc7XG4gICAgYnJhbmQ7XG4gICAgLyoqXG4gICAgICogQHBhcmFtIHZhbHVlIC0gUGFyYW1ldGVyIHZhbHVlXG4gICAgICogQHBhcmFtIGVuY29kZXIgLSBFbmNvZGVyIHRvIGNvbnZlcnQgdGhlIHZhbHVlIHRvIGEgZHJpdmVyIHBhcmFtZXRlclxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHZhbHVlLCBlbmNvZGVyID0gbm9vcEVuY29kZXIpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmVuY29kZXIgPSBlbmNvZGVyO1xuICAgIH1cbiAgICBnZXRTUUwoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU1FMKFt0aGlzXSk7XG4gICAgfVxufVxuLyoqIEBkZXByZWNhdGVkIFVzZSBgc3FsLnBhcmFtYCBpbnN0ZWFkLiAqL1xuZnVuY3Rpb24gcGFyYW0odmFsdWUsIGVuY29kZXIpIHtcbiAgICByZXR1cm4gbmV3IFBhcmFtKHZhbHVlLCBlbmNvZGVyKTtcbn1cbi8qXG4gICAgVGhlIHR5cGUgb2YgYHBhcmFtc2AgaXMgc3BlY2lmaWVkIGFzIGBTUUxTb3VyY2VQYXJhbVtdYCwgYnV0IHRoYXQncyBzbGlnaHRseSBpbmNvcnJlY3QgLVxuICAgIGluIHJ1bnRpbWUsIHVzZXJzIHdvbid0IHBhc3MgYEZha2VQcmltaXRpdmVQYXJhbWAgaW5zdGFuY2VzIGFzIGBwYXJhbXNgIC0gdGhleSB3aWxsIHBhc3MgcHJpbWl0aXZlIHZhbHVlc1xuICAgIHdoaWNoIHdpbGwgYmUgd3JhcHBlZCBpbiBgUGFyYW1gIHVzaW5nIGBidWlsZENodW5rc0Zyb21QYXJhbSguLi4pYC4gVGhhdCdzIHdoeSB0aGUgb3ZlcmxvYWRcbiAgICBzcGVjaWZ5IGBwYXJhbXNgIGFzIGBhbnlbXWAgYW5kIG5vdCBhcyBgU1FMU291cmNlUGFyYW1bXWAuIFRoaXMgdHlwZSBpcyB1c2VkIHRvIG1ha2Ugb3VyIGxpdmVzIGVhc2llciBhbmRcbiAgICB0aGUgdHlwZSBjaGVja2VyIGhhcHB5LlxuKi9cbmZ1bmN0aW9uIHNxbChzdHJpbmdzLCAuLi5wYXJhbXMpIHtcbiAgICBjb25zdCBxdWVyeUNodW5rcyA9IFtdO1xuICAgIGlmIChwYXJhbXMubGVuZ3RoID4gMCB8fCAoc3RyaW5ncy5sZW5ndGggPiAwICYmIHN0cmluZ3NbMF0gIT09ICcnKSkge1xuICAgICAgICBxdWVyeUNodW5rcy5wdXNoKG5ldyBTdHJpbmdDaHVuayhzdHJpbmdzWzBdKSk7XG4gICAgfVxuICAgIGZvciAoY29uc3QgW3BhcmFtSW5kZXgsIHBhcmFtXSBvZiBwYXJhbXMuZW50cmllcygpKSB7XG4gICAgICAgIHF1ZXJ5Q2h1bmtzLnB1c2gocGFyYW0sIG5ldyBTdHJpbmdDaHVuayhzdHJpbmdzW3BhcmFtSW5kZXggKyAxXSkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFNRTChxdWVyeUNodW5rcyk7XG59XG4oZnVuY3Rpb24gKHNxbCkge1xuICAgIGZ1bmN0aW9uIGVtcHR5KCkge1xuICAgICAgICByZXR1cm4gbmV3IFNRTChbXSk7XG4gICAgfVxuICAgIHNxbC5lbXB0eSA9IGVtcHR5O1xuICAgIC8qKiBAZGVwcmVjYXRlZCAtIHVzZSBgc3FsLmpvaW4oKWAgKi9cbiAgICBmdW5jdGlvbiBmcm9tTGlzdChsaXN0KSB7XG4gICAgICAgIHJldHVybiBuZXcgU1FMKGxpc3QpO1xuICAgIH1cbiAgICBzcWwuZnJvbUxpc3QgPSBmcm9tTGlzdDtcbiAgICAvKipcbiAgICAgKiBDb252ZW5pZW5jZSBmdW5jdGlvbiB0byBjcmVhdGUgYW4gU1FMIHF1ZXJ5IGZyb20gYSByYXcgc3RyaW5nLlxuICAgICAqIEBwYXJhbSBzdHIgVGhlIHJhdyBTUUwgcXVlcnkgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJhdyhzdHIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBTUUwoW25ldyBTdHJpbmdDaHVuayhzdHIpXSk7XG4gICAgfVxuICAgIHNxbC5yYXcgPSByYXc7XG4gICAgLyoqXG4gICAgICogSm9pbiBhIGxpc3Qgb2YgU1FMIGNodW5rcyB3aXRoIGEgc2VwYXJhdG9yLlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHNcbiAgICAgKiBjb25zdCBxdWVyeSA9IHNxbC5qb2luKFtzcWxgYWAsIHNxbGBiYCwgc3FsYGNgXSk7XG4gICAgICogLy8gc3FsYGFiY2BcbiAgICAgKiBgYGBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHRzXG4gICAgICogY29uc3QgcXVlcnkgPSBzcWwuam9pbihbc3FsYGFgLCBzcWxgYmAsIHNxbGBjYF0sIHNxbGAsIGApO1xuICAgICAqIC8vIHNxbGBhLCBiLCBjYFxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGpvaW4oY2h1bmtzLCBzZXBhcmF0b3IpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGZvciAoY29uc3QgW2ksIGNodW5rXSBvZiBjaHVua3MuZW50cmllcygpKSB7XG4gICAgICAgICAgICBpZiAoaSA+IDAgJiYgc2VwYXJhdG9yICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChzZXBhcmF0b3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0LnB1c2goY2h1bmspO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU1FMKHJlc3VsdCk7XG4gICAgfVxuICAgIHNxbC5qb2luID0gam9pbjtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBTUUwgY2h1bmsgdGhhdCByZXByZXNlbnRzIGEgREIgaWRlbnRpZmllciAodGFibGUsIGNvbHVtbiwgaW5kZXggZXRjLikuXG4gICAgICogV2hlbiB1c2VkIGluIGEgcXVlcnksIHRoZSBpZGVudGlmaWVyIHdpbGwgYmUgZXNjYXBlZCBiYXNlZCBvbiB0aGUgREIgZW5naW5lLlxuICAgICAqIEZvciBleGFtcGxlLCBpbiBQb3N0Z3JlU1FMLCBpZGVudGlmaWVycyBhcmUgZXNjYXBlZCB3aXRoIGRvdWJsZSBxdW90ZXMuXG4gICAgICpcbiAgICAgKiAqKldBUk5JTkc6IFRoaXMgZnVuY3Rpb24gZG9lcyBub3Qgb2ZmZXIgYW55IHByb3RlY3Rpb24gYWdhaW5zdCBTUUwgaW5qZWN0aW9ucywgc28geW91IG11c3QgdmFsaWRhdGUgYW55IHVzZXIgaW5wdXQgYmVmb3JlaGFuZC4qKlxuICAgICAqXG4gICAgICogQGV4YW1wbGUgYGBgdHNcbiAgICAgKiBjb25zdCBxdWVyeSA9IHNxbGBTRUxFQ1QgKiBGUk9NICR7c3FsLmlkZW50aWZpZXIoJ215LXRhYmxlJyl9YDtcbiAgICAgKiAvLyAnU0VMRUNUICogRlJPTSBcIm15LXRhYmxlXCInXG4gICAgICogYGBgXG4gICAgICovXG4gICAgZnVuY3Rpb24gaWRlbnRpZmllcih2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IE5hbWUodmFsdWUpO1xuICAgIH1cbiAgICBzcWwuaWRlbnRpZmllciA9IGlkZW50aWZpZXI7XG4gICAgZnVuY3Rpb24gcGxhY2Vob2xkZXIobmFtZSkge1xuICAgICAgICByZXR1cm4gbmV3IFBsYWNlaG9sZGVyKG5hbWUpO1xuICAgIH1cbiAgICBzcWwucGxhY2Vob2xkZXIgPSBwbGFjZWhvbGRlcjtcbiAgICBmdW5jdGlvbiBwYXJhbSh2YWx1ZSwgZW5jb2Rlcikge1xuICAgICAgICByZXR1cm4gbmV3IFBhcmFtKHZhbHVlLCBlbmNvZGVyKTtcbiAgICB9XG4gICAgc3FsLnBhcmFtID0gcGFyYW07XG59KShzcWwgfHwgKHNxbCA9IHt9KSk7XG4oZnVuY3Rpb24gKFNRTCkge1xuICAgIGNsYXNzIEFsaWFzZWQge1xuICAgICAgICBzcWw7XG4gICAgICAgIGZpZWxkQWxpYXM7XG4gICAgICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnU1FMLkFsaWFzZWQnO1xuICAgICAgICAvKiogQGludGVybmFsICovXG4gICAgICAgIGlzU2VsZWN0aW9uRmllbGQgPSBmYWxzZTtcbiAgICAgICAgY29uc3RydWN0b3Ioc3FsLCBmaWVsZEFsaWFzKSB7XG4gICAgICAgICAgICB0aGlzLnNxbCA9IHNxbDtcbiAgICAgICAgICAgIHRoaXMuZmllbGRBbGlhcyA9IGZpZWxkQWxpYXM7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0U1FMKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc3FsO1xuICAgICAgICB9XG4gICAgICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICAgICAgY2xvbmUoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEFsaWFzZWQodGhpcy5zcWwsIHRoaXMuZmllbGRBbGlhcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgU1FMLkFsaWFzZWQgPSBBbGlhc2VkO1xufSkoU1FMIHx8IChTUUwgPSB7fSkpO1xuY2xhc3MgUGxhY2Vob2xkZXIge1xuICAgIG5hbWU7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQbGFjZWhvbGRlcic7XG4gICAgY29uc3RydWN0b3IobmFtZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cbiAgICBnZXRTUUwoKSB7XG4gICAgICAgIHJldHVybiBuZXcgU1FMKFt0aGlzXSk7XG4gICAgfVxufVxuLyoqIEBkZXByZWNhdGVkIFVzZSBgc3FsLnBsYWNlaG9sZGVyYCBpbnN0ZWFkLiAqL1xuZnVuY3Rpb24gcGxhY2Vob2xkZXIobmFtZSkge1xuICAgIHJldHVybiBuZXcgUGxhY2Vob2xkZXIobmFtZSk7XG59XG5mdW5jdGlvbiBmaWxsUGxhY2Vob2xkZXJzKHBhcmFtcywgdmFsdWVzKSB7XG4gICAgcmV0dXJuIHBhcmFtcy5tYXAoKHApID0+IHtcbiAgICAgICAgaWYgKGlzKHAsIFBsYWNlaG9sZGVyKSkge1xuICAgICAgICAgICAgaWYgKCEocC5uYW1lIGluIHZhbHVlcykpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vIHZhbHVlIGZvciBwbGFjZWhvbGRlciBcIiR7cC5uYW1lfVwiIHdhcyBwcm92aWRlZGApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlc1twLm5hbWVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwO1xuICAgIH0pO1xufVxuLy8gRGVmaW5lZCBzZXBhcmF0ZWx5IGZyb20gdGhlIENvbHVtbiBjbGFzcyB0byByZXNvbHZlIGNpcmN1bGFyIGRlcGVuZGVuY3lcbkNvbHVtbi5wcm90b3R5cGUuZ2V0U1FMID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBuZXcgU1FMKFt0aGlzXSk7XG59O1xuXG5jbGFzcyBDb2x1bW5BbGlhc1Byb3h5SGFuZGxlciB7XG4gICAgdGFibGU7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdDb2x1bW5BbGlhc1Byb3h5SGFuZGxlcic7XG4gICAgY29uc3RydWN0b3IodGFibGUpIHtcbiAgICAgICAgdGhpcy50YWJsZSA9IHRhYmxlO1xuICAgIH1cbiAgICBnZXQoY29sdW1uT2JqLCBwcm9wKSB7XG4gICAgICAgIGlmIChwcm9wID09PSAndGFibGUnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50YWJsZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29sdW1uT2JqW3Byb3BdO1xuICAgIH1cbn1cbmNsYXNzIFRhYmxlQWxpYXNQcm94eUhhbmRsZXIge1xuICAgIGFsaWFzO1xuICAgIHJlcGxhY2VPcmlnaW5hbE5hbWU7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdUYWJsZUFsaWFzUHJveHlIYW5kbGVyJztcbiAgICBjb25zdHJ1Y3RvcihhbGlhcywgcmVwbGFjZU9yaWdpbmFsTmFtZSkge1xuICAgICAgICB0aGlzLmFsaWFzID0gYWxpYXM7XG4gICAgICAgIHRoaXMucmVwbGFjZU9yaWdpbmFsTmFtZSA9IHJlcGxhY2VPcmlnaW5hbE5hbWU7XG4gICAgfVxuICAgIGdldCh0YXJnZXQsIHByb3ApIHtcbiAgICAgICAgaWYgKHByb3AgPT09IFRhYmxlLlN5bWJvbC5Jc0FsaWFzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcCA9PT0gVGFibGUuU3ltYm9sLk5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFsaWFzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLnJlcGxhY2VPcmlnaW5hbE5hbWUgJiYgcHJvcCA9PT0gVGFibGUuU3ltYm9sLk9yaWdpbmFsTmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWxpYXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb3AgPT09IFZpZXdCYXNlQ29uZmlnKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIC4uLnRhcmdldFtWaWV3QmFzZUNvbmZpZ10sXG4gICAgICAgICAgICAgICAgbmFtZTogdGhpcy5hbGlhcyxcbiAgICAgICAgICAgICAgICBpc0FsaWFzOiB0cnVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcCA9PT0gVGFibGUuU3ltYm9sLkNvbHVtbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbHVtbnMgPSB0YXJnZXRbVGFibGUuU3ltYm9sLkNvbHVtbnNdO1xuICAgICAgICAgICAgaWYgKCFjb2x1bW5zKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBwcm94aWVkQ29sdW1ucyA9IHt9O1xuICAgICAgICAgICAgT2JqZWN0LmtleXMoY29sdW1ucykubWFwKChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICBwcm94aWVkQ29sdW1uc1trZXldID0gbmV3IFByb3h5KGNvbHVtbnNba2V5XSwgbmV3IENvbHVtbkFsaWFzUHJveHlIYW5kbGVyKG5ldyBQcm94eSh0YXJnZXQsIHRoaXMpKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwcm94aWVkQ29sdW1ucztcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IHRhcmdldFtwcm9wXTtcbiAgICAgICAgaWYgKGlzKHZhbHVlLCBDb2x1bW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb3h5KHZhbHVlLCBuZXcgQ29sdW1uQWxpYXNQcm94eUhhbmRsZXIobmV3IFByb3h5KHRhcmdldCwgdGhpcykpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxufVxuY2xhc3MgUmVsYXRpb25UYWJsZUFsaWFzUHJveHlIYW5kbGVyIHtcbiAgICBhbGlhcztcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1JlbGF0aW9uVGFibGVBbGlhc1Byb3h5SGFuZGxlcic7XG4gICAgY29uc3RydWN0b3IoYWxpYXMpIHtcbiAgICAgICAgdGhpcy5hbGlhcyA9IGFsaWFzO1xuICAgIH1cbiAgICBnZXQodGFyZ2V0LCBwcm9wKSB7XG4gICAgICAgIGlmIChwcm9wID09PSAnc291cmNlVGFibGUnKSB7XG4gICAgICAgICAgICByZXR1cm4gYWxpYXNlZFRhYmxlKHRhcmdldC5zb3VyY2VUYWJsZSwgdGhpcy5hbGlhcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhcmdldFtwcm9wXTtcbiAgICB9XG59XG5mdW5jdGlvbiBhbGlhc2VkVGFibGUodGFibGUsIHRhYmxlQWxpYXMpIHtcbiAgICByZXR1cm4gbmV3IFByb3h5KHRhYmxlLCBuZXcgVGFibGVBbGlhc1Byb3h5SGFuZGxlcih0YWJsZUFsaWFzLCBmYWxzZSkpO1xufVxuZnVuY3Rpb24gYWxpYXNlZFJlbGF0aW9uKHJlbGF0aW9uLCB0YWJsZUFsaWFzKSB7XG4gICAgcmV0dXJuIG5ldyBQcm94eShyZWxhdGlvbiwgbmV3IFJlbGF0aW9uVGFibGVBbGlhc1Byb3h5SGFuZGxlcih0YWJsZUFsaWFzKSk7XG59XG5mdW5jdGlvbiBhbGlhc2VkVGFibGVDb2x1bW4oY29sdW1uLCB0YWJsZUFsaWFzKSB7XG4gICAgcmV0dXJuIG5ldyBQcm94eShjb2x1bW4sIG5ldyBDb2x1bW5BbGlhc1Byb3h5SGFuZGxlcihuZXcgUHJveHkoY29sdW1uLnRhYmxlLCBuZXcgVGFibGVBbGlhc1Byb3h5SGFuZGxlcih0YWJsZUFsaWFzLCBmYWxzZSkpKSk7XG59XG5mdW5jdGlvbiBtYXBDb2x1bW5zSW5BbGlhc2VkU1FMVG9BbGlhcyhxdWVyeSwgYWxpYXMpIHtcbiAgICByZXR1cm4gbmV3IFNRTC5BbGlhc2VkKG1hcENvbHVtbnNJblNRTFRvQWxpYXMocXVlcnkuc3FsLCBhbGlhcyksIHF1ZXJ5LmZpZWxkQWxpYXMpO1xufVxuZnVuY3Rpb24gbWFwQ29sdW1uc0luU1FMVG9BbGlhcyhxdWVyeSwgYWxpYXMpIHtcbiAgICByZXR1cm4gc3FsLmpvaW4ocXVlcnkucXVlcnlDaHVua3MubWFwKChjKSA9PiB7XG4gICAgICAgIGlmIChpcyhjLCBDb2x1bW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gYWxpYXNlZFRhYmxlQ29sdW1uKGMsIGFsaWFzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXMoYywgU1FMKSkge1xuICAgICAgICAgICAgcmV0dXJuIG1hcENvbHVtbnNJblNRTFRvQWxpYXMoYywgYWxpYXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpcyhjLCBTUUwuQWxpYXNlZCkpIHtcbiAgICAgICAgICAgIHJldHVybiBtYXBDb2x1bW5zSW5BbGlhc2VkU1FMVG9BbGlhcyhjLCBhbGlhcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGM7XG4gICAgfSkpO1xufVxuXG5leHBvcnQgeyBQZ0FycmF5QnVpbGRlciBhcyAkLCBnZXRPcmRlckJ5T3BlcmF0b3JzIGFzIEEsIG5vcm1hbGl6ZVJlbGF0aW9uIGFzIEIsIENvbHVtbkJ1aWxkZXIgYXMgQywgRHJpenpsZUVycm9yIGFzIEQsIGFuZCBhcyBFLCBlcSBhcyBGLCBhbGlhc2VkVGFibGUgYXMgRywgYXBwbHlNaXhpbnMgYXMgSCwgZ2V0VGFibGVDb2x1bW5zIGFzIEksIFR5cGVkUXVlcnlCdWlsZGVyIGFzIEosIGdldFRhYmxlTGlrZU5hbWUgYXMgSywgUGdDb2x1bW5CdWlsZGVyIGFzIEwsIE1hbnkgYXMgTSwgUGdDb2x1bW4gYXMgTiwgT25lIGFzIE8sIFBnRGlhbGVjdCBhcyBQLCBRdWVyeVByb21pc2UgYXMgUSwgcGdUYWJsZVdpdGhTY2hlbWEgYXMgUiwgU1FMIGFzIFMsIFRhYmxlIGFzIFQsIHBnVmlld1dpdGhTY2hlbWEgYXMgVSwgVmlld0Jhc2VDb25maWcgYXMgViwgV2l0aFN1YnF1ZXJ5IGFzIFcsIHBnTWF0ZXJpYWxpemVkVmlld1dpdGhTY2hlbWEgYXMgWCwgQ2hlY2tCdWlsZGVyIGFzIFksIENoZWNrIGFzIFosIGNoZWNrIGFzIF8sIGV4dHJhY3RUYWJsZXNSZWxhdGlvbmFsQ29uZmlnIGFzIGEsIFBnVmlldyBhcyBhJCwgUGdBcnJheSBhcyBhMCwgUGdEYXRlQnVpbGRlciBhcyBhMSwgUGdEYXRlIGFzIGEyLCBQZ0RhdGVTdHJpbmdCdWlsZGVyIGFzIGEzLCBQZ0RhdGVTdHJpbmcgYXMgYTQsIGRhdGUgYXMgYTUsIFBnSnNvbkJ1aWxkZXIgYXMgYTYsIFBnSnNvbiBhcyBhNywganNvbiBhcyBhOCwgUGdKc29uYkJ1aWxkZXIgYXMgYTksIFByaW1hcnlLZXlCdWlsZGVyIGFzIGFBLCBQcmltYXJ5S2V5IGFzIGFCLCBQZ1NlbGVjdFF1ZXJ5QnVpbGRlciBhcyBhQywgUGdTZWxlY3QgYXMgYUQsIElubGluZUZvcmVpZ25LZXlzIGFzIGFFLCBQZ1RhYmxlIGFzIGFGLCBwZ1RhYmxlIGFzIGFHLCBwZ1RhYmxlQ3JlYXRvciBhcyBhSCwgdW5pcXVlIGFzIGFJLCB1bmlxdWVLZXlOYW1lIGFzIGFKLCBVbmlxdWVDb25zdHJhaW50QnVpbGRlciBhcyBhSywgVW5pcXVlT25Db25zdHJhaW50QnVpbGRlciBhcyBhTCwgVW5pcXVlQ29uc3RyYWludCBhcyBhTSwgZ2V0VGFibGVDb25maWcgYXMgYU4sIGdldFZpZXdDb25maWcgYXMgYU8sIGdldE1hdGVyaWFsaXplZFZpZXdDb25maWcgYXMgYVAsIHBhcnNlUGdOZXN0ZWRBcnJheSBhcyBhUSwgcGFyc2VQZ0FycmF5IGFzIGFSLCBtYWtlUGdBcnJheSBhcyBhUywgRGVmYXVsdFZpZXdCdWlsZGVyQ29yZSBhcyBhVCwgVmlld0J1aWxkZXIgYXMgYVUsIE1hbnVhbFZpZXdCdWlsZGVyIGFzIGFWLCBNYXRlcmlhbGl6ZWRWaWV3QnVpbGRlckNvcmUgYXMgYVcsIE1hdGVyaWFsaXplZFZpZXdCdWlsZGVyIGFzIGFYLCBNYW51YWxNYXRlcmlhbGl6ZWRWaWV3QnVpbGRlciBhcyBhWSwgUGdWaWV3QmFzZSBhcyBhWiwgUGdWaWV3Q29uZmlnIGFzIGFfLCBQZ0pzb25iIGFzIGFhLCBqc29uYiBhcyBhYiwgUGdOdW1lcmljQnVpbGRlciBhcyBhYywgUGdOdW1lcmljIGFzIGFkLCBudW1lcmljIGFzIGFlLCBkZWNpbWFsIGFzIGFmLCBQZ1RpbWVCdWlsZGVyIGFzIGFnLCBQZ1RpbWUgYXMgYWgsIHRpbWUgYXMgYWksIFBnVGltZXN0YW1wQnVpbGRlciBhcyBhaiwgUGdUaW1lc3RhbXAgYXMgYWssIFBnVGltZXN0YW1wU3RyaW5nQnVpbGRlciBhcyBhbCwgUGdUaW1lc3RhbXBTdHJpbmcgYXMgYW0sIHRpbWVzdGFtcCBhcyBhbiwgUGdVVUlEQnVpbGRlciBhcyBhbywgUGdVVUlEIGFzIGFwLCB1dWlkIGFzIGFxLCBGb3JlaWduS2V5QnVpbGRlciBhcyBhciwgRm9yZWlnbktleSBhcyBhcywgZm9yZWlnbktleSBhcyBhdCwgSW5kZXhCdWlsZGVyT24gYXMgYXUsIEluZGV4QnVpbGRlciBhcyBhdiwgSW5kZXggYXMgYXcsIGluZGV4IGFzIGF4LCB1bmlxdWVJbmRleCBhcyBheSwgcHJpbWFyeUtleSBhcyBheiwgUGFyYW0gYXMgYiwgUGdNYXRlcmlhbGl6ZWRWaWV3Q29uZmlnIGFzIGIwLCBQZ01hdGVyaWFsaXplZFZpZXcgYXMgYjEsIHBnVmlldyBhcyBiMiwgcGdNYXRlcmlhbGl6ZWRWaWV3IGFzIGIzLCBDb2x1bW5BbGlhc1Byb3h5SGFuZGxlciBhcyBiNCwgUmVsYXRpb25UYWJsZUFsaWFzUHJveHlIYW5kbGVyIGFzIGI1LCBhbGlhc2VkUmVsYXRpb24gYXMgYjYsIGhhc093bkVudGl0eUtpbmQgYXMgYjcsIGJpbmRJZlBhcmFtIGFzIGI4LCBuZSBhcyBiOSwgY3JlYXRlT25lIGFzIGJBLCBjcmVhdGVNYW55IGFzIGJCLCBGYWtlUHJpbWl0aXZlUGFyYW0gYXMgYkMsIGlzU1FMV3JhcHBlciBhcyBiRCwgU3RyaW5nQ2h1bmsgYXMgYkUsIE5hbWUgYXMgYkYsIG5hbWUgYXMgYkcsIGlzRHJpdmVyVmFsdWVFbmNvZGVyIGFzIGJILCBub29wRGVjb2RlciBhcyBiSSwgbm9vcEVuY29kZXIgYXMgYkosIG5vb3BNYXBwZXIgYXMgYkssIHBhcmFtIGFzIGJMLCBQbGFjZWhvbGRlciBhcyBiTSwgcGxhY2Vob2xkZXIgYXMgYk4sIFRhYmxlTmFtZSBhcyBiTywgU2NoZW1hIGFzIGJQLCBDb2x1bW5zIGFzIGJRLCBPcmlnaW5hbE5hbWUgYXMgYlIsIEJhc2VOYW1lIGFzIGJTLCBJc0FsaWFzIGFzIGJULCBFeHRyYUNvbmZpZ0J1aWxkZXIgYXMgYlUsIGlzVGFibGUgYXMgYlYsIGlpZmUgYXMgYlcsIG9yIGFzIGJhLCBub3QgYXMgYmIsIGd0IGFzIGJjLCBndGUgYXMgYmQsIGx0IGFzIGJlLCBsdGUgYXMgYmYsIGluQXJyYXkgYXMgYmcsIG5vdEluQXJyYXkgYXMgYmgsIGlzTnVsbCBhcyBiaSwgaXNOb3ROdWxsIGFzIGJqLCBleGlzdHMgYXMgYmssIG5vdEV4aXN0cyBhcyBibCwgYmV0d2VlbiBhcyBibSwgbm90QmV0d2VlbiBhcyBibiwgbGlrZSBhcyBibywgbm90TGlrZSBhcyBicCwgaWxpa2UgYXMgYnEsIG5vdElsaWtlIGFzIGJyLCBhcnJheUNvbnRhaW5zIGFzIGJzLCBhcnJheUNvbnRhaW5lZCBhcyBidCwgYXJyYXlPdmVybGFwcyBhcyBidSwgYXNjIGFzIGJ2LCBkZXNjIGFzIGJ3LCBSZWxhdGlvbiBhcyBieCwgUmVsYXRpb25zIGFzIGJ5LCByZWxhdGlvbnMgYXMgYnosIGNyZWF0ZVRhYmxlUmVsYXRpb25zSGVscGVycyBhcyBjLCBtYXBVcGRhdGVTZXQgYXMgZCwgZW50aXR5S2luZCBhcyBlLCBmaWxsUGxhY2Vob2xkZXJzIGFzIGYsIG1hcFJlbGF0aW9uYWxSb3cgYXMgZywgUXVlcnlCdWlsZGVyIGFzIGgsIGlzIGFzIGksIFNlbGVjdGlvblByb3h5SGFuZGxlciBhcyBqLCBQZ1NlbGVjdEJ1aWxkZXIgYXMgaywgVHJhbnNhY3Rpb25Sb2xsYmFja0Vycm9yIGFzIGwsIG1hcFJlc3VsdFJvdyBhcyBtLCBUYWJsZUFsaWFzUHJveHlIYW5kbGVyIGFzIG4sIG9yZGVyU2VsZWN0ZWRGaWVsZHMgYXMgbywgQ29sdW1uIGFzIHAsIGdldFRhYmxlTmFtZSBhcyBxLCBTdWJxdWVyeSBhcyByLCBzcWwgYXMgcywgdHJhY2VyIGFzIHQsIFN1YnF1ZXJ5Q29uZmlnIGFzIHUsIFZpZXcgYXMgdiwgYWxpYXNlZFRhYmxlQ29sdW1uIGFzIHcsIGdldE9wZXJhdG9ycyBhcyB4LCBtYXBDb2x1bW5zSW5TUUxUb0FsaWFzIGFzIHksIG1hcENvbHVtbnNJbkFsaWFzZWRTUUxUb0FsaWFzIGFzIHogfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFsaWFzLWNmOGUwM2NkLm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJlbnRpdHlLaW5kIiwiU3ltYm9sIiwiZm9yIiwiaGFzT3duRW50aXR5S2luZCIsImlzIiwidmFsdWUiLCJ0eXBlIiwiT2JqZWN0IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiRXJyb3IiLCJuYW1lIiwiY2xzIiwiY29uc3RydWN0b3IiLCJnZXRQcm90b3R5cGVPZiIsIkNvbHVtbiIsInRhYmxlIiwiY29uZmlnIiwiZW51bVZhbHVlcyIsInVuZGVmaW5lZCIsIm5vdE51bGwiLCJkZWZhdWx0IiwiZGVmYXVsdEZuIiwiaGFzRGVmYXVsdCIsInByaW1hcnkiLCJwcmltYXJ5S2V5IiwiaXNVbmlxdWUiLCJ1bmlxdWVOYW1lIiwidW5pcXVlVHlwZSIsImRhdGFUeXBlIiwiY29sdW1uVHlwZSIsIm1hcEZyb21Ecml2ZXJWYWx1ZSIsIm1hcFRvRHJpdmVyVmFsdWUiLCJWaWV3QmFzZUNvbmZpZyIsIlZpZXciLCJzY2hlbWEiLCJzZWxlY3RlZEZpZWxkcyIsInF1ZXJ5Iiwib3JpZ2luYWxOYW1lIiwiaXNFeGlzdGluZyIsImlzQWxpYXMiLCJnZXRTUUwiLCJTUUwiLCJTdWJxdWVyeUNvbmZpZyIsIlN1YnF1ZXJ5Iiwic3FsIiwic2VsZWN0aW9uIiwiYWxpYXMiLCJpc1dpdGgiLCJXaXRoU3VicXVlcnkiLCJTZWxlY3Rpb25Qcm94eUhhbmRsZXIiLCJnZXQiLCJzdWJxdWVyeSIsInByb3AiLCJQcm94eSIsImNvbHVtbnMiLCJBbGlhc2VkIiwic3FsQWxpYXNlZEJlaGF2aW9yIiwiaXNTZWxlY3Rpb25GaWVsZCIsIm5ld1ZhbHVlIiwiY2xvbmUiLCJzcWxCZWhhdmlvciIsIkNvbHVtbkFsaWFzUHJveHlIYW5kbGVyIiwiVGFibGVBbGlhc1Byb3h5SGFuZGxlciIsInJlcGxhY2VPcmlnaW5hbE5hbWUiLCJtYXBSZXN1bHRSb3ciLCJyb3ciLCJqb2luc05vdE51bGxhYmxlTWFwIiwibnVsbGlmeU1hcCIsInJlc3VsdCIsInJlZHVjZSIsInBhdGgiLCJmaWVsZCIsImNvbHVtbkluZGV4IiwiZGVjb2RlciIsIm5vZGUiLCJwYXRoQ2h1bmtJbmRleCIsInBhdGhDaHVuayIsImVudHJpZXMiLCJsZW5ndGgiLCJyYXdWYWx1ZSIsIm9iamVjdE5hbWUiLCJnZXRUYWJsZU5hbWUiLCJrZXlzIiwidGFibGVOYW1lIiwib3JkZXJTZWxlY3RlZEZpZWxkcyIsImZpZWxkcyIsInBhdGhQcmVmaXgiLCJuZXdQYXRoIiwicHVzaCIsIlRhYmxlIiwiQ29sdW1ucyIsIm1hcFVwZGF0ZVNldCIsInZhbHVlcyIsImZpbHRlciIsIm1hcCIsImtleSIsIlBhcmFtIiwiZnJvbUVudHJpZXMiLCJhcHBseU1peGlucyIsImJhc2VDbGFzcyIsImV4dGVuZGVkQ2xhc3NlcyIsImV4dGVuZGVkQ2xhc3MiLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJjcmVhdGUiLCJnZXRUYWJsZUNvbHVtbnMiLCJnZXRUYWJsZUxpa2VOYW1lIiwiSXNBbGlhcyIsIk5hbWUiLCJCYXNlTmFtZSIsImlpZmUiLCJmbiIsImFyZ3MiLCJUYWJsZU5hbWUiLCJTY2hlbWEiLCJPcmlnaW5hbE5hbWUiLCJFeHRyYUNvbmZpZ0J1aWxkZXIiLCJJc0RyaXp6bGVUYWJsZSIsImJhc2VOYW1lIiwiaXNUYWJsZSIsIlF1ZXJ5UHJvbWlzZSIsInRvU3RyaW5nVGFnIiwiY2F0Y2giLCJvblJlamVjdGVkIiwidGhlbiIsImZpbmFsbHkiLCJvbkZpbmFsbHkiLCJyZWFzb24iLCJvbkZ1bGZpbGxlZCIsImV4ZWN1dGUiLCJ0cmFjZXIiLCJzdGFydEFjdGl2ZVNwYW4iLCJEcml6emxlRXJyb3IiLCJtZXNzYWdlIiwid3JhcCIsImVycm9yIiwiU3RyaW5nIiwiVHJhbnNhY3Rpb25Sb2xsYmFja0Vycm9yIiwiSW5saW5lRm9yZWlnbktleXMiLCJQZ1RhYmxlIiwiYXNzaWduIiwicGdUYWJsZVdpdGhTY2hlbWEiLCJleHRyYUNvbmZpZyIsInJhd1RhYmxlIiwiYnVpbHRDb2x1bW5zIiwiY29sQnVpbGRlckJhc2UiLCJjb2xCdWlsZGVyIiwiY29sdW1uIiwiYnVpbGQiLCJidWlsZEZvcmVpZ25LZXlzIiwicGdUYWJsZSIsInBnVGFibGVDcmVhdG9yIiwiY3VzdG9taXplVGFibGVOYW1lIiwiQ2hlY2tCdWlsZGVyIiwiQ2hlY2siLCJidWlsZGVyIiwiY2hlY2siLCJGb3JlaWduS2V5QnVpbGRlciIsImFjdGlvbnMiLCJfb25VcGRhdGUiLCJfb25EZWxldGUiLCJyZWZlcmVuY2UiLCJmb3JlaWduQ29sdW1ucyIsImZvcmVpZ25UYWJsZSIsIm9uVXBkYXRlIiwib25EZWxldGUiLCJhY3Rpb24iLCJGb3JlaWduS2V5IiwiZ2V0TmFtZSIsImNvbHVtbk5hbWVzIiwiZm9yZWlnbkNvbHVtbk5hbWVzIiwiY2h1bmtzIiwiam9pbiIsImZvcmVpZ25LZXkiLCJtYXBwZWRDb25maWciLCJJbmRleEJ1aWxkZXJPbiIsInVuaXF1ZSIsIm9uIiwiSW5kZXhCdWlsZGVyIiwib25Pbmx5Iiwib25seSIsImNvbmN1cnJlbnRseSIsInVzaW5nIiwibWV0aG9kIiwiYXNjIiwib3JkZXIiLCJkZXNjIiwibnVsbHNGaXJzdCIsIm51bGxzIiwibnVsbHNMYXN0Iiwid2hlcmUiLCJjb25kaXRpb24iLCJJbmRleCIsImluZGV4IiwidW5pcXVlSW5kZXgiLCJQcmltYXJ5S2V5QnVpbGRlciIsIlByaW1hcnlLZXkiLCJVbmlxdWVPbkNvbnN0cmFpbnRCdWlsZGVyIiwidW5pcXVlS2V5TmFtZSIsIlVuaXF1ZUNvbnN0cmFpbnRCdWlsZGVyIiwibnVsbHNOb3REaXN0aW5jdENvbmZpZyIsIm51bGxzTm90RGlzdGluY3QiLCJVbmlxdWVDb25zdHJhaW50IiwiZ2V0VGFibGVDb25maWciLCJpbmRleGVzIiwiY2hlY2tzIiwicHJpbWFyeUtleXMiLCJmb3JlaWduS2V5cyIsInVuaXF1ZUNvbnN0cmFpbnRzIiwiZXh0cmFDb25maWdCdWlsZGVyIiwiZ2V0Vmlld0NvbmZpZyIsInZpZXciLCJQZ1ZpZXdDb25maWciLCJnZXRNYXRlcmlhbGl6ZWRWaWV3Q29uZmlnIiwiUGdNYXRlcmlhbGl6ZWRWaWV3Q29uZmlnIiwicGFyc2VQZ0FycmF5VmFsdWUiLCJhcnJheVN0cmluZyIsInN0YXJ0RnJvbSIsImluUXVvdGVzIiwiaSIsImNoYXIiLCJzbGljZSIsInJlcGxhY2UiLCJwYXJzZVBnTmVzdGVkQXJyYXkiLCJsYXN0Q2hhcklzQ29tbWEiLCJuZXdTdGFydEZyb20iLCJwYXJzZVBnQXJyYXkiLCJtYWtlUGdBcnJheSIsImFycmF5IiwiaXRlbSIsIkFycmF5IiwiaXNBcnJheSIsImluY2x1ZGVzIiwiQ29sdW1uQnVpbGRlciIsIiRkZWZhdWx0IiwiJGRlZmF1bHRGbiIsIiR0eXBlIiwiUGdDb2x1bW5CdWlsZGVyIiwic2l6ZSIsIlBnQXJyYXlCdWlsZGVyIiwicmVmZXJlbmNlcyIsInJlZiIsImZvcmVpZ25LZXlDb25maWdzIiwiZm9yZWlnbkNvbHVtbiIsIlBnQ29sdW1uIiwiYmFzZUJ1aWxkZXIiLCJiYXNlQ29sdW1uIiwiUGdBcnJheSIsInJhbmdlIiwiZ2V0U1FMVHlwZSIsInYiLCJpc05lc3RlZEFycmF5IiwiYSIsIlBnRGF0ZUNvbHVtbkJhc2VCdWlsZGVyIiwiZGVmYXVsdE5vdyIsIlBnRGF0ZUJ1aWxkZXIiLCJQZ0RhdGUiLCJEYXRlIiwidG9JU09TdHJpbmciLCJQZ0RhdGVTdHJpbmdCdWlsZGVyIiwiUGdEYXRlU3RyaW5nIiwiZGF0ZSIsIm1vZGUiLCJQZ0pzb25CdWlsZGVyIiwiUGdKc29uIiwiSlNPTiIsInN0cmluZ2lmeSIsInBhcnNlIiwianNvbiIsIlBnSnNvbmJCdWlsZGVyIiwiUGdKc29uYiIsImpzb25iIiwiUGdOdW1lcmljQnVpbGRlciIsInByZWNpc2lvbiIsInNjYWxlIiwiUGdOdW1lcmljIiwibnVtZXJpYyIsImRlY2ltYWwiLCJQZ1RpbWVCdWlsZGVyIiwid2l0aFRpbWV6b25lIiwiUGdUaW1lIiwidGltZSIsIlBnVGltZXN0YW1wQnVpbGRlciIsIlBnVGltZXN0YW1wIiwidG9VVENTdHJpbmciLCJQZ1RpbWVzdGFtcFN0cmluZ0J1aWxkZXIiLCJQZ1RpbWVzdGFtcFN0cmluZyIsInRpbWVzdGFtcCIsIlBnVVVJREJ1aWxkZXIiLCJkZWZhdWx0UmFuZG9tIiwiUGdVVUlEIiwidXVpZCIsIlBnRGlhbGVjdCIsIm1pZ3JhdGUiLCJtaWdyYXRpb25zIiwic2Vzc2lvbiIsIm1pZ3JhdGlvblRhYmxlQ3JlYXRlIiwiZGJNaWdyYXRpb25zIiwiYWxsIiwibGFzdERiTWlncmF0aW9uIiwidHJhbnNhY3Rpb24iLCJ0eCIsIm1pZ3JhdGlvbiIsIk51bWJlciIsImNyZWF0ZWRfYXQiLCJmb2xkZXJNaWxsaXMiLCJzdG10IiwicmF3IiwiaGFzaCIsImVzY2FwZU5hbWUiLCJlc2NhcGVQYXJhbSIsIm51bSIsImVzY2FwZVN0cmluZyIsInN0ciIsImJ1aWxkRGVsZXRlUXVlcnkiLCJyZXR1cm5pbmciLCJyZXR1cm5pbmdTcWwiLCJidWlsZFNlbGVjdGlvbiIsImlzU2luZ2xlVGFibGUiLCJ3aGVyZVNxbCIsImJ1aWxkVXBkYXRlU2V0Iiwic2V0Iiwic2V0RW50cmllcyIsInNldFNpemUiLCJmbGF0TWFwIiwiY29sTmFtZSIsImNvbCIsInJlcyIsImlkZW50aWZpZXIiLCJidWlsZFVwZGF0ZVF1ZXJ5Iiwic2V0U3FsIiwiY29sdW1uc0xlbiIsImNodW5rIiwiZmllbGRBbGlhcyIsInF1ZXJ5Q2h1bmtzIiwiYyIsImJ1aWxkU2VsZWN0UXVlcnkiLCJ3aXRoTGlzdCIsImZpZWxkc0ZsYXQiLCJoYXZpbmciLCJqb2lucyIsIm9yZGVyQnkiLCJncm91cEJ5IiwibGltaXQiLCJvZmZzZXQiLCJsb2NraW5nQ2xhdXNlcyIsImRpc3RpbmN0IiwiZmllbGRzTGlzdCIsImYiLCJQZ1ZpZXdCYXNlIiwic29tZSIsIndpdGhTcWwiLCJ3aXRoU3FsQ2h1bmtzIiwidyIsImRpc3RpbmN0U3FsIiwidGFibGVTcWwiLCJmdWxsTmFtZSIsImpvaW5zQXJyYXkiLCJqb2luTWV0YSIsImxhdGVyYWxTcWwiLCJsYXRlcmFsIiwidGFibGVTY2hlbWEiLCJvcmlnVGFibGVOYW1lIiwiam9pblR5cGUiLCJ2aWV3TmFtZSIsInZpZXdTY2hlbWEiLCJvcmlnVmlld05hbWUiLCJqb2luc1NxbCIsImhhdmluZ1NxbCIsIm9yZGVyQnlTcWwiLCJncm91cEJ5U3FsIiwibGltaXRTcWwiLCJvZmZzZXRTcWwiLCJsb2NraW5nQ2xhdXNlc1NxbCIsImVtcHR5Iiwic3RyZW5ndGgiLCJjbGF1c2VTcWwiLCJvZiIsImFwcGVuZCIsIm5vV2FpdCIsInNraXBMb2NrZWQiLCJidWlsZEluc2VydFF1ZXJ5Iiwib25Db25mbGljdCIsInZhbHVlc1NxbExpc3QiLCJjb2xFbnRyaWVzIiwiaW5zZXJ0T3JkZXIiLCJ2YWx1ZUluZGV4IiwidmFsdWVMaXN0IiwiZmllbGROYW1lIiwiY29sVmFsdWUiLCJkZWZhdWx0Rm5SZXN1bHQiLCJkZWZhdWx0VmFsdWUiLCJwYXJhbSIsInZhbHVlc1NxbCIsIm9uQ29uZmxpY3RTcWwiLCJidWlsZFJlZnJlc2hNYXRlcmlhbGl6ZWRWaWV3UXVlcnkiLCJ3aXRoTm9EYXRhIiwiY29uY3VycmVudGx5U3FsIiwid2l0aE5vRGF0YVNxbCIsInByZXBhcmVUeXBpbmciLCJlbmNvZGVyIiwic3FsVG9RdWVyeSIsInRvUXVlcnkiLCJidWlsZFJlbGF0aW9uYWxRdWVyeVdpdGhvdXRQSyIsImZ1bGxTY2hlbWEiLCJ0YWJsZU5hbWVzTWFwIiwidGFibGVDb25maWciLCJxdWVyeUNvbmZpZyIsInRhYmxlQWxpYXMiLCJuZXN0ZWRRdWVyeVJlbGF0aW9uIiwiam9pbk9uIiwic2VsZWN0aW9uRW50cmllcyIsImRiS2V5IiwidHNLZXkiLCJhbGlhc2VkVGFibGVDb2x1bW4iLCJyZWxhdGlvblRhYmxlVHNLZXkiLCJpc0pzb24iLCJhbGlhc2VkQ29sdW1ucyIsImdldE9wZXJhdG9ycyIsIm1hcENvbHVtbnNJblNRTFRvQWxpYXMiLCJmaWVsZHNTZWxlY3Rpb24iLCJzZWxlY3RlZENvbHVtbnMiLCJpc0luY2x1ZGVNb2RlIiwic2VsZWN0ZWRSZWxhdGlvbnMiLCJ3aXRoIiwiZW50cnkiLCJyZWxhdGlvbiIsInJlbGF0aW9ucyIsImV4dHJhcyIsIm1hcENvbHVtbnNJbkFsaWFzZWRTUUxUb0FsaWFzIiwib3JkZXJCeU9yaWciLCJnZXRPcmRlckJ5T3BlcmF0b3JzIiwib3JkZXJCeVZhbHVlIiwic2VsZWN0ZWRSZWxhdGlvblRzS2V5Iiwic2VsZWN0ZWRSZWxhdGlvbkNvbmZpZ1ZhbHVlIiwibm9ybWFsaXplZFJlbGF0aW9uIiwibm9ybWFsaXplUmVsYXRpb24iLCJyZWxhdGlvblRhYmxlTmFtZSIsInJlZmVyZW5jZWRUYWJsZSIsInJlbGF0aW9uVGFibGVUc05hbWUiLCJyZWxhdGlvblRhYmxlQWxpYXMiLCJhbmQiLCJlcSIsImJ1aWx0UmVsYXRpb24iLCJPbmUiLCJhcyIsInRzTmFtZSIsIk1hbnkiLCJuZXN0ZWRTZWxlY3Rpb24iLCJuZWVkc1N1YnF1ZXJ5IiwiYWxpYXNlZFRhYmxlIiwidGFibGVUc0tleSIsIlR5cGVkUXVlcnlCdWlsZGVyIiwiZ2V0U2VsZWN0ZWRGaWVsZHMiLCJfIiwiUGdTZWxlY3RCdWlsZGVyIiwiZGlhbGVjdCIsImZyb20iLCJzb3VyY2UiLCJpc1BhcnRpYWxTZWxlY3QiLCJQZ1NlbGVjdCIsIlBnU2VsZWN0UXVlcnlCdWlsZGVyIiwibGVmdEpvaW4iLCJjcmVhdGVKb2luIiwicmlnaHRKb2luIiwiaW5uZXJKb2luIiwiZnVsbEpvaW4iLCJiYXNlVGFibGVOYW1lIiwidG9TUUwiLCJ0eXBpbmdzIiwiX3R5cGluZ3MiLCJyZXN0IiwiX3ByZXBhcmUiLCJwcmVwYXJlUXVlcnkiLCJwcmVwYXJlIiwicGxhY2Vob2xkZXJWYWx1ZXMiLCJRdWVyeUJ1aWxkZXIiLCIkd2l0aCIsInF1ZXJ5QnVpbGRlciIsInFiIiwicXVlcmllcyIsInNlbGYiLCJzZWxlY3QiLCJnZXREaWFsZWN0Iiwic2VsZWN0RGlzdGluY3QiLCJzZWxlY3REaXN0aW5jdE9uIiwiRGVmYXVsdFZpZXdCdWlsZGVyQ29yZSIsIlZpZXdCdWlsZGVyIiwic2VsZWN0aW9uUHJveHkiLCJhbGlhc2VkU2VsZWN0aW9uIiwiUGdWaWV3IiwicGdDb25maWciLCJpbmxpbmVQYXJhbXMiLCJNYW51YWxWaWV3QnVpbGRlciIsImV4aXN0aW5nIiwiTWF0ZXJpYWxpemVkVmlld0J1aWxkZXJDb3JlIiwidGFibGVzcGFjZSIsIk1hdGVyaWFsaXplZFZpZXdCdWlsZGVyIiwiUGdNYXRlcmlhbGl6ZWRWaWV3IiwiTWFudWFsTWF0ZXJpYWxpemVkVmlld0J1aWxkZXIiLCJwZ1ZpZXdXaXRoU2NoZW1hIiwicGdNYXRlcmlhbGl6ZWRWaWV3V2l0aFNjaGVtYSIsInBnVmlldyIsInBnTWF0ZXJpYWxpemVkVmlldyIsIlJlbGF0aW9uIiwic291cmNlVGFibGUiLCJyZWxhdGlvbk5hbWUiLCJyZWZlcmVuY2VkVGFibGVOYW1lIiwiUmVsYXRpb25zIiwiaXNOdWxsYWJsZSIsIndpdGhGaWVsZE5hbWUiLCJiZXR3ZWVuIiwiZXhpc3RzIiwiZ3QiLCJndGUiLCJpbGlrZSIsImluQXJyYXkiLCJpc051bGwiLCJpc05vdE51bGwiLCJsaWtlIiwibHQiLCJsdGUiLCJuZSIsIm5vdCIsIm5vdEJldHdlZW4iLCJub3RFeGlzdHMiLCJub3RMaWtlIiwibm90SWxpa2UiLCJub3RJbkFycmF5Iiwib3IiLCJleHRyYWN0VGFibGVzUmVsYXRpb25hbENvbmZpZyIsImNvbmZpZ0hlbHBlcnMiLCJyZWxhdGlvbnNCdWZmZXIiLCJ0YWJsZXNDb25maWciLCJkYk5hbWUiLCJidWZmZXJlZFJlbGF0aW9ucyIsImNvbmZpZ0VudHJ5IiwidGFibGVzIiwiaGVscGVycyIsImNyZWF0ZU9uZSIsIm9uZSIsImNyZWF0ZU1hbnkiLCJtYW55IiwicmVmZXJlbmNlZFRhYmxlVHNOYW1lIiwicmVmZXJlbmNlZFRhYmxlQ29uZmlnIiwic291cmNlVGFibGVUc05hbWUiLCJyZXZlcnNlUmVsYXRpb25zIiwicmVmZXJlbmNlZFRhYmxlUmVsYXRpb24iLCJjcmVhdGVUYWJsZVJlbGF0aW9uc0hlbHBlcnMiLCJtYXBSZWxhdGlvbmFsUm93IiwiYnVpbGRRdWVyeVJlc3VsdFNlbGVjdGlvbiIsIm1hcENvbHVtblZhbHVlIiwic2VsZWN0aW9uSXRlbUluZGV4Iiwic2VsZWN0aW9uSXRlbSIsInJhd1N1YlJvd3MiLCJzdWJSb3dzIiwic3ViUm93IiwiYmluZElmUGFyYW0iLCJpc0RyaXZlclZhbHVlRW5jb2RlciIsImlzU1FMV3JhcHBlciIsIlBsYWNlaG9sZGVyIiwibGVmdCIsInJpZ2h0IiwidW5maWx0ZXJlZENvbmRpdGlvbnMiLCJjb25kaXRpb25zIiwiU3RyaW5nQ2h1bmsiLCJtaW4iLCJtYXgiLCJhcnJheUNvbnRhaW5zIiwiYXJyYXlDb250YWluZWQiLCJhcnJheU92ZXJsYXBzIiwiRmFrZVByaW1pdGl2ZVBhcmFtIiwibWVyZ2VRdWVyaWVzIiwicGFyYW1zIiwibm9vcERlY29kZXIiLCJzaG91bGRJbmxpbmVQYXJhbXMiLCJzcGFuIiwiYnVpbGRRdWVyeUZyb21Tb3VyY2VQYXJhbXMiLCJzZXRBdHRyaWJ1dGVzIiwiX2NvbmZpZyIsInBhcmFtU3RhcnRJbmRleCIsInAiLCJzY2hlbWFOYW1lIiwibWFwcGVkVmFsdWUiLCJtYXBJbmxpbmVQYXJhbSIsInRvU3RyaW5nIiwibWFwcGVkVmFsdWVBc1N0cmluZyIsIm1hcFdpdGgiLCJub29wRW5jb2RlciIsIm5vb3BNYXBwZXIiLCJzdHJpbmdzIiwicGFyYW1JbmRleCIsImZyb21MaXN0IiwibGlzdCIsInNlcGFyYXRvciIsInBsYWNlaG9sZGVyIiwiZmlsbFBsYWNlaG9sZGVycyIsImNvbHVtbk9iaiIsInRhcmdldCIsInByb3hpZWRDb2x1bW5zIiwiUmVsYXRpb25UYWJsZUFsaWFzUHJveHlIYW5kbGVyIiwiYWxpYXNlZFJlbGF0aW9uIiwiJCIsIkEiLCJCIiwiQyIsIkQiLCJFIiwiRiIsIkciLCJIIiwiSSIsIkoiLCJLIiwiTCIsIk0iLCJOIiwiTyIsIlAiLCJRIiwiUiIsIlMiLCJUIiwiVSIsIlYiLCJXIiwiWCIsIlkiLCJaIiwiYSQiLCJhMCIsImExIiwiYTIiLCJhMyIsImE0IiwiYTUiLCJhNiIsImE3IiwiYTgiLCJhOSIsImFBIiwiYUIiLCJhQyIsImFEIiwiYUUiLCJhRiIsImFHIiwiYUgiLCJhSSIsImFKIiwiYUsiLCJhTCIsImFNIiwiYU4iLCJhTyIsImFQIiwiYVEiLCJhUiIsImFTIiwiYVQiLCJhVSIsImFWIiwiYVciLCJhWCIsImFZIiwiYVoiLCJhXyIsImFhIiwiYWIiLCJhYyIsImFkIiwiYWUiLCJhZiIsImFnIiwiYWgiLCJhaSIsImFqIiwiYWsiLCJhbCIsImFtIiwiYW4iLCJhbyIsImFwIiwiYXEiLCJhciIsImF0IiwiYXUiLCJhdiIsImF3IiwiYXgiLCJheSIsImF6IiwiYiIsImIwIiwiYjEiLCJiMiIsImIzIiwiYjQiLCJiNSIsImI2IiwiYjciLCJiOCIsImI5IiwiYkEiLCJiQiIsImJDIiwiYkQiLCJiRSIsImJGIiwiYkciLCJiSCIsImJJIiwiYkoiLCJiSyIsImJMIiwiYk0iLCJiTiIsImJPIiwiYlAiLCJiUSIsImJSIiwiYlMiLCJiVCIsImJVIiwiYlYiLCJiVyIsImJhIiwiYmIiLCJiYyIsImJkIiwiYmUiLCJiZiIsImJnIiwiYmgiLCJiaSIsImJqIiwiYmsiLCJibCIsImJtIiwiYm4iLCJibyIsImJwIiwiYnEiLCJiciIsImJzIiwiYnQiLCJidSIsImJ2IiwiYnciLCJieCIsImJ5IiwiYnoiLCJkIiwiZSIsImciLCJoIiwiaiIsImsiLCJsIiwibSIsIm4iLCJvIiwicSIsInIiLCJzIiwidCIsInUiLCJ4IiwieSIsInoiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/drizzle-orm/alias-cf8e03cd.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/drizzle-orm/index.mjs":
/*!********************************************!*\
  !*** ./node_modules/drizzle-orm/index.mjs ***!
  \********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BaseName: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bS),\n/* harmony export */   Column: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.p),\n/* harmony export */   ColumnAliasProxyHandler: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.b4),\n/* harmony export */   ColumnBuilder: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.C),\n/* harmony export */   Columns: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bQ),\n/* harmony export */   ConsoleLogWriter: () => (/* binding */ ConsoleLogWriter),\n/* harmony export */   DefaultLogger: () => (/* binding */ DefaultLogger),\n/* harmony export */   DrizzleError: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.D),\n/* harmony export */   ExtraConfigBuilder: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bU),\n/* harmony export */   FakePrimitiveParam: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bC),\n/* harmony export */   IsAlias: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bT),\n/* harmony export */   Many: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.M),\n/* harmony export */   Name: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bF),\n/* harmony export */   NoopLogger: () => (/* binding */ NoopLogger),\n/* harmony export */   One: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.O),\n/* harmony export */   OriginalName: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bR),\n/* harmony export */   Param: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.b),\n/* harmony export */   Placeholder: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bM),\n/* harmony export */   QueryPromise: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.Q),\n/* harmony export */   Relation: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bx),\n/* harmony export */   RelationTableAliasProxyHandler: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.b5),\n/* harmony export */   Relations: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.by),\n/* harmony export */   SQL: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.S),\n/* harmony export */   Schema: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bP),\n/* harmony export */   SelectionProxyHandler: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.j),\n/* harmony export */   StringChunk: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bE),\n/* harmony export */   Subquery: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.r),\n/* harmony export */   SubqueryConfig: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.u),\n/* harmony export */   Table: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.T),\n/* harmony export */   TableAliasProxyHandler: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.n),\n/* harmony export */   TableName: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bO),\n/* harmony export */   TransactionRollbackError: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.l),\n/* harmony export */   View: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.v),\n/* harmony export */   ViewBaseConfig: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.V),\n/* harmony export */   WithSubquery: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.W),\n/* harmony export */   aliasedRelation: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.b6),\n/* harmony export */   aliasedTable: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.G),\n/* harmony export */   aliasedTableColumn: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.w),\n/* harmony export */   and: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.E),\n/* harmony export */   applyMixins: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.H),\n/* harmony export */   arrayContained: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bt),\n/* harmony export */   arrayContains: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bs),\n/* harmony export */   arrayOverlaps: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bu),\n/* harmony export */   asc: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bv),\n/* harmony export */   between: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bm),\n/* harmony export */   bindIfParam: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.b8),\n/* harmony export */   createMany: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bB),\n/* harmony export */   createOne: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bA),\n/* harmony export */   createTableRelationsHelpers: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.c),\n/* harmony export */   desc: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bw),\n/* harmony export */   entityKind: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e),\n/* harmony export */   eq: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.F),\n/* harmony export */   exists: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bk),\n/* harmony export */   extractTablesRelationalConfig: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.a),\n/* harmony export */   fillPlaceholders: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.f),\n/* harmony export */   getOperators: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.x),\n/* harmony export */   getOrderByOperators: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.A),\n/* harmony export */   getTableColumns: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.I),\n/* harmony export */   getTableLikeName: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.K),\n/* harmony export */   getTableName: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.q),\n/* harmony export */   gt: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bc),\n/* harmony export */   gte: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bd),\n/* harmony export */   hasOwnEntityKind: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.b7),\n/* harmony export */   iife: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bW),\n/* harmony export */   ilike: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bq),\n/* harmony export */   inArray: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bg),\n/* harmony export */   is: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i),\n/* harmony export */   isDriverValueEncoder: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bH),\n/* harmony export */   isNotNull: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bj),\n/* harmony export */   isNull: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bi),\n/* harmony export */   isSQLWrapper: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bD),\n/* harmony export */   isTable: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bV),\n/* harmony export */   like: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bo),\n/* harmony export */   lt: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.be),\n/* harmony export */   lte: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bf),\n/* harmony export */   mapColumnsInAliasedSQLToAlias: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.z),\n/* harmony export */   mapColumnsInSQLToAlias: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.y),\n/* harmony export */   mapRelationalRow: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.g),\n/* harmony export */   mapResultRow: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.m),\n/* harmony export */   mapUpdateSet: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.d),\n/* harmony export */   name: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bG),\n/* harmony export */   ne: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.b9),\n/* harmony export */   noopDecoder: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bI),\n/* harmony export */   noopEncoder: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bJ),\n/* harmony export */   noopMapper: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bK),\n/* harmony export */   normalizeRelation: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.B),\n/* harmony export */   not: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bb),\n/* harmony export */   notBetween: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bn),\n/* harmony export */   notExists: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bl),\n/* harmony export */   notIlike: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.br),\n/* harmony export */   notInArray: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bh),\n/* harmony export */   notLike: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bp),\n/* harmony export */   or: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.ba),\n/* harmony export */   orderSelectedFields: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.o),\n/* harmony export */   param: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bL),\n/* harmony export */   placeholder: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bN),\n/* harmony export */   relations: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.bz),\n/* harmony export */   sql: () => (/* reexport safe */ _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s)\n/* harmony export */ });\n/* harmony import */ var _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./alias-cf8e03cd.mjs */ \"(rsc)/./node_modules/drizzle-orm/alias-cf8e03cd.mjs\");\n\n\nclass ConsoleLogWriter {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"ConsoleLogWriter\";\n    }\n    write(message) {\n        console.log(message);\n    }\n}\nclass DefaultLogger {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"DefaultLogger\";\n    }\n    constructor(config){\n        this.writer = config?.writer ?? new ConsoleLogWriter();\n    }\n    logQuery(query, params) {\n        const stringifiedParams = params.map((p)=>{\n            try {\n                return JSON.stringify(p);\n            } catch  {\n                return String(p);\n            }\n        });\n        const paramsStr = stringifiedParams.length ? ` -- params: [${stringifiedParams.join(\", \")}]` : \"\";\n        this.writer.write(`Query: ${query}${paramsStr}`);\n    }\n}\nclass NoopLogger {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"NoopLogger\";\n    }\n    logQuery() {\n    // noop\n    }\n}\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZHJpenpsZS1vcm0vaW5kZXgubWpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF1RDtBQUNvcUQ7QUFFM3RELE1BQU04TDs7WUFDSyxDQUFDN0wsa0RBQVVBLENBQUMsR0FBRzs7SUFDdEI4TCxNQUFNQyxPQUFPLEVBQUU7UUFDWEMsUUFBUUMsR0FBRyxDQUFDRjtJQUNoQjtBQUNKO0FBQ0EsTUFBTUc7O1lBQ0ssQ0FBQ2xNLGtEQUFVQSxDQUFDLEdBQUc7O0lBRXRCbU0sWUFBWUMsTUFBTSxDQUFFO1FBQ2hCLElBQUksQ0FBQ0MsTUFBTSxHQUFHRCxRQUFRQyxVQUFVLElBQUlSO0lBQ3hDO0lBQ0FTLFNBQVNDLEtBQUssRUFBRUMsTUFBTSxFQUFFO1FBQ3BCLE1BQU1DLG9CQUFvQkQsT0FBT0UsR0FBRyxDQUFDLENBQUN2TTtZQUNsQyxJQUFJO2dCQUNBLE9BQU93TSxLQUFLQyxTQUFTLENBQUN6TTtZQUMxQixFQUNBLE9BQU07Z0JBQ0YsT0FBTzBNLE9BQU8xTTtZQUNsQjtRQUNKO1FBQ0EsTUFBTTJNLFlBQVlMLGtCQUFrQk0sTUFBTSxHQUFHLENBQUMsYUFBYSxFQUFFTixrQkFBa0JPLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxHQUFHO1FBQy9GLElBQUksQ0FBQ1gsTUFBTSxDQUFDUCxLQUFLLENBQUMsQ0FBQyxPQUFPLEVBQUVTLE1BQU0sRUFBRU8sVUFBVSxDQUFDO0lBQ25EO0FBQ0o7QUFDQSxNQUFNRzs7WUFDSyxDQUFDak4sa0RBQVVBLENBQUMsR0FBRzs7SUFDdEJzTSxXQUFXO0lBQ1AsT0FBTztJQUNYO0FBQ0o7QUFFbUUsQ0FDbkUsa0NBQWtDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY29tLy4vbm9kZV9tb2R1bGVzL2RyaXp6bGUtb3JtL2luZGV4Lm1qcz9jZjQ1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGUgYXMgZW50aXR5S2luZCB9IGZyb20gJy4vYWxpYXMtY2Y4ZTAzY2QubWpzJztcbmV4cG9ydCB7IGJTIGFzIEJhc2VOYW1lLCBwIGFzIENvbHVtbiwgYjQgYXMgQ29sdW1uQWxpYXNQcm94eUhhbmRsZXIsIEMgYXMgQ29sdW1uQnVpbGRlciwgYlEgYXMgQ29sdW1ucywgRCBhcyBEcml6emxlRXJyb3IsIGJVIGFzIEV4dHJhQ29uZmlnQnVpbGRlciwgYkMgYXMgRmFrZVByaW1pdGl2ZVBhcmFtLCBiVCBhcyBJc0FsaWFzLCBNIGFzIE1hbnksIGJGIGFzIE5hbWUsIE8gYXMgT25lLCBiUiBhcyBPcmlnaW5hbE5hbWUsIGIgYXMgUGFyYW0sIGJNIGFzIFBsYWNlaG9sZGVyLCBRIGFzIFF1ZXJ5UHJvbWlzZSwgYnggYXMgUmVsYXRpb24sIGI1IGFzIFJlbGF0aW9uVGFibGVBbGlhc1Byb3h5SGFuZGxlciwgYnkgYXMgUmVsYXRpb25zLCBTIGFzIFNRTCwgYlAgYXMgU2NoZW1hLCBqIGFzIFNlbGVjdGlvblByb3h5SGFuZGxlciwgYkUgYXMgU3RyaW5nQ2h1bmssIHIgYXMgU3VicXVlcnksIHUgYXMgU3VicXVlcnlDb25maWcsIFQgYXMgVGFibGUsIG4gYXMgVGFibGVBbGlhc1Byb3h5SGFuZGxlciwgYk8gYXMgVGFibGVOYW1lLCBsIGFzIFRyYW5zYWN0aW9uUm9sbGJhY2tFcnJvciwgdiBhcyBWaWV3LCBWIGFzIFZpZXdCYXNlQ29uZmlnLCBXIGFzIFdpdGhTdWJxdWVyeSwgYjYgYXMgYWxpYXNlZFJlbGF0aW9uLCBHIGFzIGFsaWFzZWRUYWJsZSwgdyBhcyBhbGlhc2VkVGFibGVDb2x1bW4sIEUgYXMgYW5kLCBIIGFzIGFwcGx5TWl4aW5zLCBidCBhcyBhcnJheUNvbnRhaW5lZCwgYnMgYXMgYXJyYXlDb250YWlucywgYnUgYXMgYXJyYXlPdmVybGFwcywgYnYgYXMgYXNjLCBibSBhcyBiZXR3ZWVuLCBiOCBhcyBiaW5kSWZQYXJhbSwgYkIgYXMgY3JlYXRlTWFueSwgYkEgYXMgY3JlYXRlT25lLCBjIGFzIGNyZWF0ZVRhYmxlUmVsYXRpb25zSGVscGVycywgYncgYXMgZGVzYywgRiBhcyBlcSwgYmsgYXMgZXhpc3RzLCBhIGFzIGV4dHJhY3RUYWJsZXNSZWxhdGlvbmFsQ29uZmlnLCBmIGFzIGZpbGxQbGFjZWhvbGRlcnMsIHggYXMgZ2V0T3BlcmF0b3JzLCBBIGFzIGdldE9yZGVyQnlPcGVyYXRvcnMsIEkgYXMgZ2V0VGFibGVDb2x1bW5zLCBLIGFzIGdldFRhYmxlTGlrZU5hbWUsIHEgYXMgZ2V0VGFibGVOYW1lLCBiYyBhcyBndCwgYmQgYXMgZ3RlLCBiNyBhcyBoYXNPd25FbnRpdHlLaW5kLCBiVyBhcyBpaWZlLCBicSBhcyBpbGlrZSwgYmcgYXMgaW5BcnJheSwgaSBhcyBpcywgYkggYXMgaXNEcml2ZXJWYWx1ZUVuY29kZXIsIGJqIGFzIGlzTm90TnVsbCwgYmkgYXMgaXNOdWxsLCBiRCBhcyBpc1NRTFdyYXBwZXIsIGJWIGFzIGlzVGFibGUsIGJvIGFzIGxpa2UsIGJlIGFzIGx0LCBiZiBhcyBsdGUsIHogYXMgbWFwQ29sdW1uc0luQWxpYXNlZFNRTFRvQWxpYXMsIHkgYXMgbWFwQ29sdW1uc0luU1FMVG9BbGlhcywgZyBhcyBtYXBSZWxhdGlvbmFsUm93LCBtIGFzIG1hcFJlc3VsdFJvdywgZCBhcyBtYXBVcGRhdGVTZXQsIGJHIGFzIG5hbWUsIGI5IGFzIG5lLCBiSSBhcyBub29wRGVjb2RlciwgYkogYXMgbm9vcEVuY29kZXIsIGJLIGFzIG5vb3BNYXBwZXIsIEIgYXMgbm9ybWFsaXplUmVsYXRpb24sIGJiIGFzIG5vdCwgYm4gYXMgbm90QmV0d2VlbiwgYmwgYXMgbm90RXhpc3RzLCBiciBhcyBub3RJbGlrZSwgYmggYXMgbm90SW5BcnJheSwgYnAgYXMgbm90TGlrZSwgYmEgYXMgb3IsIG8gYXMgb3JkZXJTZWxlY3RlZEZpZWxkcywgYkwgYXMgcGFyYW0sIGJOIGFzIHBsYWNlaG9sZGVyLCBieiBhcyByZWxhdGlvbnMsIHMgYXMgc3FsIH0gZnJvbSAnLi9hbGlhcy1jZjhlMDNjZC5tanMnO1xuXG5jbGFzcyBDb25zb2xlTG9nV3JpdGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ0NvbnNvbGVMb2dXcml0ZXInO1xuICAgIHdyaXRlKG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc29sZS5sb2cobWVzc2FnZSk7XG4gICAgfVxufVxuY2xhc3MgRGVmYXVsdExvZ2dlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdEZWZhdWx0TG9nZ2VyJztcbiAgICB3cml0ZXI7XG4gICAgY29uc3RydWN0b3IoY29uZmlnKSB7XG4gICAgICAgIHRoaXMud3JpdGVyID0gY29uZmlnPy53cml0ZXIgPz8gbmV3IENvbnNvbGVMb2dXcml0ZXIoKTtcbiAgICB9XG4gICAgbG9nUXVlcnkocXVlcnksIHBhcmFtcykge1xuICAgICAgICBjb25zdCBzdHJpbmdpZmllZFBhcmFtcyA9IHBhcmFtcy5tYXAoKHApID0+IHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgIHJldHVybiBTdHJpbmcocCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBwYXJhbXNTdHIgPSBzdHJpbmdpZmllZFBhcmFtcy5sZW5ndGggPyBgIC0tIHBhcmFtczogWyR7c3RyaW5naWZpZWRQYXJhbXMuam9pbignLCAnKX1dYCA6ICcnO1xuICAgICAgICB0aGlzLndyaXRlci53cml0ZShgUXVlcnk6ICR7cXVlcnl9JHtwYXJhbXNTdHJ9YCk7XG4gICAgfVxufVxuY2xhc3MgTm9vcExvZ2dlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdOb29wTG9nZ2VyJztcbiAgICBsb2dRdWVyeSgpIHtcbiAgICAgICAgLy8gbm9vcFxuICAgIH1cbn1cblxuZXhwb3J0IHsgQ29uc29sZUxvZ1dyaXRlciwgRGVmYXVsdExvZ2dlciwgTm9vcExvZ2dlciwgZW50aXR5S2luZCB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIl0sIm5hbWVzIjpbImUiLCJlbnRpdHlLaW5kIiwiYlMiLCJCYXNlTmFtZSIsInAiLCJDb2x1bW4iLCJiNCIsIkNvbHVtbkFsaWFzUHJveHlIYW5kbGVyIiwiQyIsIkNvbHVtbkJ1aWxkZXIiLCJiUSIsIkNvbHVtbnMiLCJEIiwiRHJpenpsZUVycm9yIiwiYlUiLCJFeHRyYUNvbmZpZ0J1aWxkZXIiLCJiQyIsIkZha2VQcmltaXRpdmVQYXJhbSIsImJUIiwiSXNBbGlhcyIsIk0iLCJNYW55IiwiYkYiLCJOYW1lIiwiTyIsIk9uZSIsImJSIiwiT3JpZ2luYWxOYW1lIiwiYiIsIlBhcmFtIiwiYk0iLCJQbGFjZWhvbGRlciIsIlEiLCJRdWVyeVByb21pc2UiLCJieCIsIlJlbGF0aW9uIiwiYjUiLCJSZWxhdGlvblRhYmxlQWxpYXNQcm94eUhhbmRsZXIiLCJieSIsIlJlbGF0aW9ucyIsIlMiLCJTUUwiLCJiUCIsIlNjaGVtYSIsImoiLCJTZWxlY3Rpb25Qcm94eUhhbmRsZXIiLCJiRSIsIlN0cmluZ0NodW5rIiwiciIsIlN1YnF1ZXJ5IiwidSIsIlN1YnF1ZXJ5Q29uZmlnIiwiVCIsIlRhYmxlIiwibiIsIlRhYmxlQWxpYXNQcm94eUhhbmRsZXIiLCJiTyIsIlRhYmxlTmFtZSIsImwiLCJUcmFuc2FjdGlvblJvbGxiYWNrRXJyb3IiLCJ2IiwiVmlldyIsIlYiLCJWaWV3QmFzZUNvbmZpZyIsIlciLCJXaXRoU3VicXVlcnkiLCJiNiIsImFsaWFzZWRSZWxhdGlvbiIsIkciLCJhbGlhc2VkVGFibGUiLCJ3IiwiYWxpYXNlZFRhYmxlQ29sdW1uIiwiRSIsImFuZCIsIkgiLCJhcHBseU1peGlucyIsImJ0IiwiYXJyYXlDb250YWluZWQiLCJicyIsImFycmF5Q29udGFpbnMiLCJidSIsImFycmF5T3ZlcmxhcHMiLCJidiIsImFzYyIsImJtIiwiYmV0d2VlbiIsImI4IiwiYmluZElmUGFyYW0iLCJiQiIsImNyZWF0ZU1hbnkiLCJiQSIsImNyZWF0ZU9uZSIsImMiLCJjcmVhdGVUYWJsZVJlbGF0aW9uc0hlbHBlcnMiLCJidyIsImRlc2MiLCJGIiwiZXEiLCJiayIsImV4aXN0cyIsImEiLCJleHRyYWN0VGFibGVzUmVsYXRpb25hbENvbmZpZyIsImYiLCJmaWxsUGxhY2Vob2xkZXJzIiwieCIsImdldE9wZXJhdG9ycyIsIkEiLCJnZXRPcmRlckJ5T3BlcmF0b3JzIiwiSSIsImdldFRhYmxlQ29sdW1ucyIsIksiLCJnZXRUYWJsZUxpa2VOYW1lIiwicSIsImdldFRhYmxlTmFtZSIsImJjIiwiZ3QiLCJiZCIsImd0ZSIsImI3IiwiaGFzT3duRW50aXR5S2luZCIsImJXIiwiaWlmZSIsImJxIiwiaWxpa2UiLCJiZyIsImluQXJyYXkiLCJpIiwiaXMiLCJiSCIsImlzRHJpdmVyVmFsdWVFbmNvZGVyIiwiYmoiLCJpc05vdE51bGwiLCJiaSIsImlzTnVsbCIsImJEIiwiaXNTUUxXcmFwcGVyIiwiYlYiLCJpc1RhYmxlIiwiYm8iLCJsaWtlIiwiYmUiLCJsdCIsImJmIiwibHRlIiwieiIsIm1hcENvbHVtbnNJbkFsaWFzZWRTUUxUb0FsaWFzIiwieSIsIm1hcENvbHVtbnNJblNRTFRvQWxpYXMiLCJnIiwibWFwUmVsYXRpb25hbFJvdyIsIm0iLCJtYXBSZXN1bHRSb3ciLCJkIiwibWFwVXBkYXRlU2V0IiwiYkciLCJuYW1lIiwiYjkiLCJuZSIsImJJIiwibm9vcERlY29kZXIiLCJiSiIsIm5vb3BFbmNvZGVyIiwiYksiLCJub29wTWFwcGVyIiwiQiIsIm5vcm1hbGl6ZVJlbGF0aW9uIiwiYmIiLCJub3QiLCJibiIsIm5vdEJldHdlZW4iLCJibCIsIm5vdEV4aXN0cyIsImJyIiwibm90SWxpa2UiLCJiaCIsIm5vdEluQXJyYXkiLCJicCIsIm5vdExpa2UiLCJiYSIsIm9yIiwibyIsIm9yZGVyU2VsZWN0ZWRGaWVsZHMiLCJiTCIsInBhcmFtIiwiYk4iLCJwbGFjZWhvbGRlciIsImJ6IiwicmVsYXRpb25zIiwicyIsInNxbCIsIkNvbnNvbGVMb2dXcml0ZXIiLCJ3cml0ZSIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIiwiRGVmYXVsdExvZ2dlciIsImNvbnN0cnVjdG9yIiwiY29uZmlnIiwid3JpdGVyIiwibG9nUXVlcnkiLCJxdWVyeSIsInBhcmFtcyIsInN0cmluZ2lmaWVkUGFyYW1zIiwibWFwIiwiSlNPTiIsInN0cmluZ2lmeSIsIlN0cmluZyIsInBhcmFtc1N0ciIsImxlbmd0aCIsImpvaW4iLCJOb29wTG9nZ2VyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/drizzle-orm/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/drizzle-orm/mysql-core/index.mjs":
/*!*******************************************************!*\
  !*** ./node_modules/drizzle-orm/mysql-core/index.mjs ***!
  \*******************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Check: () => (/* binding */ Check),\n/* harmony export */   CheckBuilder: () => (/* binding */ CheckBuilder),\n/* harmony export */   ForeignKey: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.k),\n/* harmony export */   ForeignKeyBuilder: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.F),\n/* harmony export */   Index: () => (/* binding */ Index),\n/* harmony export */   IndexBuilder: () => (/* binding */ IndexBuilder),\n/* harmony export */   IndexBuilderOn: () => (/* binding */ IndexBuilderOn),\n/* harmony export */   InlineForeignKeys: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.I),\n/* harmony export */   ManualViewBuilder: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.C),\n/* harmony export */   MySqlBigInt53: () => (/* binding */ MySqlBigInt53),\n/* harmony export */   MySqlBigInt53Builder: () => (/* binding */ MySqlBigInt53Builder),\n/* harmony export */   MySqlBigInt64: () => (/* binding */ MySqlBigInt64),\n/* harmony export */   MySqlBigInt64Builder: () => (/* binding */ MySqlBigInt64Builder),\n/* harmony export */   MySqlBinary: () => (/* binding */ MySqlBinary),\n/* harmony export */   MySqlBinaryBuilder: () => (/* binding */ MySqlBinaryBuilder),\n/* harmony export */   MySqlBoolean: () => (/* binding */ MySqlBoolean),\n/* harmony export */   MySqlBooleanBuilder: () => (/* binding */ MySqlBooleanBuilder),\n/* harmony export */   MySqlChar: () => (/* binding */ MySqlChar),\n/* harmony export */   MySqlCharBuilder: () => (/* binding */ MySqlCharBuilder),\n/* harmony export */   MySqlColumn: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.g),\n/* harmony export */   MySqlColumnBuilder: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.f),\n/* harmony export */   MySqlColumnBuilderWithAutoIncrement: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.d),\n/* harmony export */   MySqlColumnWithAutoIncrement: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.e),\n/* harmony export */   MySqlCustomColumn: () => (/* binding */ MySqlCustomColumn),\n/* harmony export */   MySqlCustomColumnBuilder: () => (/* binding */ MySqlCustomColumnBuilder),\n/* harmony export */   MySqlDatabase: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.b),\n/* harmony export */   MySqlDate: () => (/* binding */ MySqlDate),\n/* harmony export */   MySqlDateBuilder: () => (/* binding */ MySqlDateBuilder),\n/* harmony export */   MySqlDateString: () => (/* binding */ MySqlDateString),\n/* harmony export */   MySqlDateStringBuilder: () => (/* binding */ MySqlDateStringBuilder),\n/* harmony export */   MySqlDateTime: () => (/* binding */ MySqlDateTime),\n/* harmony export */   MySqlDateTimeBuilder: () => (/* binding */ MySqlDateTimeBuilder),\n/* harmony export */   MySqlDateTimeString: () => (/* binding */ MySqlDateTimeString),\n/* harmony export */   MySqlDateTimeStringBuilder: () => (/* binding */ MySqlDateTimeStringBuilder),\n/* harmony export */   MySqlDecimal: () => (/* binding */ MySqlDecimal),\n/* harmony export */   MySqlDecimalBuilder: () => (/* binding */ MySqlDecimalBuilder),\n/* harmony export */   MySqlDelete: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.n),\n/* harmony export */   MySqlDialect: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.c),\n/* harmony export */   MySqlDouble: () => (/* binding */ MySqlDouble),\n/* harmony export */   MySqlDoubleBuilder: () => (/* binding */ MySqlDoubleBuilder),\n/* harmony export */   MySqlEnumColumn: () => (/* binding */ MySqlEnumColumn),\n/* harmony export */   MySqlEnumColumnBuilder: () => (/* binding */ MySqlEnumColumnBuilder),\n/* harmony export */   MySqlFloat: () => (/* binding */ MySqlFloat),\n/* harmony export */   MySqlFloatBuilder: () => (/* binding */ MySqlFloatBuilder),\n/* harmony export */   MySqlInsert: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.p),\n/* harmony export */   MySqlInsertBuilder: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.o),\n/* harmony export */   MySqlInt: () => (/* binding */ MySqlInt),\n/* harmony export */   MySqlIntBuilder: () => (/* binding */ MySqlIntBuilder),\n/* harmony export */   MySqlJson: () => (/* binding */ MySqlJson),\n/* harmony export */   MySqlJsonBuilder: () => (/* binding */ MySqlJsonBuilder),\n/* harmony export */   MySqlMediumInt: () => (/* binding */ MySqlMediumInt),\n/* harmony export */   MySqlMediumIntBuilder: () => (/* binding */ MySqlMediumIntBuilder),\n/* harmony export */   MySqlReal: () => (/* binding */ MySqlReal),\n/* harmony export */   MySqlRealBuilder: () => (/* binding */ MySqlRealBuilder),\n/* harmony export */   MySqlSchema: () => (/* binding */ MySqlSchema),\n/* harmony export */   MySqlSelect: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.s),\n/* harmony export */   MySqlSelectBuilder: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.q),\n/* harmony export */   MySqlSelectQueryBuilder: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.r),\n/* harmony export */   MySqlSerial: () => (/* binding */ MySqlSerial),\n/* harmony export */   MySqlSerialBuilder: () => (/* binding */ MySqlSerialBuilder),\n/* harmony export */   MySqlSession: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.M),\n/* harmony export */   MySqlSmallInt: () => (/* binding */ MySqlSmallInt),\n/* harmony export */   MySqlSmallIntBuilder: () => (/* binding */ MySqlSmallIntBuilder),\n/* harmony export */   MySqlTable: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.h),\n/* harmony export */   MySqlText: () => (/* binding */ MySqlText),\n/* harmony export */   MySqlTextBuilder: () => (/* binding */ MySqlTextBuilder),\n/* harmony export */   MySqlTime: () => (/* binding */ MySqlTime),\n/* harmony export */   MySqlTimeBuilder: () => (/* binding */ MySqlTimeBuilder),\n/* harmony export */   MySqlTimestamp: () => (/* binding */ MySqlTimestamp),\n/* harmony export */   MySqlTimestampBuilder: () => (/* binding */ MySqlTimestampBuilder),\n/* harmony export */   MySqlTimestampString: () => (/* binding */ MySqlTimestampString),\n/* harmony export */   MySqlTimestampStringBuilder: () => (/* binding */ MySqlTimestampStringBuilder),\n/* harmony export */   MySqlTinyInt: () => (/* binding */ MySqlTinyInt),\n/* harmony export */   MySqlTinyIntBuilder: () => (/* binding */ MySqlTinyIntBuilder),\n/* harmony export */   MySqlTransaction: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.a),\n/* harmony export */   MySqlUpdate: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.u),\n/* harmony export */   MySqlUpdateBuilder: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.t),\n/* harmony export */   MySqlVarBinary: () => (/* binding */ MySqlVarBinary),\n/* harmony export */   MySqlVarBinaryBuilder: () => (/* binding */ MySqlVarBinaryBuilder),\n/* harmony export */   MySqlVarChar: () => (/* binding */ MySqlVarChar),\n/* harmony export */   MySqlVarCharBuilder: () => (/* binding */ MySqlVarCharBuilder),\n/* harmony export */   MySqlView: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.E),\n/* harmony export */   MySqlViewBase: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.D),\n/* harmony export */   MySqlViewConfig: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.j),\n/* harmony export */   MySqlYear: () => (/* binding */ MySqlYear),\n/* harmony export */   MySqlYearBuilder: () => (/* binding */ MySqlYearBuilder),\n/* harmony export */   PreparedQuery: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.P),\n/* harmony export */   PrimaryKey: () => (/* binding */ PrimaryKey),\n/* harmony export */   PrimaryKeyBuilder: () => (/* binding */ PrimaryKeyBuilder),\n/* harmony export */   QueryBuilder: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.Q),\n/* harmony export */   UniqueConstraint: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.A),\n/* harmony export */   UniqueConstraintBuilder: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.U),\n/* harmony export */   UniqueOnConstraintBuilder: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.z),\n/* harmony export */   ViewBuilder: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.B),\n/* harmony export */   ViewBuilderCore: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.V),\n/* harmony export */   alias: () => (/* binding */ alias),\n/* harmony export */   bigint: () => (/* binding */ bigint),\n/* harmony export */   binary: () => (/* binding */ binary),\n/* harmony export */   boolean: () => (/* binding */ boolean),\n/* harmony export */   char: () => (/* binding */ char),\n/* harmony export */   check: () => (/* binding */ check),\n/* harmony export */   customType: () => (/* binding */ customType),\n/* harmony export */   date: () => (/* binding */ date),\n/* harmony export */   datetime: () => (/* binding */ datetime),\n/* harmony export */   decimal: () => (/* binding */ decimal),\n/* harmony export */   double: () => (/* binding */ double),\n/* harmony export */   float: () => (/* binding */ float),\n/* harmony export */   foreignKey: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.l),\n/* harmony export */   getTableConfig: () => (/* binding */ getTableConfig),\n/* harmony export */   getViewConfig: () => (/* binding */ getViewConfig),\n/* harmony export */   index: () => (/* binding */ index),\n/* harmony export */   int: () => (/* binding */ int),\n/* harmony export */   isMySqlSchema: () => (/* binding */ isMySqlSchema),\n/* harmony export */   json: () => (/* binding */ json),\n/* harmony export */   longtext: () => (/* binding */ longtext),\n/* harmony export */   mediumint: () => (/* binding */ mediumint),\n/* harmony export */   mediumtext: () => (/* binding */ mediumtext),\n/* harmony export */   mysqlDatabase: () => (/* binding */ mysqlDatabase),\n/* harmony export */   mysqlEnum: () => (/* binding */ mysqlEnum),\n/* harmony export */   mysqlSchema: () => (/* binding */ mysqlSchema),\n/* harmony export */   mysqlTable: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.v),\n/* harmony export */   mysqlTableCreator: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.w),\n/* harmony export */   mysqlTableWithSchema: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.m),\n/* harmony export */   mysqlView: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.G),\n/* harmony export */   mysqlViewWithSchema: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.i),\n/* harmony export */   primaryKey: () => (/* binding */ primaryKey),\n/* harmony export */   real: () => (/* binding */ real),\n/* harmony export */   serial: () => (/* binding */ serial),\n/* harmony export */   smallint: () => (/* binding */ smallint),\n/* harmony export */   text: () => (/* binding */ text),\n/* harmony export */   time: () => (/* binding */ time),\n/* harmony export */   timestamp: () => (/* binding */ timestamp),\n/* harmony export */   tinyint: () => (/* binding */ tinyint),\n/* harmony export */   tinytext: () => (/* binding */ tinytext),\n/* harmony export */   unique: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.x),\n/* harmony export */   uniqueIndex: () => (/* binding */ uniqueIndex),\n/* harmony export */   uniqueKeyName: () => (/* reexport safe */ _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.y),\n/* harmony export */   varbinary: () => (/* binding */ varbinary),\n/* harmony export */   varchar: () => (/* binding */ varchar),\n/* harmony export */   year: () => (/* binding */ year)\n/* harmony export */ });\n/* harmony import */ var _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../alias-cf8e03cd.mjs */ \"(rsc)/./node_modules/drizzle-orm/alias-cf8e03cd.mjs\");\n/* harmony import */ var _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../view-23898f21.mjs */ \"(rsc)/./node_modules/drizzle-orm/view-23898f21.mjs\");\n\n\n\nclass MySqlBigInt53Builder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.d {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlBigInt53Builder\";\n    }\n    constructor(name){\n        super(name, \"number\", \"MySqlBigInt53\");\n    }\n    /** @internal */ build(table) {\n        return new MySqlBigInt53(table, this.config);\n    }\n}\nclass MySqlBigInt53 extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.e {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlBigInt53\";\n    }\n    getSQLType() {\n        return \"bigint\";\n    }\n    mapFromDriverValue(value) {\n        if (typeof value === \"number\") {\n            return value;\n        }\n        return Number(value);\n    }\n}\nclass MySqlBigInt64Builder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.d {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlBigInt64Builder\";\n    }\n    constructor(name){\n        super(name, \"bigint\", \"MySqlBigInt64\");\n    }\n    /** @internal */ build(table) {\n        return new MySqlBigInt64(table, this.config);\n    }\n}\nclass MySqlBigInt64 extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.e {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlBigInt64\";\n    }\n    getSQLType() {\n        return \"bigint\";\n    }\n    // eslint-disable-next-line unicorn/prefer-native-coercion-functions\n    mapFromDriverValue(value) {\n        return BigInt(value);\n    }\n}\nfunction bigint(name, config) {\n    if (config.mode === \"number\") {\n        return new MySqlBigInt53Builder(name);\n    }\n    return new MySqlBigInt64Builder(name);\n}\nclass MySqlBinaryBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.f {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlBinaryBuilder\";\n    }\n    constructor(name, length){\n        super(name, \"string\", \"MySqlBinary\");\n        this.config.length = length;\n    }\n    /** @internal */ build(table) {\n        return new MySqlBinary(table, this.config);\n    }\n}\nclass MySqlBinary extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.g {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlBinary\";\n    }\n    getSQLType() {\n        return this.length === undefined ? `binary` : `binary(${this.length})`;\n    }\n    constructor(...args){\n        super(...args);\n        this.length = this.config.length;\n    }\n}\nfunction binary(name, config = {}) {\n    return new MySqlBinaryBuilder(name, config.length);\n}\nclass MySqlBooleanBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.f {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlBooleanBuilder\";\n    }\n    constructor(name){\n        super(name, \"boolean\", \"MySqlBoolean\");\n    }\n    /** @internal */ build(table) {\n        return new MySqlBoolean(table, this.config);\n    }\n}\nclass MySqlBoolean extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.g {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlBoolean\";\n    }\n    getSQLType() {\n        return \"boolean\";\n    }\n    mapFromDriverValue(value) {\n        if (typeof value === \"boolean\") {\n            return value;\n        }\n        return value === 1;\n    }\n}\nfunction boolean(name) {\n    return new MySqlBooleanBuilder(name);\n}\nclass MySqlCharBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.f {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlCharBuilder\";\n    }\n    constructor(name, config){\n        super(name, \"string\", \"MySqlChar\");\n        this.config.length = config.length;\n        this.config.enum = config.enum;\n    }\n    /** @internal */ build(table) {\n        return new MySqlChar(table, this.config);\n    }\n}\nclass MySqlChar extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.g {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlChar\";\n    }\n    getSQLType() {\n        return this.length === undefined ? `char` : `char(${this.length})`;\n    }\n    constructor(...args){\n        super(...args);\n        this.length = this.config.length;\n        this.enumValues = this.config.enum;\n    }\n}\nfunction char(name, config = {}) {\n    return new MySqlCharBuilder(name, config);\n}\nclass MySqlCustomColumnBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.f {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlCustomColumnBuilder\";\n    }\n    constructor(name, fieldConfig, customTypeParams){\n        super(name, \"custom\", \"MySqlCustomColumn\");\n        this.config.fieldConfig = fieldConfig;\n        this.config.customTypeParams = customTypeParams;\n    }\n    /** @internal */ build(table) {\n        return new MySqlCustomColumn(table, this.config);\n    }\n}\nclass MySqlCustomColumn extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.g {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlCustomColumn\";\n    }\n    constructor(table, config){\n        super(table, config);\n        this.sqlName = config.customTypeParams.dataType(config.fieldConfig);\n        this.mapTo = config.customTypeParams.toDriver;\n        this.mapFrom = config.customTypeParams.fromDriver;\n    }\n    getSQLType() {\n        return this.sqlName;\n    }\n    mapFromDriverValue(value) {\n        return typeof this.mapFrom === \"function\" ? this.mapFrom(value) : value;\n    }\n    mapToDriverValue(value) {\n        return typeof this.mapTo === \"function\" ? this.mapTo(value) : value;\n    }\n}\n/**\n * Custom mysql database data type generator\n */ function customType(customTypeParams) {\n    return (dbName, fieldConfig)=>{\n        return new MySqlCustomColumnBuilder(dbName, fieldConfig, customTypeParams);\n    };\n}\nclass MySqlDateBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.f {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlDateBuilder\";\n    }\n    constructor(name){\n        super(name, \"date\", \"MySqlDate\");\n    }\n    /** @internal */ build(table) {\n        return new MySqlDate(table, this.config);\n    }\n}\nclass MySqlDate extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.g {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlDate\";\n    }\n    constructor(table, config){\n        super(table, config);\n    }\n    getSQLType() {\n        return `date`;\n    }\n    mapFromDriverValue(value) {\n        return new Date(value);\n    }\n}\nclass MySqlDateStringBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.f {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlDateStringBuilder\";\n    }\n    constructor(name){\n        super(name, \"string\", \"MySqlDateString\");\n    }\n    /** @internal */ build(table) {\n        return new MySqlDateString(table, this.config);\n    }\n}\nclass MySqlDateString extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.g {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlDateString\";\n    }\n    constructor(table, config){\n        super(table, config);\n    }\n    getSQLType() {\n        return `date`;\n    }\n}\nfunction date(name, config = {}) {\n    if (config.mode === \"string\") {\n        return new MySqlDateStringBuilder(name);\n    }\n    return new MySqlDateBuilder(name);\n}\nclass MySqlDateTimeBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.f {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlDateTimeBuilder\";\n    }\n    constructor(name, config){\n        super(name, \"date\", \"MySqlDateTime\");\n        this.config.fsp = config?.fsp;\n    }\n    /** @internal */ build(table) {\n        return new MySqlDateTime(table, this.config);\n    }\n}\nclass MySqlDateTime extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.g {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlDateTime\";\n    }\n    constructor(table, config){\n        super(table, config);\n        this.fsp = config.fsp;\n    }\n    getSQLType() {\n        const precision = this.fsp === undefined ? \"\" : `(${this.fsp})`;\n        return `datetime${precision}`;\n    }\n    mapToDriverValue(value) {\n        return value.toISOString().replace(\"T\", \" \").replace(\"Z\", \"\");\n    }\n    mapFromDriverValue(value) {\n        return new Date(value.replace(\" \", \"T\") + \"Z\");\n    }\n}\nclass MySqlDateTimeStringBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.f {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlDateTimeStringBuilder\";\n    }\n    constructor(name, config){\n        super(name, \"string\", \"MySqlDateTimeString\");\n        this.config.fsp = config?.fsp;\n    }\n    /** @internal */ build(table) {\n        return new MySqlDateTimeString(table, this.config);\n    }\n}\nclass MySqlDateTimeString extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.g {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlDateTimeString\";\n    }\n    constructor(table, config){\n        super(table, config);\n        this.fsp = config.fsp;\n    }\n    getSQLType() {\n        const precision = this.fsp === undefined ? \"\" : `(${this.fsp})`;\n        return `datetime${precision}`;\n    }\n}\nfunction datetime(name, config = {}) {\n    if (config.mode === \"string\") {\n        return new MySqlDateTimeStringBuilder(name, config);\n    }\n    return new MySqlDateTimeBuilder(name, config);\n}\nclass MySqlDecimalBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.d {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlDecimalBuilder\";\n    }\n    constructor(name, precision, scale){\n        super(name, \"string\", \"MySqlDecimal\");\n        this.config.precision = precision;\n        this.config.scale = scale;\n    }\n    /** @internal */ build(table) {\n        return new MySqlDecimal(table, this.config);\n    }\n}\nclass MySqlDecimal extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.e {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlDecimal\";\n    }\n    getSQLType() {\n        if (this.precision !== undefined && this.scale !== undefined) {\n            return `decimal(${this.precision},${this.scale})`;\n        } else if (this.precision === undefined) {\n            return \"decimal\";\n        } else {\n            return `decimal(${this.precision})`;\n        }\n    }\n    constructor(...args){\n        super(...args);\n        this.precision = this.config.precision;\n        this.scale = this.config.scale;\n    }\n}\nfunction decimal(name, config = {}) {\n    return new MySqlDecimalBuilder(name, config.precision, config.scale);\n}\nclass MySqlDoubleBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.d {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlDoubleBuilder\";\n    }\n    constructor(name, config){\n        super(name, \"number\", \"MySqlDouble\");\n        this.config.precision = config?.precision;\n        this.config.scale = config?.scale;\n    }\n    /** @internal */ build(table) {\n        return new MySqlDouble(table, this.config);\n    }\n}\nclass MySqlDouble extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.e {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlDouble\";\n    }\n    getSQLType() {\n        if (this.precision !== undefined && this.scale !== undefined) {\n            return `double(${this.precision},${this.scale})`;\n        } else if (this.precision === undefined) {\n            return \"double\";\n        } else {\n            return `double(${this.precision})`;\n        }\n    }\n    constructor(...args){\n        super(...args);\n        this.precision = this.config.precision;\n        this.scale = this.config.scale;\n    }\n}\nfunction double(name, config) {\n    return new MySqlDoubleBuilder(name, config);\n}\nclass MySqlEnumColumnBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.f {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlEnumColumnBuilder\";\n    }\n    constructor(name, values){\n        super(name, \"string\", \"MySqlEnumColumn\");\n        this.config.enumValues = values;\n    }\n    /** @internal */ build(table) {\n        return new MySqlEnumColumn(table, this.config);\n    }\n}\nclass MySqlEnumColumn extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.g {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlEnumColumn\";\n    }\n    getSQLType() {\n        return `enum(${this.enumValues.map((value)=>`'${value}'`).join(\",\")})`;\n    }\n    constructor(...args){\n        super(...args);\n        this.enumValues = this.config.enumValues;\n    }\n}\nfunction mysqlEnum(name, values) {\n    if (values.length === 0) {\n        throw new Error(`You have an empty array for \"${name}\" enum values`);\n    }\n    return new MySqlEnumColumnBuilder(name, values);\n}\nclass MySqlFloatBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.d {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlFloatBuilder\";\n    }\n    constructor(name){\n        super(name, \"number\", \"MySqlFloat\");\n    }\n    /** @internal */ build(table) {\n        return new MySqlFloat(table, this.config);\n    }\n}\nclass MySqlFloat extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.e {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlFloat\";\n    }\n    getSQLType() {\n        return \"float\";\n    }\n}\nfunction float(name) {\n    return new MySqlFloatBuilder(name);\n}\nclass MySqlIntBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.d {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlIntBuilder\";\n    }\n    constructor(name){\n        super(name, \"number\", \"MySqlInt\");\n    }\n    /** @internal */ build(table) {\n        return new MySqlInt(table, this.config);\n    }\n}\nclass MySqlInt extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.e {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlInt\";\n    }\n    getSQLType() {\n        return \"int\";\n    }\n    mapFromDriverValue(value) {\n        if (typeof value === \"string\") {\n            return Number(value);\n        }\n        return value;\n    }\n}\nfunction int(name) {\n    return new MySqlIntBuilder(name);\n}\nclass MySqlJsonBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.f {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlJsonBuilder\";\n    }\n    constructor(name){\n        super(name, \"json\", \"MySqlJson\");\n    }\n    /** @internal */ build(table) {\n        return new MySqlJson(table, this.config);\n    }\n}\nclass MySqlJson extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.g {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlJson\";\n    }\n    getSQLType() {\n        return \"json\";\n    }\n    mapToDriverValue(value) {\n        return JSON.stringify(value);\n    }\n}\nfunction json(name) {\n    return new MySqlJsonBuilder(name);\n}\nclass MySqlMediumIntBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.d {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlMediumIntBuilder\";\n    }\n    constructor(name){\n        super(name, \"number\", \"MySqlMediumInt\");\n    }\n    /** @internal */ build(table) {\n        return new MySqlMediumInt(table, this.config);\n    }\n}\nclass MySqlMediumInt extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.e {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlMediumInt\";\n    }\n    getSQLType() {\n        return \"mediumint\";\n    }\n    mapFromDriverValue(value) {\n        if (typeof value === \"string\") {\n            return Number(value);\n        }\n        return value;\n    }\n}\nfunction mediumint(name) {\n    return new MySqlMediumIntBuilder(name);\n}\nclass MySqlRealBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.d {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlRealBuilder\";\n    }\n    constructor(name, config){\n        super(name, \"number\", \"MySqlReal\");\n        this.config.precision = config?.precision;\n        this.config.scale = config?.scale;\n    }\n    /** @internal */ build(table) {\n        return new MySqlReal(table, this.config);\n    }\n}\nclass MySqlReal extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.e {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlReal\";\n    }\n    getSQLType() {\n        if (this.precision !== undefined && this.scale !== undefined) {\n            return `real(${this.precision}, ${this.scale})`;\n        } else if (this.precision === undefined) {\n            return \"real\";\n        } else {\n            return `real(${this.precision})`;\n        }\n    }\n    constructor(...args){\n        super(...args);\n        this.precision = this.config.precision;\n        this.scale = this.config.scale;\n    }\n}\nfunction real(name, config = {}) {\n    return new MySqlRealBuilder(name, config);\n}\nclass MySqlSerialBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.d {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlSerialBuilder\";\n    }\n    constructor(name){\n        super(name, \"number\", \"MySqlSerial\");\n        this.config.hasDefault = true;\n        this.config.autoIncrement = true;\n    }\n    /** @internal */ build(table) {\n        return new MySqlSerial(table, this.config);\n    }\n}\nclass MySqlSerial extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.e {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlSerial\";\n    }\n    getSQLType() {\n        return \"serial\";\n    }\n    mapFromDriverValue(value) {\n        if (typeof value === \"string\") {\n            return Number(value);\n        }\n        return value;\n    }\n}\nfunction serial(name) {\n    return new MySqlSerialBuilder(name);\n}\nclass MySqlSmallIntBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.d {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlSmallIntBuilder\";\n    }\n    constructor(name){\n        super(name, \"number\", \"MySqlSmallInt\");\n    }\n    /** @internal */ build(table) {\n        return new MySqlSmallInt(table, this.config);\n    }\n}\nclass MySqlSmallInt extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.e {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlSmallInt\";\n    }\n    getSQLType() {\n        return \"smallint\";\n    }\n    mapFromDriverValue(value) {\n        if (typeof value === \"string\") {\n            return Number(value);\n        }\n        return value;\n    }\n}\nfunction smallint(name) {\n    return new MySqlSmallIntBuilder(name);\n}\nclass MySqlTextBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.f {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlTextBuilder\";\n    }\n    constructor(name, textType, config){\n        super(name, \"string\", \"MySqlText\");\n        this.config.textType = textType;\n        this.config.enumValues = config.enum;\n    }\n    /** @internal */ build(table) {\n        return new MySqlText(table, this.config);\n    }\n}\nclass MySqlText extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.g {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlText\";\n    }\n    getSQLType() {\n        return this.textType;\n    }\n    constructor(...args){\n        super(...args);\n        this.textType = this.config.textType;\n        this.enumValues = this.config.enumValues;\n    }\n}\nfunction text(name, config = {}) {\n    return new MySqlTextBuilder(name, \"text\", config);\n}\nfunction tinytext(name, config = {}) {\n    return new MySqlTextBuilder(name, \"tinytext\", config);\n}\nfunction mediumtext(name, config = {}) {\n    return new MySqlTextBuilder(name, \"mediumtext\", config);\n}\nfunction longtext(name, config = {}) {\n    return new MySqlTextBuilder(name, \"longtext\", config);\n}\nclass MySqlTimeBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.f {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlTimeBuilder\";\n    }\n    constructor(name, config){\n        super(name, \"string\", \"MySqlTime\");\n        this.config.fsp = config?.fsp;\n    }\n    /** @internal */ build(table) {\n        return new MySqlTime(table, this.config);\n    }\n}\nclass MySqlTime extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.g {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlTime\";\n    }\n    getSQLType() {\n        const precision = this.fsp === undefined ? \"\" : `(${this.fsp})`;\n        return `time${precision}`;\n    }\n    constructor(...args){\n        super(...args);\n        this.fsp = this.config.fsp;\n    }\n}\nfunction time(name, config) {\n    return new MySqlTimeBuilder(name, config);\n}\nclass MySqlDateColumnBaseBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.f {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlDateColumnBuilder\";\n    }\n    defaultNow() {\n        return this.default(_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.s`(now())`);\n    }\n    // \"on update now\" also adds an implicit default value to the column - https://dev.mysql.com/doc/refman/8.0/en/timestamp-initialization.html\n    onUpdateNow() {\n        this.config.hasOnUpdateNow = true;\n        this.config.hasDefault = true;\n        return this;\n    }\n}\nclass MySqlDateBaseColumn extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.g {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlDateColumn\";\n    }\n    constructor(...args){\n        super(...args);\n        this.hasOnUpdateNow = this.config.hasOnUpdateNow;\n    }\n}\nclass MySqlTimestampBuilder extends MySqlDateColumnBaseBuilder {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlTimestampBuilder\";\n    }\n    constructor(name, config){\n        super(name, \"date\", \"MySqlTimestamp\");\n        this.config.fsp = config?.fsp;\n    }\n    /** @internal */ build(table) {\n        return new MySqlTimestamp(table, this.config);\n    }\n}\nclass MySqlTimestamp extends MySqlDateBaseColumn {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlTimestamp\";\n    }\n    getSQLType() {\n        const precision = this.fsp === undefined ? \"\" : `(${this.fsp})`;\n        return `timestamp${precision}`;\n    }\n    mapFromDriverValue(value) {\n        return new Date(value + \"+0000\");\n    }\n    mapToDriverValue(value) {\n        return value.toISOString().slice(0, -1).replace(\"T\", \" \");\n    }\n    constructor(...args){\n        super(...args);\n        this.fsp = this.config.fsp;\n    }\n}\nclass MySqlTimestampStringBuilder extends MySqlDateColumnBaseBuilder {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlTimestampStringBuilder\";\n    }\n    constructor(name, config){\n        super(name, \"string\", \"MySqlTimestampString\");\n        this.config.fsp = config?.fsp;\n    }\n    /** @internal */ build(table) {\n        return new MySqlTimestampString(table, this.config);\n    }\n}\nclass MySqlTimestampString extends MySqlDateBaseColumn {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlTimestampString\";\n    }\n    getSQLType() {\n        const precision = this.fsp === undefined ? \"\" : `(${this.fsp})`;\n        return `timestamp${precision}`;\n    }\n    constructor(...args){\n        super(...args);\n        this.fsp = this.config.fsp;\n    }\n}\nfunction timestamp(name, config = {}) {\n    if (config.mode === \"string\") {\n        return new MySqlTimestampStringBuilder(name, config);\n    }\n    return new MySqlTimestampBuilder(name, config);\n}\nclass MySqlTinyIntBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.d {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlTinyIntBuilder\";\n    }\n    constructor(name){\n        super(name, \"number\", \"MySqlTinyInt\");\n    }\n    /** @internal */ build(table) {\n        return new MySqlTinyInt(table, this.config);\n    }\n}\nclass MySqlTinyInt extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.e {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlTinyInt\";\n    }\n    getSQLType() {\n        return \"tinyint\";\n    }\n    mapFromDriverValue(value) {\n        if (typeof value === \"string\") {\n            return Number(value);\n        }\n        return value;\n    }\n}\nfunction tinyint(name) {\n    return new MySqlTinyIntBuilder(name);\n}\nclass MySqlVarBinaryBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.f {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlVarBinaryBuilder\";\n    }\n    /** @internal */ constructor(name, config){\n        super(name, \"string\", \"MySqlVarBinary\");\n        this.config.length = config?.length;\n    }\n    /** @internal */ build(table) {\n        return new MySqlVarBinary(table, this.config);\n    }\n}\nclass MySqlVarBinary extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.g {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlVarBinary\";\n    }\n    getSQLType() {\n        return this.length === undefined ? `varbinary` : `varbinary(${this.length})`;\n    }\n    constructor(...args){\n        super(...args);\n        this.length = this.config.length;\n    }\n}\nfunction varbinary(name, options) {\n    return new MySqlVarBinaryBuilder(name, options);\n}\nclass MySqlVarCharBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.f {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlVarCharBuilder\";\n    }\n    /** @internal */ constructor(name, config){\n        super(name, \"string\", \"MySqlVarChar\");\n        this.config.length = config.length;\n        this.config.enum = config.enum;\n    }\n    /** @internal */ build(table) {\n        return new MySqlVarChar(table, this.config);\n    }\n}\nclass MySqlVarChar extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.g {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlVarChar\";\n    }\n    getSQLType() {\n        return this.length === undefined ? `varchar` : `varchar(${this.length})`;\n    }\n    constructor(...args){\n        super(...args);\n        this.length = this.config.length;\n        this.enumValues = this.config.enum;\n    }\n}\nfunction varchar(name, config) {\n    return new MySqlVarCharBuilder(name, config);\n}\nclass MySqlYearBuilder extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.f {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlYearBuilder\";\n    }\n    constructor(name){\n        super(name, \"number\", \"MySqlYear\");\n    }\n    /** @internal */ build(table) {\n        return new MySqlYear(table, this.config);\n    }\n}\nclass MySqlYear extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.g {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlYear\";\n    }\n    getSQLType() {\n        return `year`;\n    }\n}\nfunction year(name) {\n    return new MySqlYearBuilder(name);\n}\nfunction alias(table, alias) {\n    return new Proxy(table, new _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.n(alias, false));\n}\nclass CheckBuilder {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlCheckBuilder\";\n    }\n    constructor(name, value){\n        this.name = name;\n        this.value = value;\n    }\n    /** @internal */ build(table) {\n        return new Check(table, this);\n    }\n}\nclass Check {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlCheck\";\n    }\n    constructor(table, builder){\n        this.table = table;\n        this.name = builder.name;\n        this.value = builder.value;\n    }\n}\nfunction check(name, value) {\n    return new CheckBuilder(name, value);\n}\nclass IndexBuilderOn {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlIndexBuilderOn\";\n    }\n    constructor(name, unique){\n        this.name = name;\n        this.unique = unique;\n    }\n    on(...columns) {\n        return new IndexBuilder(this.name, columns, this.unique);\n    }\n}\nclass IndexBuilder {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlIndexBuilder\";\n    }\n    constructor(name, columns, unique){\n        this.config = {\n            name,\n            columns,\n            unique\n        };\n    }\n    using(using) {\n        this.config.using = using;\n        return this;\n    }\n    algorythm(algorythm) {\n        this.config.algorythm = algorythm;\n        return this;\n    }\n    lock(lock) {\n        this.config.lock = lock;\n        return this;\n    }\n    /** @internal */ build(table) {\n        return new Index(this.config, table);\n    }\n}\nclass Index {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlIndex\";\n    }\n    constructor(config, table){\n        this.config = {\n            ...config,\n            table\n        };\n    }\n}\nfunction index(name) {\n    return new IndexBuilderOn(name, false);\n}\nfunction uniqueIndex(name) {\n    return new IndexBuilderOn(name, true);\n}\nfunction primaryKey(...columns) {\n    return new PrimaryKeyBuilder(columns);\n}\nclass PrimaryKeyBuilder {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlPrimaryKeyBuilder\";\n    }\n    constructor(columns){\n        this.columns = columns;\n    }\n    /** @internal */ build(table) {\n        return new PrimaryKey(table, this.columns);\n    }\n}\nclass PrimaryKey {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlPrimaryKey\";\n    }\n    constructor(table, columns){\n        this.table = table;\n        this.columns = columns;\n    }\n    getName() {\n        return `${this.table[_view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.h.Symbol.Name]}_${this.columns.map((column)=>column.name).join(\"_\")}_pk`;\n    }\n}\nclass MySqlSchema {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"MySqlSchema\";\n    }\n    constructor(schemaName){\n        this.table = (name, columns, extraConfig)=>{\n            return (0,_view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.m)(name, columns, extraConfig, this.schemaName);\n        };\n        this.view = (name, columns)=>{\n            return (0,_view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(name, columns, this.schemaName);\n        };\n        this.schemaName = schemaName;\n    }\n}\n/** @deprecated - use `instanceof MySqlSchema` */ function isMySqlSchema(obj) {\n    return (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.i)(obj, MySqlSchema);\n}\n/**\n * Create a MySQL schema.\n * https://dev.mysql.com/doc/refman/8.0/en/create-database.html\n *\n * @param name mysql use schema name\n * @returns MySQL schema\n */ function mysqlDatabase(name) {\n    return new MySqlSchema(name);\n}\n/**\n * @see mysqlDatabase\n */ const mysqlSchema = mysqlDatabase;\nfunction getTableConfig(table) {\n    const columns = Object.values(table[_view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.h.Symbol.Columns]);\n    const indexes = [];\n    const checks = [];\n    const primaryKeys = [];\n    const uniqueConstraints = [];\n    const foreignKeys = Object.values(table[_view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.h.Symbol.InlineForeignKeys]);\n    const name = table[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.T.Symbol.Name];\n    const schema = table[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.T.Symbol.Schema];\n    const baseName = table[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.T.Symbol.BaseName];\n    const extraConfigBuilder = table[_view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.h.Symbol.ExtraConfigBuilder];\n    if (extraConfigBuilder !== undefined) {\n        const extraConfig = extraConfigBuilder(table[_view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.h.Symbol.Columns]);\n        for (const builder of Object.values(extraConfig)){\n            if ((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.i)(builder, IndexBuilder)) {\n                indexes.push(builder.build(table));\n            } else if ((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.i)(builder, CheckBuilder)) {\n                checks.push(builder.build(table));\n            } else if ((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.i)(builder, _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.U)) {\n                uniqueConstraints.push(builder.build(table));\n            } else if ((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.i)(builder, PrimaryKeyBuilder)) {\n                primaryKeys.push(builder.build(table));\n            } else if ((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.i)(builder, _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.F)) {\n                foreignKeys.push(builder.build(table));\n            }\n        }\n    }\n    return {\n        columns,\n        indexes,\n        foreignKeys,\n        checks,\n        primaryKeys,\n        uniqueConstraints,\n        name,\n        schema,\n        baseName\n    };\n}\nfunction getViewConfig(view) {\n    return {\n        ...view[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.V],\n        ...view[_view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.j]\n    };\n}\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZHJpenpsZS1vcm0vbXlzcWwtY29yZS9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUF5STtBQUN1SztBQUM4VTtBQUU5bkIsTUFBTXFGLDZCQUE2QnhFLGlEQUFtQ0E7O1lBQzNELENBQUNaLGtEQUFVQSxDQUFDLEdBQUc7O0lBQ3RCcUYsWUFBWUMsSUFBSSxDQUFFO1FBQ2QsS0FBSyxDQUFDQSxNQUFNLFVBQVU7SUFDMUI7SUFDQSxjQUFjLEdBQ2RDLE1BQU1DLEtBQUssRUFBRTtRQUNULE9BQU8sSUFBSUMsY0FBY0QsT0FBTyxJQUFJLENBQUNFLE1BQU07SUFDL0M7QUFDSjtBQUNBLE1BQU1ELHNCQUFzQjVFLGlEQUE0QkE7O1lBQzdDLENBQUNiLGtEQUFVQSxDQUFDLEdBQUc7O0lBQ3RCMkYsYUFBYTtRQUNULE9BQU87SUFDWDtJQUNBQyxtQkFBbUJDLEtBQUssRUFBRTtRQUN0QixJQUFJLE9BQU9BLFVBQVUsVUFBVTtZQUMzQixPQUFPQTtRQUNYO1FBQ0EsT0FBT0MsT0FBT0Q7SUFDbEI7QUFDSjtBQUNBLE1BQU1FLDZCQUE2Qm5GLGlEQUFtQ0E7O1lBQzNELENBQUNaLGtEQUFVQSxDQUFDLEdBQUc7O0lBQ3RCcUYsWUFBWUMsSUFBSSxDQUFFO1FBQ2QsS0FBSyxDQUFDQSxNQUFNLFVBQVU7SUFDMUI7SUFDQSxjQUFjLEdBQ2RDLE1BQU1DLEtBQUssRUFBRTtRQUNULE9BQU8sSUFBSVEsY0FBY1IsT0FBTyxJQUFJLENBQUNFLE1BQU07SUFDL0M7QUFDSjtBQUNBLE1BQU1NLHNCQUFzQm5GLGlEQUE0QkE7O1lBQzdDLENBQUNiLGtEQUFVQSxDQUFDLEdBQUc7O0lB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LENBQUM7UUFDdkUsS0FBSyxNQUFNN0IsV0FBVzRCLE9BQU9sRyxNQUFNLENBQUMyRixhQUFjO1lBQzlDLElBQUkxTyxzREFBRUEsQ0FBQ3FOLFNBQVNLLGVBQWU7Z0JBQzNCeUIsUUFBUVcsSUFBSSxDQUFDekMsUUFBUXBJLEtBQUssQ0FBQ0M7WUFDL0IsT0FDSyxJQUFJbEYsc0RBQUVBLENBQUNxTixTQUFTRixlQUFlO2dCQUNoQ2lDLE9BQU9VLElBQUksQ0FBQ3pDLFFBQVFwSSxLQUFLLENBQUNDO1lBQzlCLE9BQ0ssSUFBSWxGLHNEQUFFQSxDQUFDcU4sU0FBU25NLGlEQUF1QkEsR0FBRztnQkFDM0NvTyxrQkFBa0JRLElBQUksQ0FBQ3pDLFFBQVFwSSxLQUFLLENBQUNDO1lBQ3pDLE9BQ0ssSUFBSWxGLHNEQUFFQSxDQUFDcU4sU0FBU2Esb0JBQW9CO2dCQUNyQ21CLFlBQVlTLElBQUksQ0FBQ3pDLFFBQVFwSSxLQUFLLENBQUNDO1lBQ25DLE9BQ0ssSUFBSWxGLHNEQUFFQSxDQUFDcU4sU0FBU2pNLGlEQUFpQkEsR0FBRztnQkFDckNtTyxZQUFZTyxJQUFJLENBQUN6QyxRQUFRcEksS0FBSyxDQUFDQztZQUNuQztRQUNKO0lBQ0o7SUFDQSxPQUFPO1FBQ0h1STtRQUNBMEI7UUFDQUk7UUFDQUg7UUFDQUM7UUFDQUM7UUFDQXRLO1FBQ0F3SztRQUNBRTtJQUNKO0FBQ0o7QUFDQSxTQUFTSyxjQUFjcEIsSUFBSTtJQUN2QixPQUFPO1FBQ0gsR0FBR0EsSUFBSSxDQUFDdk8sa0RBQWNBLENBQUM7UUFDdkIsR0FBR3VPLElBQUksQ0FBQ3JOLGlEQUFlQSxDQUFDO0lBQzVCO0FBQ0o7QUFFc29ELENBQ3RvRCxrQ0FBa0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb20vLi9ub2RlX21vZHVsZXMvZHJpenpsZS1vcm0vbXlzcWwtY29yZS9pbmRleC5tanM/NjY3OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBlIGFzIGVudGl0eUtpbmQsIHMgYXMgc3FsLCBuIGFzIFRhYmxlQWxpYXNQcm94eUhhbmRsZXIsIGkgYXMgaXMsIFQgYXMgVGFibGUsIFYgYXMgVmlld0Jhc2VDb25maWcgfSBmcm9tICcuLi9hbGlhcy1jZjhlMDNjZC5tanMnO1xuaW1wb3J0IHsgZCBhcyBNeVNxbENvbHVtbkJ1aWxkZXJXaXRoQXV0b0luY3JlbWVudCwgZSBhcyBNeVNxbENvbHVtbldpdGhBdXRvSW5jcmVtZW50LCBmIGFzIE15U3FsQ29sdW1uQnVpbGRlciwgZyBhcyBNeVNxbENvbHVtbiwgaCBhcyBNeVNxbFRhYmxlLCBtIGFzIG15c3FsVGFibGVXaXRoU2NoZW1hLCBpIGFzIG15c3FsVmlld1dpdGhTY2hlbWEsIFUgYXMgVW5pcXVlQ29uc3RyYWludEJ1aWxkZXIsIEYgYXMgRm9yZWlnbktleUJ1aWxkZXIsIGogYXMgTXlTcWxWaWV3Q29uZmlnIH0gZnJvbSAnLi4vdmlldy0yMzg5OGYyMS5tanMnO1xuZXhwb3J0IHsgayBhcyBGb3JlaWduS2V5LCBJIGFzIElubGluZUZvcmVpZ25LZXlzLCBDIGFzIE1hbnVhbFZpZXdCdWlsZGVyLCBiIGFzIE15U3FsRGF0YWJhc2UsIG4gYXMgTXlTcWxEZWxldGUsIGMgYXMgTXlTcWxEaWFsZWN0LCBwIGFzIE15U3FsSW5zZXJ0LCBvIGFzIE15U3FsSW5zZXJ0QnVpbGRlciwgcyBhcyBNeVNxbFNlbGVjdCwgcSBhcyBNeVNxbFNlbGVjdEJ1aWxkZXIsIHIgYXMgTXlTcWxTZWxlY3RRdWVyeUJ1aWxkZXIsIE0gYXMgTXlTcWxTZXNzaW9uLCBhIGFzIE15U3FsVHJhbnNhY3Rpb24sIHUgYXMgTXlTcWxVcGRhdGUsIHQgYXMgTXlTcWxVcGRhdGVCdWlsZGVyLCBFIGFzIE15U3FsVmlldywgRCBhcyBNeVNxbFZpZXdCYXNlLCBQIGFzIFByZXBhcmVkUXVlcnksIFEgYXMgUXVlcnlCdWlsZGVyLCBBIGFzIFVuaXF1ZUNvbnN0cmFpbnQsIHogYXMgVW5pcXVlT25Db25zdHJhaW50QnVpbGRlciwgQiBhcyBWaWV3QnVpbGRlciwgViBhcyBWaWV3QnVpbGRlckNvcmUsIGwgYXMgZm9yZWlnbktleSwgdiBhcyBteXNxbFRhYmxlLCB3IGFzIG15c3FsVGFibGVDcmVhdG9yLCBHIGFzIG15c3FsVmlldywgeCBhcyB1bmlxdWUsIHkgYXMgdW5pcXVlS2V5TmFtZSB9IGZyb20gJy4uL3ZpZXctMjM4OThmMjEubWpzJztcblxuY2xhc3MgTXlTcWxCaWdJbnQ1M0J1aWxkZXIgZXh0ZW5kcyBNeVNxbENvbHVtbkJ1aWxkZXJXaXRoQXV0b0luY3JlbWVudCB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbEJpZ0ludDUzQnVpbGRlcic7XG4gICAgY29uc3RydWN0b3IobmFtZSkge1xuICAgICAgICBzdXBlcihuYW1lLCAnbnVtYmVyJywgJ015U3FsQmlnSW50NTMnKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTXlTcWxCaWdJbnQ1Myh0YWJsZSwgdGhpcy5jb25maWcpO1xuICAgIH1cbn1cbmNsYXNzIE15U3FsQmlnSW50NTMgZXh0ZW5kcyBNeVNxbENvbHVtbldpdGhBdXRvSW5jcmVtZW50IHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsQmlnSW50NTMnO1xuICAgIGdldFNRTFR5cGUoKSB7XG4gICAgICAgIHJldHVybiAnYmlnaW50JztcbiAgICB9XG4gICAgbWFwRnJvbURyaXZlclZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE51bWJlcih2YWx1ZSk7XG4gICAgfVxufVxuY2xhc3MgTXlTcWxCaWdJbnQ2NEJ1aWxkZXIgZXh0ZW5kcyBNeVNxbENvbHVtbkJ1aWxkZXJXaXRoQXV0b0luY3JlbWVudCB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbEJpZ0ludDY0QnVpbGRlcic7XG4gICAgY29uc3RydWN0b3IobmFtZSkge1xuICAgICAgICBzdXBlcihuYW1lLCAnYmlnaW50JywgJ015U3FsQmlnSW50NjQnKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTXlTcWxCaWdJbnQ2NCh0YWJsZSwgdGhpcy5jb25maWcpO1xuICAgIH1cbn1cbmNsYXNzIE15U3FsQmlnSW50NjQgZXh0ZW5kcyBNeVNxbENvbHVtbldpdGhBdXRvSW5jcmVtZW50IHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsQmlnSW50NjQnO1xuICAgIGdldFNRTFR5cGUoKSB7XG4gICAgICAgIHJldHVybiAnYmlnaW50JztcbiAgICB9XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHVuaWNvcm4vcHJlZmVyLW5hdGl2ZS1jb2VyY2lvbi1mdW5jdGlvbnNcbiAgICBtYXBGcm9tRHJpdmVyVmFsdWUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIEJpZ0ludCh2YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24gYmlnaW50KG5hbWUsIGNvbmZpZykge1xuICAgIGlmIChjb25maWcubW9kZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNeVNxbEJpZ0ludDUzQnVpbGRlcihuYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBNeVNxbEJpZ0ludDY0QnVpbGRlcihuYW1lKTtcbn1cblxuY2xhc3MgTXlTcWxCaW5hcnlCdWlsZGVyIGV4dGVuZHMgTXlTcWxDb2x1bW5CdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsQmluYXJ5QnVpbGRlcic7XG4gICAgY29uc3RydWN0b3IobmFtZSwgbGVuZ3RoKSB7XG4gICAgICAgIHN1cGVyKG5hbWUsICdzdHJpbmcnLCAnTXlTcWxCaW5hcnknKTtcbiAgICAgICAgdGhpcy5jb25maWcubGVuZ3RoID0gbGVuZ3RoO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNeVNxbEJpbmFyeSh0YWJsZSwgdGhpcy5jb25maWcpO1xuICAgIH1cbn1cbmNsYXNzIE15U3FsQmluYXJ5IGV4dGVuZHMgTXlTcWxDb2x1bW4ge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxCaW5hcnknO1xuICAgIGxlbmd0aCA9IHRoaXMuY29uZmlnLmxlbmd0aDtcbiAgICBnZXRTUUxUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZW5ndGggPT09IHVuZGVmaW5lZCA/IGBiaW5hcnlgIDogYGJpbmFyeSgke3RoaXMubGVuZ3RofSlgO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGJpbmFyeShuYW1lLCBjb25maWcgPSB7fSkge1xuICAgIHJldHVybiBuZXcgTXlTcWxCaW5hcnlCdWlsZGVyKG5hbWUsIGNvbmZpZy5sZW5ndGgpO1xufVxuXG5jbGFzcyBNeVNxbEJvb2xlYW5CdWlsZGVyIGV4dGVuZHMgTXlTcWxDb2x1bW5CdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsQm9vbGVhbkJ1aWxkZXInO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICAgICAgc3VwZXIobmFtZSwgJ2Jvb2xlYW4nLCAnTXlTcWxCb29sZWFuJyk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IE15U3FsQm9vbGVhbih0YWJsZSwgdGhpcy5jb25maWcpO1xuICAgIH1cbn1cbmNsYXNzIE15U3FsQm9vbGVhbiBleHRlbmRzIE15U3FsQ29sdW1uIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsQm9vbGVhbic7XG4gICAgZ2V0U1FMVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuICdib29sZWFuJztcbiAgICB9XG4gICAgbWFwRnJvbURyaXZlclZhbHVlKHZhbHVlKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gMTtcbiAgICB9XG59XG5mdW5jdGlvbiBib29sZWFuKG5hbWUpIHtcbiAgICByZXR1cm4gbmV3IE15U3FsQm9vbGVhbkJ1aWxkZXIobmFtZSk7XG59XG5cbmNsYXNzIE15U3FsQ2hhckJ1aWxkZXIgZXh0ZW5kcyBNeVNxbENvbHVtbkJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxDaGFyQnVpbGRlcic7XG4gICAgY29uc3RydWN0b3IobmFtZSwgY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKG5hbWUsICdzdHJpbmcnLCAnTXlTcWxDaGFyJyk7XG4gICAgICAgIHRoaXMuY29uZmlnLmxlbmd0aCA9IGNvbmZpZy5sZW5ndGg7XG4gICAgICAgIHRoaXMuY29uZmlnLmVudW0gPSBjb25maWcuZW51bTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTXlTcWxDaGFyKHRhYmxlLCB0aGlzLmNvbmZpZyk7XG4gICAgfVxufVxuY2xhc3MgTXlTcWxDaGFyIGV4dGVuZHMgTXlTcWxDb2x1bW4ge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxDaGFyJztcbiAgICBsZW5ndGggPSB0aGlzLmNvbmZpZy5sZW5ndGg7XG4gICAgZW51bVZhbHVlcyA9IHRoaXMuY29uZmlnLmVudW07XG4gICAgZ2V0U1FMVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoID09PSB1bmRlZmluZWQgPyBgY2hhcmAgOiBgY2hhcigke3RoaXMubGVuZ3RofSlgO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNoYXIobmFtZSwgY29uZmlnID0ge30pIHtcbiAgICByZXR1cm4gbmV3IE15U3FsQ2hhckJ1aWxkZXIobmFtZSwgY29uZmlnKTtcbn1cblxuY2xhc3MgTXlTcWxDdXN0b21Db2x1bW5CdWlsZGVyIGV4dGVuZHMgTXlTcWxDb2x1bW5CdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsQ3VzdG9tQ29sdW1uQnVpbGRlcic7XG4gICAgY29uc3RydWN0b3IobmFtZSwgZmllbGRDb25maWcsIGN1c3RvbVR5cGVQYXJhbXMpIHtcbiAgICAgICAgc3VwZXIobmFtZSwgJ2N1c3RvbScsICdNeVNxbEN1c3RvbUNvbHVtbicpO1xuICAgICAgICB0aGlzLmNvbmZpZy5maWVsZENvbmZpZyA9IGZpZWxkQ29uZmlnO1xuICAgICAgICB0aGlzLmNvbmZpZy5jdXN0b21UeXBlUGFyYW1zID0gY3VzdG9tVHlwZVBhcmFtcztcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTXlTcWxDdXN0b21Db2x1bW4odGFibGUsIHRoaXMuY29uZmlnKTtcbiAgICB9XG59XG5jbGFzcyBNeVNxbEN1c3RvbUNvbHVtbiBleHRlbmRzIE15U3FsQ29sdW1uIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsQ3VzdG9tQ29sdW1uJztcbiAgICBzcWxOYW1lO1xuICAgIG1hcFRvO1xuICAgIG1hcEZyb207XG4gICAgY29uc3RydWN0b3IodGFibGUsIGNvbmZpZykge1xuICAgICAgICBzdXBlcih0YWJsZSwgY29uZmlnKTtcbiAgICAgICAgdGhpcy5zcWxOYW1lID0gY29uZmlnLmN1c3RvbVR5cGVQYXJhbXMuZGF0YVR5cGUoY29uZmlnLmZpZWxkQ29uZmlnKTtcbiAgICAgICAgdGhpcy5tYXBUbyA9IGNvbmZpZy5jdXN0b21UeXBlUGFyYW1zLnRvRHJpdmVyO1xuICAgICAgICB0aGlzLm1hcEZyb20gPSBjb25maWcuY3VzdG9tVHlwZVBhcmFtcy5mcm9tRHJpdmVyO1xuICAgIH1cbiAgICBnZXRTUUxUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zcWxOYW1lO1xuICAgIH1cbiAgICBtYXBGcm9tRHJpdmVyVmFsdWUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLm1hcEZyb20gPT09ICdmdW5jdGlvbicgPyB0aGlzLm1hcEZyb20odmFsdWUpIDogdmFsdWU7XG4gICAgfVxuICAgIG1hcFRvRHJpdmVyVmFsdWUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB0aGlzLm1hcFRvID09PSAnZnVuY3Rpb24nID8gdGhpcy5tYXBUbyh2YWx1ZSkgOiB2YWx1ZTtcbiAgICB9XG59XG4vKipcbiAqIEN1c3RvbSBteXNxbCBkYXRhYmFzZSBkYXRhIHR5cGUgZ2VuZXJhdG9yXG4gKi9cbmZ1bmN0aW9uIGN1c3RvbVR5cGUoY3VzdG9tVHlwZVBhcmFtcykge1xuICAgIHJldHVybiAoZGJOYW1lLCBmaWVsZENvbmZpZykgPT4ge1xuICAgICAgICByZXR1cm4gbmV3IE15U3FsQ3VzdG9tQ29sdW1uQnVpbGRlcihkYk5hbWUsIGZpZWxkQ29uZmlnLCBjdXN0b21UeXBlUGFyYW1zKTtcbiAgICB9O1xufVxuXG5jbGFzcyBNeVNxbERhdGVCdWlsZGVyIGV4dGVuZHMgTXlTcWxDb2x1bW5CdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsRGF0ZUJ1aWxkZXInO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICAgICAgc3VwZXIobmFtZSwgJ2RhdGUnLCAnTXlTcWxEYXRlJyk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IE15U3FsRGF0ZSh0YWJsZSwgdGhpcy5jb25maWcpO1xuICAgIH1cbn1cbmNsYXNzIE15U3FsRGF0ZSBleHRlbmRzIE15U3FsQ29sdW1uIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsRGF0ZSc7XG4gICAgY29uc3RydWN0b3IodGFibGUsIGNvbmZpZykge1xuICAgICAgICBzdXBlcih0YWJsZSwgY29uZmlnKTtcbiAgICB9XG4gICAgZ2V0U1FMVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIGBkYXRlYDtcbiAgICB9XG4gICAgbWFwRnJvbURyaXZlclZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh2YWx1ZSk7XG4gICAgfVxufVxuY2xhc3MgTXlTcWxEYXRlU3RyaW5nQnVpbGRlciBleHRlbmRzIE15U3FsQ29sdW1uQnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbERhdGVTdHJpbmdCdWlsZGVyJztcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHN1cGVyKG5hbWUsICdzdHJpbmcnLCAnTXlTcWxEYXRlU3RyaW5nJyk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IE15U3FsRGF0ZVN0cmluZyh0YWJsZSwgdGhpcy5jb25maWcpO1xuICAgIH1cbn1cbmNsYXNzIE15U3FsRGF0ZVN0cmluZyBleHRlbmRzIE15U3FsQ29sdW1uIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsRGF0ZVN0cmluZyc7XG4gICAgY29uc3RydWN0b3IodGFibGUsIGNvbmZpZykge1xuICAgICAgICBzdXBlcih0YWJsZSwgY29uZmlnKTtcbiAgICB9XG4gICAgZ2V0U1FMVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIGBkYXRlYDtcbiAgICB9XG59XG5mdW5jdGlvbiBkYXRlKG5hbWUsIGNvbmZpZyA9IHt9KSB7XG4gICAgaWYgKGNvbmZpZy5tb2RlID09PSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gbmV3IE15U3FsRGF0ZVN0cmluZ0J1aWxkZXIobmFtZSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgTXlTcWxEYXRlQnVpbGRlcihuYW1lKTtcbn1cblxuY2xhc3MgTXlTcWxEYXRlVGltZUJ1aWxkZXIgZXh0ZW5kcyBNeVNxbENvbHVtbkJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxEYXRlVGltZUJ1aWxkZXInO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGNvbmZpZykge1xuICAgICAgICBzdXBlcihuYW1lLCAnZGF0ZScsICdNeVNxbERhdGVUaW1lJyk7XG4gICAgICAgIHRoaXMuY29uZmlnLmZzcCA9IGNvbmZpZz8uZnNwO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNeVNxbERhdGVUaW1lKHRhYmxlLCB0aGlzLmNvbmZpZyk7XG4gICAgfVxufVxuY2xhc3MgTXlTcWxEYXRlVGltZSBleHRlbmRzIE15U3FsQ29sdW1uIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsRGF0ZVRpbWUnO1xuICAgIGZzcDtcbiAgICBjb25zdHJ1Y3Rvcih0YWJsZSwgY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKHRhYmxlLCBjb25maWcpO1xuICAgICAgICB0aGlzLmZzcCA9IGNvbmZpZy5mc3A7XG4gICAgfVxuICAgIGdldFNRTFR5cGUoKSB7XG4gICAgICAgIGNvbnN0IHByZWNpc2lvbiA9IHRoaXMuZnNwID09PSB1bmRlZmluZWQgPyAnJyA6IGAoJHt0aGlzLmZzcH0pYDtcbiAgICAgICAgcmV0dXJuIGBkYXRldGltZSR7cHJlY2lzaW9ufWA7XG4gICAgfVxuICAgIG1hcFRvRHJpdmVyVmFsdWUodmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlLnRvSVNPU3RyaW5nKCkucmVwbGFjZSgnVCcsICcgJykucmVwbGFjZSgnWicsICcnKTtcbiAgICB9XG4gICAgbWFwRnJvbURyaXZlclZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZSh2YWx1ZS5yZXBsYWNlKCcgJywgJ1QnKSArICdaJyk7XG4gICAgfVxufVxuY2xhc3MgTXlTcWxEYXRlVGltZVN0cmluZ0J1aWxkZXIgZXh0ZW5kcyBNeVNxbENvbHVtbkJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxEYXRlVGltZVN0cmluZ0J1aWxkZXInO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGNvbmZpZykge1xuICAgICAgICBzdXBlcihuYW1lLCAnc3RyaW5nJywgJ015U3FsRGF0ZVRpbWVTdHJpbmcnKTtcbiAgICAgICAgdGhpcy5jb25maWcuZnNwID0gY29uZmlnPy5mc3A7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IE15U3FsRGF0ZVRpbWVTdHJpbmcodGFibGUsIHRoaXMuY29uZmlnKTtcbiAgICB9XG59XG5jbGFzcyBNeVNxbERhdGVUaW1lU3RyaW5nIGV4dGVuZHMgTXlTcWxDb2x1bW4ge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxEYXRlVGltZVN0cmluZyc7XG4gICAgZnNwO1xuICAgIGNvbnN0cnVjdG9yKHRhYmxlLCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIodGFibGUsIGNvbmZpZyk7XG4gICAgICAgIHRoaXMuZnNwID0gY29uZmlnLmZzcDtcbiAgICB9XG4gICAgZ2V0U1FMVHlwZSgpIHtcbiAgICAgICAgY29uc3QgcHJlY2lzaW9uID0gdGhpcy5mc3AgPT09IHVuZGVmaW5lZCA/ICcnIDogYCgke3RoaXMuZnNwfSlgO1xuICAgICAgICByZXR1cm4gYGRhdGV0aW1lJHtwcmVjaXNpb259YDtcbiAgICB9XG59XG5mdW5jdGlvbiBkYXRldGltZShuYW1lLCBjb25maWcgPSB7fSkge1xuICAgIGlmIChjb25maWcubW9kZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNeVNxbERhdGVUaW1lU3RyaW5nQnVpbGRlcihuYW1lLCBjb25maWcpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IE15U3FsRGF0ZVRpbWVCdWlsZGVyKG5hbWUsIGNvbmZpZyk7XG59XG5cbmNsYXNzIE15U3FsRGVjaW1hbEJ1aWxkZXIgZXh0ZW5kcyBNeVNxbENvbHVtbkJ1aWxkZXJXaXRoQXV0b0luY3JlbWVudCB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbERlY2ltYWxCdWlsZGVyJztcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBwcmVjaXNpb24sIHNjYWxlKSB7XG4gICAgICAgIHN1cGVyKG5hbWUsICdzdHJpbmcnLCAnTXlTcWxEZWNpbWFsJyk7XG4gICAgICAgIHRoaXMuY29uZmlnLnByZWNpc2lvbiA9IHByZWNpc2lvbjtcbiAgICAgICAgdGhpcy5jb25maWcuc2NhbGUgPSBzY2FsZTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTXlTcWxEZWNpbWFsKHRhYmxlLCB0aGlzLmNvbmZpZyk7XG4gICAgfVxufVxuY2xhc3MgTXlTcWxEZWNpbWFsIGV4dGVuZHMgTXlTcWxDb2x1bW5XaXRoQXV0b0luY3JlbWVudCB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbERlY2ltYWwnO1xuICAgIHByZWNpc2lvbiA9IHRoaXMuY29uZmlnLnByZWNpc2lvbjtcbiAgICBzY2FsZSA9IHRoaXMuY29uZmlnLnNjYWxlO1xuICAgIGdldFNRTFR5cGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnByZWNpc2lvbiAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc2NhbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGBkZWNpbWFsKCR7dGhpcy5wcmVjaXNpb259LCR7dGhpcy5zY2FsZX0pYDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLnByZWNpc2lvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gJ2RlY2ltYWwnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGBkZWNpbWFsKCR7dGhpcy5wcmVjaXNpb259KWA7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBkZWNpbWFsKG5hbWUsIGNvbmZpZyA9IHt9KSB7XG4gICAgcmV0dXJuIG5ldyBNeVNxbERlY2ltYWxCdWlsZGVyKG5hbWUsIGNvbmZpZy5wcmVjaXNpb24sIGNvbmZpZy5zY2FsZSk7XG59XG5cbmNsYXNzIE15U3FsRG91YmxlQnVpbGRlciBleHRlbmRzIE15U3FsQ29sdW1uQnVpbGRlcldpdGhBdXRvSW5jcmVtZW50IHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsRG91YmxlQnVpbGRlcic7XG4gICAgY29uc3RydWN0b3IobmFtZSwgY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKG5hbWUsICdudW1iZXInLCAnTXlTcWxEb3VibGUnKTtcbiAgICAgICAgdGhpcy5jb25maWcucHJlY2lzaW9uID0gY29uZmlnPy5wcmVjaXNpb247XG4gICAgICAgIHRoaXMuY29uZmlnLnNjYWxlID0gY29uZmlnPy5zY2FsZTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTXlTcWxEb3VibGUodGFibGUsIHRoaXMuY29uZmlnKTtcbiAgICB9XG59XG5jbGFzcyBNeVNxbERvdWJsZSBleHRlbmRzIE15U3FsQ29sdW1uV2l0aEF1dG9JbmNyZW1lbnQge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxEb3VibGUnO1xuICAgIHByZWNpc2lvbiA9IHRoaXMuY29uZmlnLnByZWNpc2lvbjtcbiAgICBzY2FsZSA9IHRoaXMuY29uZmlnLnNjYWxlO1xuICAgIGdldFNRTFR5cGUoKSB7XG4gICAgICAgIGlmICh0aGlzLnByZWNpc2lvbiAhPT0gdW5kZWZpbmVkICYmIHRoaXMuc2NhbGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGBkb3VibGUoJHt0aGlzLnByZWNpc2lvbn0sJHt0aGlzLnNjYWxlfSlgO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucHJlY2lzaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAnZG91YmxlJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBgZG91YmxlKCR7dGhpcy5wcmVjaXNpb259KWA7XG4gICAgICAgIH1cbiAgICB9XG59XG5mdW5jdGlvbiBkb3VibGUobmFtZSwgY29uZmlnKSB7XG4gICAgcmV0dXJuIG5ldyBNeVNxbERvdWJsZUJ1aWxkZXIobmFtZSwgY29uZmlnKTtcbn1cblxuY2xhc3MgTXlTcWxFbnVtQ29sdW1uQnVpbGRlciBleHRlbmRzIE15U3FsQ29sdW1uQnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbEVudW1Db2x1bW5CdWlsZGVyJztcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCB2YWx1ZXMpIHtcbiAgICAgICAgc3VwZXIobmFtZSwgJ3N0cmluZycsICdNeVNxbEVudW1Db2x1bW4nKTtcbiAgICAgICAgdGhpcy5jb25maWcuZW51bVZhbHVlcyA9IHZhbHVlcztcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTXlTcWxFbnVtQ29sdW1uKHRhYmxlLCB0aGlzLmNvbmZpZyk7XG4gICAgfVxufVxuY2xhc3MgTXlTcWxFbnVtQ29sdW1uIGV4dGVuZHMgTXlTcWxDb2x1bW4ge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxFbnVtQ29sdW1uJztcbiAgICBlbnVtVmFsdWVzID0gdGhpcy5jb25maWcuZW51bVZhbHVlcztcbiAgICBnZXRTUUxUeXBlKCkge1xuICAgICAgICByZXR1cm4gYGVudW0oJHt0aGlzLmVudW1WYWx1ZXMubWFwKCh2YWx1ZSkgPT4gYCcke3ZhbHVlfSdgKS5qb2luKCcsJyl9KWA7XG4gICAgfVxufVxuZnVuY3Rpb24gbXlzcWxFbnVtKG5hbWUsIHZhbHVlcykge1xuICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgWW91IGhhdmUgYW4gZW1wdHkgYXJyYXkgZm9yIFwiJHtuYW1lfVwiIGVudW0gdmFsdWVzYCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgTXlTcWxFbnVtQ29sdW1uQnVpbGRlcihuYW1lLCB2YWx1ZXMpO1xufVxuXG5jbGFzcyBNeVNxbEZsb2F0QnVpbGRlciBleHRlbmRzIE15U3FsQ29sdW1uQnVpbGRlcldpdGhBdXRvSW5jcmVtZW50IHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsRmxvYXRCdWlsZGVyJztcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHN1cGVyKG5hbWUsICdudW1iZXInLCAnTXlTcWxGbG9hdCcpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNeVNxbEZsb2F0KHRhYmxlLCB0aGlzLmNvbmZpZyk7XG4gICAgfVxufVxuY2xhc3MgTXlTcWxGbG9hdCBleHRlbmRzIE15U3FsQ29sdW1uV2l0aEF1dG9JbmNyZW1lbnQge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxGbG9hdCc7XG4gICAgZ2V0U1FMVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuICdmbG9hdCc7XG4gICAgfVxufVxuZnVuY3Rpb24gZmxvYXQobmFtZSkge1xuICAgIHJldHVybiBuZXcgTXlTcWxGbG9hdEJ1aWxkZXIobmFtZSk7XG59XG5cbmNsYXNzIE15U3FsSW50QnVpbGRlciBleHRlbmRzIE15U3FsQ29sdW1uQnVpbGRlcldpdGhBdXRvSW5jcmVtZW50IHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsSW50QnVpbGRlcic7XG4gICAgY29uc3RydWN0b3IobmFtZSkge1xuICAgICAgICBzdXBlcihuYW1lLCAnbnVtYmVyJywgJ015U3FsSW50Jyk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IE15U3FsSW50KHRhYmxlLCB0aGlzLmNvbmZpZyk7XG4gICAgfVxufVxuY2xhc3MgTXlTcWxJbnQgZXh0ZW5kcyBNeVNxbENvbHVtbldpdGhBdXRvSW5jcmVtZW50IHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsSW50JztcbiAgICBnZXRTUUxUeXBlKCkge1xuICAgICAgICByZXR1cm4gJ2ludCc7XG4gICAgfVxuICAgIG1hcEZyb21Ecml2ZXJWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlcih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGludChuYW1lKSB7XG4gICAgcmV0dXJuIG5ldyBNeVNxbEludEJ1aWxkZXIobmFtZSk7XG59XG5cbmNsYXNzIE15U3FsSnNvbkJ1aWxkZXIgZXh0ZW5kcyBNeVNxbENvbHVtbkJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxKc29uQnVpbGRlcic7XG4gICAgY29uc3RydWN0b3IobmFtZSkge1xuICAgICAgICBzdXBlcihuYW1lLCAnanNvbicsICdNeVNxbEpzb24nKTtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTXlTcWxKc29uKHRhYmxlLCB0aGlzLmNvbmZpZyk7XG4gICAgfVxufVxuY2xhc3MgTXlTcWxKc29uIGV4dGVuZHMgTXlTcWxDb2x1bW4ge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxKc29uJztcbiAgICBnZXRTUUxUeXBlKCkge1xuICAgICAgICByZXR1cm4gJ2pzb24nO1xuICAgIH1cbiAgICBtYXBUb0RyaXZlclZhbHVlKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeSh2YWx1ZSk7XG4gICAgfVxufVxuZnVuY3Rpb24ganNvbihuYW1lKSB7XG4gICAgcmV0dXJuIG5ldyBNeVNxbEpzb25CdWlsZGVyKG5hbWUpO1xufVxuXG5jbGFzcyBNeVNxbE1lZGl1bUludEJ1aWxkZXIgZXh0ZW5kcyBNeVNxbENvbHVtbkJ1aWxkZXJXaXRoQXV0b0luY3JlbWVudCB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbE1lZGl1bUludEJ1aWxkZXInO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUpIHtcbiAgICAgICAgc3VwZXIobmFtZSwgJ251bWJlcicsICdNeVNxbE1lZGl1bUludCcpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNeVNxbE1lZGl1bUludCh0YWJsZSwgdGhpcy5jb25maWcpO1xuICAgIH1cbn1cbmNsYXNzIE15U3FsTWVkaXVtSW50IGV4dGVuZHMgTXlTcWxDb2x1bW5XaXRoQXV0b0luY3JlbWVudCB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbE1lZGl1bUludCc7XG4gICAgZ2V0U1FMVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuICdtZWRpdW1pbnQnO1xuICAgIH1cbiAgICBtYXBGcm9tRHJpdmVyVmFsdWUodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBtZWRpdW1pbnQobmFtZSkge1xuICAgIHJldHVybiBuZXcgTXlTcWxNZWRpdW1JbnRCdWlsZGVyKG5hbWUpO1xufVxuXG5jbGFzcyBNeVNxbFJlYWxCdWlsZGVyIGV4dGVuZHMgTXlTcWxDb2x1bW5CdWlsZGVyV2l0aEF1dG9JbmNyZW1lbnQge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxSZWFsQnVpbGRlcic7XG4gICAgY29uc3RydWN0b3IobmFtZSwgY29uZmlnKSB7XG4gICAgICAgIHN1cGVyKG5hbWUsICdudW1iZXInLCAnTXlTcWxSZWFsJyk7XG4gICAgICAgIHRoaXMuY29uZmlnLnByZWNpc2lvbiA9IGNvbmZpZz8ucHJlY2lzaW9uO1xuICAgICAgICB0aGlzLmNvbmZpZy5zY2FsZSA9IGNvbmZpZz8uc2NhbGU7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IE15U3FsUmVhbCh0YWJsZSwgdGhpcy5jb25maWcpO1xuICAgIH1cbn1cbmNsYXNzIE15U3FsUmVhbCBleHRlbmRzIE15U3FsQ29sdW1uV2l0aEF1dG9JbmNyZW1lbnQge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxSZWFsJztcbiAgICBwcmVjaXNpb24gPSB0aGlzLmNvbmZpZy5wcmVjaXNpb247XG4gICAgc2NhbGUgPSB0aGlzLmNvbmZpZy5zY2FsZTtcbiAgICBnZXRTUUxUeXBlKCkge1xuICAgICAgICBpZiAodGhpcy5wcmVjaXNpb24gIT09IHVuZGVmaW5lZCAmJiB0aGlzLnNjYWxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBgcmVhbCgke3RoaXMucHJlY2lzaW9ufSwgJHt0aGlzLnNjYWxlfSlgO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHRoaXMucHJlY2lzaW9uID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiAncmVhbCc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYHJlYWwoJHt0aGlzLnByZWNpc2lvbn0pYDtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHJlYWwobmFtZSwgY29uZmlnID0ge30pIHtcbiAgICByZXR1cm4gbmV3IE15U3FsUmVhbEJ1aWxkZXIobmFtZSwgY29uZmlnKTtcbn1cblxuY2xhc3MgTXlTcWxTZXJpYWxCdWlsZGVyIGV4dGVuZHMgTXlTcWxDb2x1bW5CdWlsZGVyV2l0aEF1dG9JbmNyZW1lbnQge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxTZXJpYWxCdWlsZGVyJztcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHN1cGVyKG5hbWUsICdudW1iZXInLCAnTXlTcWxTZXJpYWwnKTtcbiAgICAgICAgdGhpcy5jb25maWcuaGFzRGVmYXVsdCA9IHRydWU7XG4gICAgICAgIHRoaXMuY29uZmlnLmF1dG9JbmNyZW1lbnQgPSB0cnVlO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNeVNxbFNlcmlhbCh0YWJsZSwgdGhpcy5jb25maWcpO1xuICAgIH1cbn1cbmNsYXNzIE15U3FsU2VyaWFsIGV4dGVuZHMgTXlTcWxDb2x1bW5XaXRoQXV0b0luY3JlbWVudCB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbFNlcmlhbCc7XG4gICAgZ2V0U1FMVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuICdzZXJpYWwnO1xuICAgIH1cbiAgICBtYXBGcm9tRHJpdmVyVmFsdWUodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBzZXJpYWwobmFtZSkge1xuICAgIHJldHVybiBuZXcgTXlTcWxTZXJpYWxCdWlsZGVyKG5hbWUpO1xufVxuXG5jbGFzcyBNeVNxbFNtYWxsSW50QnVpbGRlciBleHRlbmRzIE15U3FsQ29sdW1uQnVpbGRlcldpdGhBdXRvSW5jcmVtZW50IHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsU21hbGxJbnRCdWlsZGVyJztcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHN1cGVyKG5hbWUsICdudW1iZXInLCAnTXlTcWxTbWFsbEludCcpO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNeVNxbFNtYWxsSW50KHRhYmxlLCB0aGlzLmNvbmZpZyk7XG4gICAgfVxufVxuY2xhc3MgTXlTcWxTbWFsbEludCBleHRlbmRzIE15U3FsQ29sdW1uV2l0aEF1dG9JbmNyZW1lbnQge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxTbWFsbEludCc7XG4gICAgZ2V0U1FMVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuICdzbWFsbGludCc7XG4gICAgfVxuICAgIG1hcEZyb21Ecml2ZXJWYWx1ZSh2YWx1ZSkge1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlcih2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHNtYWxsaW50KG5hbWUpIHtcbiAgICByZXR1cm4gbmV3IE15U3FsU21hbGxJbnRCdWlsZGVyKG5hbWUpO1xufVxuXG5jbGFzcyBNeVNxbFRleHRCdWlsZGVyIGV4dGVuZHMgTXlTcWxDb2x1bW5CdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsVGV4dEJ1aWxkZXInO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHRleHRUeXBlLCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIobmFtZSwgJ3N0cmluZycsICdNeVNxbFRleHQnKTtcbiAgICAgICAgdGhpcy5jb25maWcudGV4dFR5cGUgPSB0ZXh0VHlwZTtcbiAgICAgICAgdGhpcy5jb25maWcuZW51bVZhbHVlcyA9IGNvbmZpZy5lbnVtO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNeVNxbFRleHQodGFibGUsIHRoaXMuY29uZmlnKTtcbiAgICB9XG59XG5jbGFzcyBNeVNxbFRleHQgZXh0ZW5kcyBNeVNxbENvbHVtbiB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbFRleHQnO1xuICAgIHRleHRUeXBlID0gdGhpcy5jb25maWcudGV4dFR5cGU7XG4gICAgZW51bVZhbHVlcyA9IHRoaXMuY29uZmlnLmVudW1WYWx1ZXM7XG4gICAgZ2V0U1FMVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGV4dFR5cGU7XG4gICAgfVxufVxuZnVuY3Rpb24gdGV4dChuYW1lLCBjb25maWcgPSB7fSkge1xuICAgIHJldHVybiBuZXcgTXlTcWxUZXh0QnVpbGRlcihuYW1lLCAndGV4dCcsIGNvbmZpZyk7XG59XG5mdW5jdGlvbiB0aW55dGV4dChuYW1lLCBjb25maWcgPSB7fSkge1xuICAgIHJldHVybiBuZXcgTXlTcWxUZXh0QnVpbGRlcihuYW1lLCAndGlueXRleHQnLCBjb25maWcpO1xufVxuZnVuY3Rpb24gbWVkaXVtdGV4dChuYW1lLCBjb25maWcgPSB7fSkge1xuICAgIHJldHVybiBuZXcgTXlTcWxUZXh0QnVpbGRlcihuYW1lLCAnbWVkaXVtdGV4dCcsIGNvbmZpZyk7XG59XG5mdW5jdGlvbiBsb25ndGV4dChuYW1lLCBjb25maWcgPSB7fSkge1xuICAgIHJldHVybiBuZXcgTXlTcWxUZXh0QnVpbGRlcihuYW1lLCAnbG9uZ3RleHQnLCBjb25maWcpO1xufVxuXG5jbGFzcyBNeVNxbFRpbWVCdWlsZGVyIGV4dGVuZHMgTXlTcWxDb2x1bW5CdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsVGltZUJ1aWxkZXInO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIGNvbmZpZykge1xuICAgICAgICBzdXBlcihuYW1lLCAnc3RyaW5nJywgJ015U3FsVGltZScpO1xuICAgICAgICB0aGlzLmNvbmZpZy5mc3AgPSBjb25maWc/LmZzcDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTXlTcWxUaW1lKHRhYmxlLCB0aGlzLmNvbmZpZyk7XG4gICAgfVxufVxuY2xhc3MgTXlTcWxUaW1lIGV4dGVuZHMgTXlTcWxDb2x1bW4ge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxUaW1lJztcbiAgICBmc3AgPSB0aGlzLmNvbmZpZy5mc3A7XG4gICAgZ2V0U1FMVHlwZSgpIHtcbiAgICAgICAgY29uc3QgcHJlY2lzaW9uID0gdGhpcy5mc3AgPT09IHVuZGVmaW5lZCA/ICcnIDogYCgke3RoaXMuZnNwfSlgO1xuICAgICAgICByZXR1cm4gYHRpbWUke3ByZWNpc2lvbn1gO1xuICAgIH1cbn1cbmZ1bmN0aW9uIHRpbWUobmFtZSwgY29uZmlnKSB7XG4gICAgcmV0dXJuIG5ldyBNeVNxbFRpbWVCdWlsZGVyKG5hbWUsIGNvbmZpZyk7XG59XG5cbmNsYXNzIE15U3FsRGF0ZUNvbHVtbkJhc2VCdWlsZGVyIGV4dGVuZHMgTXlTcWxDb2x1bW5CdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsRGF0ZUNvbHVtbkJ1aWxkZXInO1xuICAgIGRlZmF1bHROb3coKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHQoc3FsIGAobm93KCkpYCk7XG4gICAgfVxuICAgIC8vIFwib24gdXBkYXRlIG5vd1wiIGFsc28gYWRkcyBhbiBpbXBsaWNpdCBkZWZhdWx0IHZhbHVlIHRvIHRoZSBjb2x1bW4gLSBodHRwczovL2Rldi5teXNxbC5jb20vZG9jL3JlZm1hbi84LjAvZW4vdGltZXN0YW1wLWluaXRpYWxpemF0aW9uLmh0bWxcbiAgICBvblVwZGF0ZU5vdygpIHtcbiAgICAgICAgdGhpcy5jb25maWcuaGFzT25VcGRhdGVOb3cgPSB0cnVlO1xuICAgICAgICB0aGlzLmNvbmZpZy5oYXNEZWZhdWx0ID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuY2xhc3MgTXlTcWxEYXRlQmFzZUNvbHVtbiBleHRlbmRzIE15U3FsQ29sdW1uIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsRGF0ZUNvbHVtbic7XG4gICAgaGFzT25VcGRhdGVOb3cgPSB0aGlzLmNvbmZpZy5oYXNPblVwZGF0ZU5vdztcbn1cblxuY2xhc3MgTXlTcWxUaW1lc3RhbXBCdWlsZGVyIGV4dGVuZHMgTXlTcWxEYXRlQ29sdW1uQmFzZUJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxUaW1lc3RhbXBCdWlsZGVyJztcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIobmFtZSwgJ2RhdGUnLCAnTXlTcWxUaW1lc3RhbXAnKTtcbiAgICAgICAgdGhpcy5jb25maWcuZnNwID0gY29uZmlnPy5mc3A7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IE15U3FsVGltZXN0YW1wKHRhYmxlLCB0aGlzLmNvbmZpZyk7XG4gICAgfVxufVxuY2xhc3MgTXlTcWxUaW1lc3RhbXAgZXh0ZW5kcyBNeVNxbERhdGVCYXNlQ29sdW1uIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsVGltZXN0YW1wJztcbiAgICBmc3AgPSB0aGlzLmNvbmZpZy5mc3A7XG4gICAgZ2V0U1FMVHlwZSgpIHtcbiAgICAgICAgY29uc3QgcHJlY2lzaW9uID0gdGhpcy5mc3AgPT09IHVuZGVmaW5lZCA/ICcnIDogYCgke3RoaXMuZnNwfSlgO1xuICAgICAgICByZXR1cm4gYHRpbWVzdGFtcCR7cHJlY2lzaW9ufWA7XG4gICAgfVxuICAgIG1hcEZyb21Ecml2ZXJWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUodmFsdWUgKyAnKzAwMDAnKTtcbiAgICB9XG4gICAgbWFwVG9Ecml2ZXJWYWx1ZSh2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUudG9JU09TdHJpbmcoKS5zbGljZSgwLCAtMSkucmVwbGFjZSgnVCcsICcgJyk7XG4gICAgfVxufVxuY2xhc3MgTXlTcWxUaW1lc3RhbXBTdHJpbmdCdWlsZGVyIGV4dGVuZHMgTXlTcWxEYXRlQ29sdW1uQmFzZUJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxUaW1lc3RhbXBTdHJpbmdCdWlsZGVyJztcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIobmFtZSwgJ3N0cmluZycsICdNeVNxbFRpbWVzdGFtcFN0cmluZycpO1xuICAgICAgICB0aGlzLmNvbmZpZy5mc3AgPSBjb25maWc/LmZzcDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTXlTcWxUaW1lc3RhbXBTdHJpbmcodGFibGUsIHRoaXMuY29uZmlnKTtcbiAgICB9XG59XG5jbGFzcyBNeVNxbFRpbWVzdGFtcFN0cmluZyBleHRlbmRzIE15U3FsRGF0ZUJhc2VDb2x1bW4ge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxUaW1lc3RhbXBTdHJpbmcnO1xuICAgIGZzcCA9IHRoaXMuY29uZmlnLmZzcDtcbiAgICBnZXRTUUxUeXBlKCkge1xuICAgICAgICBjb25zdCBwcmVjaXNpb24gPSB0aGlzLmZzcCA9PT0gdW5kZWZpbmVkID8gJycgOiBgKCR7dGhpcy5mc3B9KWA7XG4gICAgICAgIHJldHVybiBgdGltZXN0YW1wJHtwcmVjaXNpb259YDtcbiAgICB9XG59XG5mdW5jdGlvbiB0aW1lc3RhbXAobmFtZSwgY29uZmlnID0ge30pIHtcbiAgICBpZiAoY29uZmlnLm1vZGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBuZXcgTXlTcWxUaW1lc3RhbXBTdHJpbmdCdWlsZGVyKG5hbWUsIGNvbmZpZyk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgTXlTcWxUaW1lc3RhbXBCdWlsZGVyKG5hbWUsIGNvbmZpZyk7XG59XG5cbmNsYXNzIE15U3FsVGlueUludEJ1aWxkZXIgZXh0ZW5kcyBNeVNxbENvbHVtbkJ1aWxkZXJXaXRoQXV0b0luY3JlbWVudCB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbFRpbnlJbnRCdWlsZGVyJztcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHN1cGVyKG5hbWUsICdudW1iZXInLCAnTXlTcWxUaW55SW50Jyk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IE15U3FsVGlueUludCh0YWJsZSwgdGhpcy5jb25maWcpO1xuICAgIH1cbn1cbmNsYXNzIE15U3FsVGlueUludCBleHRlbmRzIE15U3FsQ29sdW1uV2l0aEF1dG9JbmNyZW1lbnQge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxUaW55SW50JztcbiAgICBnZXRTUUxUeXBlKCkge1xuICAgICAgICByZXR1cm4gJ3RpbnlpbnQnO1xuICAgIH1cbiAgICBtYXBGcm9tRHJpdmVyVmFsdWUodmFsdWUpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBOdW1iZXIodmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiB0aW55aW50KG5hbWUpIHtcbiAgICByZXR1cm4gbmV3IE15U3FsVGlueUludEJ1aWxkZXIobmFtZSk7XG59XG5cbmNsYXNzIE15U3FsVmFyQmluYXJ5QnVpbGRlciBleHRlbmRzIE15U3FsQ29sdW1uQnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbFZhckJpbmFyeUJ1aWxkZXInO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIobmFtZSwgJ3N0cmluZycsICdNeVNxbFZhckJpbmFyeScpO1xuICAgICAgICB0aGlzLmNvbmZpZy5sZW5ndGggPSBjb25maWc/Lmxlbmd0aDtcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTXlTcWxWYXJCaW5hcnkodGFibGUsIHRoaXMuY29uZmlnKTtcbiAgICB9XG59XG5jbGFzcyBNeVNxbFZhckJpbmFyeSBleHRlbmRzIE15U3FsQ29sdW1uIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsVmFyQmluYXJ5JztcbiAgICBsZW5ndGggPSB0aGlzLmNvbmZpZy5sZW5ndGg7XG4gICAgZ2V0U1FMVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubGVuZ3RoID09PSB1bmRlZmluZWQgPyBgdmFyYmluYXJ5YCA6IGB2YXJiaW5hcnkoJHt0aGlzLmxlbmd0aH0pYDtcbiAgICB9XG59XG5mdW5jdGlvbiB2YXJiaW5hcnkobmFtZSwgb3B0aW9ucykge1xuICAgIHJldHVybiBuZXcgTXlTcWxWYXJCaW5hcnlCdWlsZGVyKG5hbWUsIG9wdGlvbnMpO1xufVxuXG5jbGFzcyBNeVNxbFZhckNoYXJCdWlsZGVyIGV4dGVuZHMgTXlTcWxDb2x1bW5CdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsVmFyQ2hhckJ1aWxkZXInO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBjb25maWcpIHtcbiAgICAgICAgc3VwZXIobmFtZSwgJ3N0cmluZycsICdNeVNxbFZhckNoYXInKTtcbiAgICAgICAgdGhpcy5jb25maWcubGVuZ3RoID0gY29uZmlnLmxlbmd0aDtcbiAgICAgICAgdGhpcy5jb25maWcuZW51bSA9IGNvbmZpZy5lbnVtO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNeVNxbFZhckNoYXIodGFibGUsIHRoaXMuY29uZmlnKTtcbiAgICB9XG59XG5jbGFzcyBNeVNxbFZhckNoYXIgZXh0ZW5kcyBNeVNxbENvbHVtbiB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbFZhckNoYXInO1xuICAgIGxlbmd0aCA9IHRoaXMuY29uZmlnLmxlbmd0aDtcbiAgICBlbnVtVmFsdWVzID0gdGhpcy5jb25maWcuZW51bTtcbiAgICBnZXRTUUxUeXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5sZW5ndGggPT09IHVuZGVmaW5lZCA/IGB2YXJjaGFyYCA6IGB2YXJjaGFyKCR7dGhpcy5sZW5ndGh9KWA7XG4gICAgfVxufVxuZnVuY3Rpb24gdmFyY2hhcihuYW1lLCBjb25maWcpIHtcbiAgICByZXR1cm4gbmV3IE15U3FsVmFyQ2hhckJ1aWxkZXIobmFtZSwgY29uZmlnKTtcbn1cblxuY2xhc3MgTXlTcWxZZWFyQnVpbGRlciBleHRlbmRzIE15U3FsQ29sdW1uQnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbFllYXJCdWlsZGVyJztcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHN1cGVyKG5hbWUsICdudW1iZXInLCAnTXlTcWxZZWFyJyk7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IE15U3FsWWVhcih0YWJsZSwgdGhpcy5jb25maWcpO1xuICAgIH1cbn1cbmNsYXNzIE15U3FsWWVhciBleHRlbmRzIE15U3FsQ29sdW1uIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsWWVhcic7XG4gICAgZ2V0U1FMVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIGB5ZWFyYDtcbiAgICB9XG59XG5mdW5jdGlvbiB5ZWFyKG5hbWUpIHtcbiAgICByZXR1cm4gbmV3IE15U3FsWWVhckJ1aWxkZXIobmFtZSk7XG59XG5cbmZ1bmN0aW9uIGFsaWFzKHRhYmxlLCBhbGlhcykge1xuICAgIHJldHVybiBuZXcgUHJveHkodGFibGUsIG5ldyBUYWJsZUFsaWFzUHJveHlIYW5kbGVyKGFsaWFzLCBmYWxzZSkpO1xufVxuXG5jbGFzcyBDaGVja0J1aWxkZXIge1xuICAgIG5hbWU7XG4gICAgdmFsdWU7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbENoZWNrQnVpbGRlcic7XG4gICAgYnJhbmQ7XG4gICAgY29uc3RydWN0b3IobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgYnVpbGQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBDaGVjayh0YWJsZSwgdGhpcyk7XG4gICAgfVxufVxuY2xhc3MgQ2hlY2sge1xuICAgIHRhYmxlO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxDaGVjayc7XG4gICAgbmFtZTtcbiAgICB2YWx1ZTtcbiAgICBjb25zdHJ1Y3Rvcih0YWJsZSwgYnVpbGRlcikge1xuICAgICAgICB0aGlzLnRhYmxlID0gdGFibGU7XG4gICAgICAgIHRoaXMubmFtZSA9IGJ1aWxkZXIubmFtZTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IGJ1aWxkZXIudmFsdWU7XG4gICAgfVxufVxuZnVuY3Rpb24gY2hlY2sobmFtZSwgdmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IENoZWNrQnVpbGRlcihuYW1lLCB2YWx1ZSk7XG59XG5cbmNsYXNzIEluZGV4QnVpbGRlck9uIHtcbiAgICBuYW1lO1xuICAgIHVuaXF1ZTtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsSW5kZXhCdWlsZGVyT24nO1xuICAgIGNvbnN0cnVjdG9yKG5hbWUsIHVuaXF1ZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgICAgICB0aGlzLnVuaXF1ZSA9IHVuaXF1ZTtcbiAgICB9XG4gICAgb24oLi4uY29sdW1ucykge1xuICAgICAgICByZXR1cm4gbmV3IEluZGV4QnVpbGRlcih0aGlzLm5hbWUsIGNvbHVtbnMsIHRoaXMudW5pcXVlKTtcbiAgICB9XG59XG5jbGFzcyBJbmRleEJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxJbmRleEJ1aWxkZXInO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBjb25maWc7XG4gICAgY29uc3RydWN0b3IobmFtZSwgY29sdW1ucywgdW5pcXVlKSB7XG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIGNvbHVtbnMsXG4gICAgICAgICAgICB1bmlxdWUsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHVzaW5nKHVzaW5nKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLnVzaW5nID0gdXNpbmc7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBhbGdvcnl0aG0oYWxnb3J5dGhtKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLmFsZ29yeXRobSA9IGFsZ29yeXRobTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGxvY2sobG9jaykge1xuICAgICAgICB0aGlzLmNvbmZpZy5sb2NrID0gbG9jaztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IEluZGV4KHRoaXMuY29uZmlnLCB0YWJsZSk7XG4gICAgfVxufVxuY2xhc3MgSW5kZXgge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxJbmRleCc7XG4gICAgY29uZmlnO1xuICAgIGNvbnN0cnVjdG9yKGNvbmZpZywgdGFibGUpIHtcbiAgICAgICAgdGhpcy5jb25maWcgPSB7IC4uLmNvbmZpZywgdGFibGUgfTtcbiAgICB9XG59XG5mdW5jdGlvbiBpbmRleChuYW1lKSB7XG4gICAgcmV0dXJuIG5ldyBJbmRleEJ1aWxkZXJPbihuYW1lLCBmYWxzZSk7XG59XG5mdW5jdGlvbiB1bmlxdWVJbmRleChuYW1lKSB7XG4gICAgcmV0dXJuIG5ldyBJbmRleEJ1aWxkZXJPbihuYW1lLCB0cnVlKTtcbn1cblxuZnVuY3Rpb24gcHJpbWFyeUtleSguLi5jb2x1bW5zKSB7XG4gICAgcmV0dXJuIG5ldyBQcmltYXJ5S2V5QnVpbGRlcihjb2x1bW5zKTtcbn1cbmNsYXNzIFByaW1hcnlLZXlCdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsUHJpbWFyeUtleUJ1aWxkZXInO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBjb2x1bW5zO1xuICAgIGNvbnN0cnVjdG9yKGNvbHVtbnMpIHtcbiAgICAgICAgdGhpcy5jb2x1bW5zID0gY29sdW1ucztcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGJ1aWxkKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJpbWFyeUtleSh0YWJsZSwgdGhpcy5jb2x1bW5zKTtcbiAgICB9XG59XG5jbGFzcyBQcmltYXJ5S2V5IHtcbiAgICB0YWJsZTtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsUHJpbWFyeUtleSc7XG4gICAgY29sdW1ucztcbiAgICBjb25zdHJ1Y3Rvcih0YWJsZSwgY29sdW1ucykge1xuICAgICAgICB0aGlzLnRhYmxlID0gdGFibGU7XG4gICAgICAgIHRoaXMuY29sdW1ucyA9IGNvbHVtbnM7XG4gICAgfVxuICAgIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLnRhYmxlW015U3FsVGFibGUuU3ltYm9sLk5hbWVdfV8ke3RoaXMuY29sdW1ucy5tYXAoKGNvbHVtbikgPT4gY29sdW1uLm5hbWUpLmpvaW4oJ18nKX1fcGtgO1xuICAgIH1cbn1cblxuY2xhc3MgTXlTcWxTY2hlbWEge1xuICAgIHNjaGVtYU5hbWU7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbFNjaGVtYSc7XG4gICAgY29uc3RydWN0b3Ioc2NoZW1hTmFtZSkge1xuICAgICAgICB0aGlzLnNjaGVtYU5hbWUgPSBzY2hlbWFOYW1lO1xuICAgIH1cbiAgICB0YWJsZSA9IChuYW1lLCBjb2x1bW5zLCBleHRyYUNvbmZpZykgPT4ge1xuICAgICAgICByZXR1cm4gbXlzcWxUYWJsZVdpdGhTY2hlbWEobmFtZSwgY29sdW1ucywgZXh0cmFDb25maWcsIHRoaXMuc2NoZW1hTmFtZSk7XG4gICAgfTtcbiAgICB2aWV3ID0gKChuYW1lLCBjb2x1bW5zKSA9PiB7XG4gICAgICAgIHJldHVybiBteXNxbFZpZXdXaXRoU2NoZW1hKG5hbWUsIGNvbHVtbnMsIHRoaXMuc2NoZW1hTmFtZSk7XG4gICAgfSk7XG59XG4vKiogQGRlcHJlY2F0ZWQgLSB1c2UgYGluc3RhbmNlb2YgTXlTcWxTY2hlbWFgICovXG5mdW5jdGlvbiBpc015U3FsU2NoZW1hKG9iaikge1xuICAgIHJldHVybiBpcyhvYmosIE15U3FsU2NoZW1hKTtcbn1cbi8qKlxuICogQ3JlYXRlIGEgTXlTUUwgc2NoZW1hLlxuICogaHR0cHM6Ly9kZXYubXlzcWwuY29tL2RvYy9yZWZtYW4vOC4wL2VuL2NyZWF0ZS1kYXRhYmFzZS5odG1sXG4gKlxuICogQHBhcmFtIG5hbWUgbXlzcWwgdXNlIHNjaGVtYSBuYW1lXG4gKiBAcmV0dXJucyBNeVNRTCBzY2hlbWFcbiAqL1xuZnVuY3Rpb24gbXlzcWxEYXRhYmFzZShuYW1lKSB7XG4gICAgcmV0dXJuIG5ldyBNeVNxbFNjaGVtYShuYW1lKTtcbn1cbi8qKlxuICogQHNlZSBteXNxbERhdGFiYXNlXG4gKi9cbmNvbnN0IG15c3FsU2NoZW1hID0gbXlzcWxEYXRhYmFzZTtcblxuZnVuY3Rpb24gZ2V0VGFibGVDb25maWcodGFibGUpIHtcbiAgICBjb25zdCBjb2x1bW5zID0gT2JqZWN0LnZhbHVlcyh0YWJsZVtNeVNxbFRhYmxlLlN5bWJvbC5Db2x1bW5zXSk7XG4gICAgY29uc3QgaW5kZXhlcyA9IFtdO1xuICAgIGNvbnN0IGNoZWNrcyA9IFtdO1xuICAgIGNvbnN0IHByaW1hcnlLZXlzID0gW107XG4gICAgY29uc3QgdW5pcXVlQ29uc3RyYWludHMgPSBbXTtcbiAgICBjb25zdCBmb3JlaWduS2V5cyA9IE9iamVjdC52YWx1ZXModGFibGVbTXlTcWxUYWJsZS5TeW1ib2wuSW5saW5lRm9yZWlnbktleXNdKTtcbiAgICBjb25zdCBuYW1lID0gdGFibGVbVGFibGUuU3ltYm9sLk5hbWVdO1xuICAgIGNvbnN0IHNjaGVtYSA9IHRhYmxlW1RhYmxlLlN5bWJvbC5TY2hlbWFdO1xuICAgIGNvbnN0IGJhc2VOYW1lID0gdGFibGVbVGFibGUuU3ltYm9sLkJhc2VOYW1lXTtcbiAgICBjb25zdCBleHRyYUNvbmZpZ0J1aWxkZXIgPSB0YWJsZVtNeVNxbFRhYmxlLlN5bWJvbC5FeHRyYUNvbmZpZ0J1aWxkZXJdO1xuICAgIGlmIChleHRyYUNvbmZpZ0J1aWxkZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBleHRyYUNvbmZpZyA9IGV4dHJhQ29uZmlnQnVpbGRlcih0YWJsZVtNeVNxbFRhYmxlLlN5bWJvbC5Db2x1bW5zXSk7XG4gICAgICAgIGZvciAoY29uc3QgYnVpbGRlciBvZiBPYmplY3QudmFsdWVzKGV4dHJhQ29uZmlnKSkge1xuICAgICAgICAgICAgaWYgKGlzKGJ1aWxkZXIsIEluZGV4QnVpbGRlcikpIHtcbiAgICAgICAgICAgICAgICBpbmRleGVzLnB1c2goYnVpbGRlci5idWlsZCh0YWJsZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXMoYnVpbGRlciwgQ2hlY2tCdWlsZGVyKSkge1xuICAgICAgICAgICAgICAgIGNoZWNrcy5wdXNoKGJ1aWxkZXIuYnVpbGQodGFibGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzKGJ1aWxkZXIsIFVuaXF1ZUNvbnN0cmFpbnRCdWlsZGVyKSkge1xuICAgICAgICAgICAgICAgIHVuaXF1ZUNvbnN0cmFpbnRzLnB1c2goYnVpbGRlci5idWlsZCh0YWJsZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXMoYnVpbGRlciwgUHJpbWFyeUtleUJ1aWxkZXIpKSB7XG4gICAgICAgICAgICAgICAgcHJpbWFyeUtleXMucHVzaChidWlsZGVyLmJ1aWxkKHRhYmxlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpcyhidWlsZGVyLCBGb3JlaWduS2V5QnVpbGRlcikpIHtcbiAgICAgICAgICAgICAgICBmb3JlaWduS2V5cy5wdXNoKGJ1aWxkZXIuYnVpbGQodGFibGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICBjb2x1bW5zLFxuICAgICAgICBpbmRleGVzLFxuICAgICAgICBmb3JlaWduS2V5cyxcbiAgICAgICAgY2hlY2tzLFxuICAgICAgICBwcmltYXJ5S2V5cyxcbiAgICAgICAgdW5pcXVlQ29uc3RyYWludHMsXG4gICAgICAgIG5hbWUsXG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgYmFzZU5hbWUsXG4gICAgfTtcbn1cbmZ1bmN0aW9uIGdldFZpZXdDb25maWcodmlldykge1xuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnZpZXdbVmlld0Jhc2VDb25maWddLFxuICAgICAgICAuLi52aWV3W015U3FsVmlld0NvbmZpZ10sXG4gICAgfTtcbn1cblxuZXhwb3J0IHsgQ2hlY2ssIENoZWNrQnVpbGRlciwgRm9yZWlnbktleUJ1aWxkZXIsIEluZGV4LCBJbmRleEJ1aWxkZXIsIEluZGV4QnVpbGRlck9uLCBNeVNxbEJpZ0ludDUzLCBNeVNxbEJpZ0ludDUzQnVpbGRlciwgTXlTcWxCaWdJbnQ2NCwgTXlTcWxCaWdJbnQ2NEJ1aWxkZXIsIE15U3FsQmluYXJ5LCBNeVNxbEJpbmFyeUJ1aWxkZXIsIE15U3FsQm9vbGVhbiwgTXlTcWxCb29sZWFuQnVpbGRlciwgTXlTcWxDaGFyLCBNeVNxbENoYXJCdWlsZGVyLCBNeVNxbENvbHVtbiwgTXlTcWxDb2x1bW5CdWlsZGVyLCBNeVNxbENvbHVtbkJ1aWxkZXJXaXRoQXV0b0luY3JlbWVudCwgTXlTcWxDb2x1bW5XaXRoQXV0b0luY3JlbWVudCwgTXlTcWxDdXN0b21Db2x1bW4sIE15U3FsQ3VzdG9tQ29sdW1uQnVpbGRlciwgTXlTcWxEYXRlLCBNeVNxbERhdGVCdWlsZGVyLCBNeVNxbERhdGVTdHJpbmcsIE15U3FsRGF0ZVN0cmluZ0J1aWxkZXIsIE15U3FsRGF0ZVRpbWUsIE15U3FsRGF0ZVRpbWVCdWlsZGVyLCBNeVNxbERhdGVUaW1lU3RyaW5nLCBNeVNxbERhdGVUaW1lU3RyaW5nQnVpbGRlciwgTXlTcWxEZWNpbWFsLCBNeVNxbERlY2ltYWxCdWlsZGVyLCBNeVNxbERvdWJsZSwgTXlTcWxEb3VibGVCdWlsZGVyLCBNeVNxbEVudW1Db2x1bW4sIE15U3FsRW51bUNvbHVtbkJ1aWxkZXIsIE15U3FsRmxvYXQsIE15U3FsRmxvYXRCdWlsZGVyLCBNeVNxbEludCwgTXlTcWxJbnRCdWlsZGVyLCBNeVNxbEpzb24sIE15U3FsSnNvbkJ1aWxkZXIsIE15U3FsTWVkaXVtSW50LCBNeVNxbE1lZGl1bUludEJ1aWxkZXIsIE15U3FsUmVhbCwgTXlTcWxSZWFsQnVpbGRlciwgTXlTcWxTY2hlbWEsIE15U3FsU2VyaWFsLCBNeVNxbFNlcmlhbEJ1aWxkZXIsIE15U3FsU21hbGxJbnQsIE15U3FsU21hbGxJbnRCdWlsZGVyLCBNeVNxbFRhYmxlLCBNeVNxbFRleHQsIE15U3FsVGV4dEJ1aWxkZXIsIE15U3FsVGltZSwgTXlTcWxUaW1lQnVpbGRlciwgTXlTcWxUaW1lc3RhbXAsIE15U3FsVGltZXN0YW1wQnVpbGRlciwgTXlTcWxUaW1lc3RhbXBTdHJpbmcsIE15U3FsVGltZXN0YW1wU3RyaW5nQnVpbGRlciwgTXlTcWxUaW55SW50LCBNeVNxbFRpbnlJbnRCdWlsZGVyLCBNeVNxbFZhckJpbmFyeSwgTXlTcWxWYXJCaW5hcnlCdWlsZGVyLCBNeVNxbFZhckNoYXIsIE15U3FsVmFyQ2hhckJ1aWxkZXIsIE15U3FsVmlld0NvbmZpZywgTXlTcWxZZWFyLCBNeVNxbFllYXJCdWlsZGVyLCBQcmltYXJ5S2V5LCBQcmltYXJ5S2V5QnVpbGRlciwgVW5pcXVlQ29uc3RyYWludEJ1aWxkZXIsIGFsaWFzLCBiaWdpbnQsIGJpbmFyeSwgYm9vbGVhbiwgY2hhciwgY2hlY2ssIGN1c3RvbVR5cGUsIGRhdGUsIGRhdGV0aW1lLCBkZWNpbWFsLCBkb3VibGUsIGZsb2F0LCBnZXRUYWJsZUNvbmZpZywgZ2V0Vmlld0NvbmZpZywgaW5kZXgsIGludCwgaXNNeVNxbFNjaGVtYSwganNvbiwgbG9uZ3RleHQsIG1lZGl1bWludCwgbWVkaXVtdGV4dCwgbXlzcWxEYXRhYmFzZSwgbXlzcWxFbnVtLCBteXNxbFNjaGVtYSwgbXlzcWxUYWJsZVdpdGhTY2hlbWEsIG15c3FsVmlld1dpdGhTY2hlbWEsIHByaW1hcnlLZXksIHJlYWwsIHNlcmlhbCwgc21hbGxpbnQsIHRleHQsIHRpbWUsIHRpbWVzdGFtcCwgdGlueWludCwgdGlueXRleHQsIHVuaXF1ZUluZGV4LCB2YXJiaW5hcnksIHZhcmNoYXIsIHllYXIgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4Lm1qcy5tYXBcbiJdLCJuYW1lcyI6WyJlIiwiZW50aXR5S2luZCIsInMiLCJzcWwiLCJuIiwiVGFibGVBbGlhc1Byb3h5SGFuZGxlciIsImkiLCJpcyIsIlQiLCJUYWJsZSIsIlYiLCJWaWV3QmFzZUNvbmZpZyIsImQiLCJNeVNxbENvbHVtbkJ1aWxkZXJXaXRoQXV0b0luY3JlbWVudCIsIk15U3FsQ29sdW1uV2l0aEF1dG9JbmNyZW1lbnQiLCJmIiwiTXlTcWxDb2x1bW5CdWlsZGVyIiwiZyIsIk15U3FsQ29sdW1uIiwiaCIsIk15U3FsVGFibGUiLCJtIiwibXlzcWxUYWJsZVdpdGhTY2hlbWEiLCJteXNxbFZpZXdXaXRoU2NoZW1hIiwiVSIsIlVuaXF1ZUNvbnN0cmFpbnRCdWlsZGVyIiwiRiIsIkZvcmVpZ25LZXlCdWlsZGVyIiwiaiIsIk15U3FsVmlld0NvbmZpZyIsImsiLCJGb3JlaWduS2V5IiwiSSIsIklubGluZUZvcmVpZ25LZXlzIiwiQyIsIk1hbnVhbFZpZXdCdWlsZGVyIiwiYiIsIk15U3FsRGF0YWJhc2UiLCJNeVNxbERlbGV0ZSIsImMiLCJNeVNxbERpYWxlY3QiLCJwIiwiTXlTcWxJbnNlcnQiLCJvIiwiTXlTcWxJbnNlcnRCdWlsZGVyIiwiTXlTcWxTZWxlY3QiLCJxIiwiTXlTcWxTZWxlY3RCdWlsZGVyIiwiciIsIk15U3FsU2VsZWN0UXVlcnlCdWlsZGVyIiwiTSIsIk15U3FsU2Vzc2lvbiIsImEiLCJNeVNxbFRyYW5zYWN0aW9uIiwidSIsIk15U3FsVXBkYXRlIiwidCIsIk15U3FsVXBkYXRlQnVpbGRlciIsIkUiLCJNeVNxbFZpZXciLCJEIiwiTXlTcWxWaWV3QmFzZSIsIlAiLCJQcmVwYXJlZFF1ZXJ5IiwiUSIsIlF1ZXJ5QnVpbGRlciIsIkEiLCJVbmlxdWVDb25zdHJhaW50IiwieiIsIlVuaXF1ZU9uQ29uc3RyYWludEJ1aWxkZXIiLCJCIiwiVmlld0J1aWxkZXIiLCJWaWV3QnVpbGRlckNvcmUiLCJsIiwiZm9yZWlnbktleSIsInYiLCJteXNxbFRhYmxlIiwidyIsIm15c3FsVGFibGVDcmVhdG9yIiwiRyIsIm15c3FsVmlldyIsIngiLCJ1bmlxdWUiLCJ5IiwidW5pcXVlS2V5TmFtZSIsIk15U3FsQmlnSW50NTNCdWlsZGVyIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiYnVpbGQiLCJ0YWJsZSIsIk15U3FsQmlnSW50NTMiLCJjb25maWciLCJnZXRTUUxUeXBlIiwibWFwRnJvbURyaXZlclZhbHVlIiwidmFsdWUiLCJOdW1iZXIiLCJNeVNxbEJpZ0ludDY0QnVpbGRlciIsIk15U3FsQmlnSW50NjQiLCJCaWdJbnQiLCJiaWdpbnQiLCJtb2RlIiwiTXlTcWxCaW5hcnlCdWlsZGVyIiwibGVuZ3RoIiwiTXlTcWxCaW5hcnkiLCJ1bmRlZmluZWQiLCJiaW5hcnkiLCJNeVNxbEJvb2xlYW5CdWlsZGVyIiwiTXlTcWxCb29sZWFuIiwiYm9vbGVhbiIsIk15U3FsQ2hhckJ1aWxkZXIiLCJlbnVtIiwiTXlTcWxDaGFyIiwiZW51bVZhbHVlcyIsImNoYXIiLCJNeVNxbEN1c3RvbUNvbHVtbkJ1aWxkZXIiLCJmaWVsZENvbmZpZyIsImN1c3RvbVR5cGVQYXJhbXMiLCJNeVNxbEN1c3RvbUNvbHVtbiIsInNxbE5hbWUiLCJkYXRhVHlwZSIsIm1hcFRvIiwidG9Ecml2ZXIiLCJtYXBGcm9tIiwiZnJvbURyaXZlciIsIm1hcFRvRHJpdmVyVmFsdWUiLCJjdXN0b21UeXBlIiwiZGJOYW1lIiwiTXlTcWxEYXRlQnVpbGRlciIsIk15U3FsRGF0ZSIsIkRhdGUiLCJNeVNxbERhdGVTdHJpbmdCdWlsZGVyIiwiTXlTcWxEYXRlU3RyaW5nIiwiZGF0ZSIsIk15U3FsRGF0ZVRpbWVCdWlsZGVyIiwiZnNwIiwiTXlTcWxEYXRlVGltZSIsInByZWNpc2lvbiIsInRvSVNPU3RyaW5nIiwicmVwbGFjZSIsIk15U3FsRGF0ZVRpbWVTdHJpbmdCdWlsZGVyIiwiTXlTcWxEYXRlVGltZVN0cmluZyIsImRhdGV0aW1lIiwiTXlTcWxEZWNpbWFsQnVpbGRlciIsInNjYWxlIiwiTXlTcWxEZWNpbWFsIiwiZGVjaW1hbCIsIk15U3FsRG91YmxlQnVpbGRlciIsIk15U3FsRG91YmxlIiwiZG91YmxlIiwiTXlTcWxFbnVtQ29sdW1uQnVpbGRlciIsInZhbHVlcyIsIk15U3FsRW51bUNvbHVtbiIsIm1hcCIsImpvaW4iLCJteXNxbEVudW0iLCJFcnJvciIsIk15U3FsRmxvYXRCdWlsZGVyIiwiTXlTcWxGbG9hdCIsImZsb2F0IiwiTXlTcWxJbnRCdWlsZGVyIiwiTXlTcWxJbnQiLCJpbnQiLCJNeVNxbEpzb25CdWlsZGVyIiwiTXlTcWxKc29uIiwiSlNPTiIsInN0cmluZ2lmeSIsImpzb24iLCJNeVNxbE1lZGl1bUludEJ1aWxkZXIiLCJNeVNxbE1lZGl1bUludCIsIm1lZGl1bWludCIsIk15U3FsUmVhbEJ1aWxkZXIiLCJNeVNxbFJlYWwiLCJyZWFsIiwiTXlTcWxTZXJpYWxCdWlsZGVyIiwiaGFzRGVmYXVsdCIsImF1dG9JbmNyZW1lbnQiLCJNeVNxbFNlcmlhbCIsInNlcmlhbCIsIk15U3FsU21hbGxJbnRCdWlsZGVyIiwiTXlTcWxTbWFsbEludCIsInNtYWxsaW50IiwiTXlTcWxUZXh0QnVpbGRlciIsInRleHRUeXBlIiwiTXlTcWxUZXh0IiwidGV4dCIsInRpbnl0ZXh0IiwibWVkaXVtdGV4dCIsImxvbmd0ZXh0IiwiTXlTcWxUaW1lQnVpbGRlciIsIk15U3FsVGltZSIsInRpbWUiLCJNeVNxbERhdGVDb2x1bW5CYXNlQnVpbGRlciIsImRlZmF1bHROb3ciLCJkZWZhdWx0Iiwib25VcGRhdGVOb3ciLCJoYXNPblVwZGF0ZU5vdyIsIk15U3FsRGF0ZUJhc2VDb2x1bW4iLCJNeVNxbFRpbWVzdGFtcEJ1aWxkZXIiLCJNeVNxbFRpbWVzdGFtcCIsInNsaWNlIiwiTXlTcWxUaW1lc3RhbXBTdHJpbmdCdWlsZGVyIiwiTXlTcWxUaW1lc3RhbXBTdHJpbmciLCJ0aW1lc3RhbXAiLCJNeVNxbFRpbnlJbnRCdWlsZGVyIiwiTXlTcWxUaW55SW50IiwidGlueWludCIsIk15U3FsVmFyQmluYXJ5QnVpbGRlciIsIk15U3FsVmFyQmluYXJ5IiwidmFyYmluYXJ5Iiwib3B0aW9ucyIsIk15U3FsVmFyQ2hhckJ1aWxkZXIiLCJNeVNxbFZhckNoYXIiLCJ2YXJjaGFyIiwiTXlTcWxZZWFyQnVpbGRlciIsIk15U3FsWWVhciIsInllYXIiLCJhbGlhcyIsIlByb3h5IiwiQ2hlY2tCdWlsZGVyIiwiQ2hlY2siLCJidWlsZGVyIiwiY2hlY2siLCJJbmRleEJ1aWxkZXJPbiIsIm9uIiwiY29sdW1ucyIsIkluZGV4QnVpbGRlciIsInVzaW5nIiwiYWxnb3J5dGhtIiwibG9jayIsIkluZGV4IiwiaW5kZXgiLCJ1bmlxdWVJbmRleCIsInByaW1hcnlLZXkiLCJQcmltYXJ5S2V5QnVpbGRlciIsIlByaW1hcnlLZXkiLCJnZXROYW1lIiwiU3ltYm9sIiwiTmFtZSIsImNvbHVtbiIsIk15U3FsU2NoZW1hIiwic2NoZW1hTmFtZSIsImV4dHJhQ29uZmlnIiwidmlldyIsImlzTXlTcWxTY2hlbWEiLCJvYmoiLCJteXNxbERhdGFiYXNlIiwibXlzcWxTY2hlbWEiLCJnZXRUYWJsZUNvbmZpZyIsIk9iamVjdCIsIkNvbHVtbnMiLCJpbmRleGVzIiwiY2hlY2tzIiwicHJpbWFyeUtleXMiLCJ1bmlxdWVDb25zdHJhaW50cyIsImZvcmVpZ25LZXlzIiwic2NoZW1hIiwiU2NoZW1hIiwiYmFzZU5hbWUiLCJCYXNlTmFtZSIsImV4dHJhQ29uZmlnQnVpbGRlciIsIkV4dHJhQ29uZmlnQnVpbGRlciIsInB1c2giLCJnZXRWaWV3Q29uZmlnIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/drizzle-orm/mysql-core/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/drizzle-orm/planetscale-serverless/index.mjs":
/*!*******************************************************************!*\
  !*** ./node_modules/drizzle-orm/planetscale-serverless/index.mjs ***!
  \*******************************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PlanetScalePreparedQuery: () => (/* binding */ PlanetScalePreparedQuery),\n/* harmony export */   PlanetScaleTransaction: () => (/* binding */ PlanetScaleTransaction),\n/* harmony export */   PlanetscaleSession: () => (/* binding */ PlanetscaleSession),\n/* harmony export */   drizzle: () => (/* binding */ drizzle)\n/* harmony export */ });\n/* harmony import */ var _index_mjs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../index.mjs */ \"(rsc)/./node_modules/drizzle-orm/index.mjs\");\n/* harmony import */ var _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../view-23898f21.mjs */ \"(rsc)/./node_modules/drizzle-orm/view-23898f21.mjs\");\n/* harmony import */ var _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../alias-cf8e03cd.mjs */ \"(rsc)/./node_modules/drizzle-orm/alias-cf8e03cd.mjs\");\n\n\n\nclass PlanetScalePreparedQuery extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.P {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"PlanetScalePreparedQuery\";\n    }\n    constructor(client, queryString, params, logger, fields, customResultMapper){\n        super();\n        this.rawQuery = {\n            as: \"object\"\n        };\n        this.query = {\n            as: \"array\"\n        };\n        this.client = client;\n        this.queryString = queryString;\n        this.params = params;\n        this.logger = logger;\n        this.fields = fields;\n        this.customResultMapper = customResultMapper;\n    }\n    async execute(placeholderValues = {}) {\n        const params = (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.f)(this.params, placeholderValues);\n        this.logger.logQuery(this.queryString, params);\n        const { fields, client, queryString, rawQuery, query, joinsNotNullableMap, customResultMapper } = this;\n        if (!fields && !customResultMapper) {\n            return client.execute(queryString, params, rawQuery);\n        }\n        const { rows } = await client.execute(queryString, params, query);\n        if (customResultMapper) {\n            return customResultMapper(rows);\n        }\n        return rows.map((row)=>(0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.m)(fields, row, joinsNotNullableMap));\n    }\n    iterator(_placeholderValues) {\n        throw new Error(\"Streaming is not supported by the PlanetScale Serverless driver\");\n    }\n}\nclass PlanetscaleSession extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.M {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"PlanetscaleSession\";\n    }\n    constructor(baseClient, dialect, tx, schema, options = {}){\n        super(dialect);\n        this.baseClient = baseClient;\n        this.schema = schema;\n        this.options = options;\n        this.client = tx ?? baseClient;\n        this.logger = options.logger ?? new _index_mjs__WEBPACK_IMPORTED_MODULE_2__.NoopLogger();\n    }\n    prepareQuery(query, fields, customResultMapper) {\n        return new PlanetScalePreparedQuery(this.client, query.sql, query.params, this.logger, fields, customResultMapper);\n    }\n    async query(query, params) {\n        this.logger.logQuery(query, params);\n        return await this.client.execute(query, params, {\n            as: \"array\"\n        });\n    }\n    async queryObjects(query, params) {\n        return this.client.execute(query, params, {\n            as: \"object\"\n        });\n    }\n    all(query) {\n        const querySql = this.dialect.sqlToQuery(query);\n        this.logger.logQuery(querySql.sql, querySql.params);\n        return this.client.execute(querySql.sql, querySql.params, {\n            as: \"object\"\n        }).then((eQuery)=>eQuery.rows);\n    }\n    transaction(transaction) {\n        return this.baseClient.transaction((pstx)=>{\n            const session = new PlanetscaleSession(this.baseClient, this.dialect, pstx, this.schema, this.options);\n            const tx = new PlanetScaleTransaction(this.dialect, session, this.schema);\n            return transaction(tx);\n        });\n    }\n}\nclass PlanetScaleTransaction extends _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.a {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.e] = \"PlanetScaleTransaction\";\n    }\n    constructor(dialect, session, schema, nestedIndex = 0){\n        super(dialect, session, schema, nestedIndex, \"planetscale\");\n    }\n    async transaction(transaction) {\n        const savepointName = `sp${this.nestedIndex + 1}`;\n        const tx = new PlanetScaleTransaction(this.dialect, this.session, this.schema, this.nestedIndex + 1);\n        await tx.execute(_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.s.raw(`savepoint ${savepointName}`));\n        try {\n            const result = await transaction(tx);\n            await tx.execute(_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.s.raw(`release savepoint ${savepointName}`));\n            return result;\n        } catch (err) {\n            await tx.execute(_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.s.raw(`rollback to savepoint ${savepointName}`));\n            throw err;\n        }\n    }\n}\nfunction drizzle(client, config = {}) {\n    const dialect = new _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.c();\n    let logger;\n    if (config.logger === true) {\n        logger = new _index_mjs__WEBPACK_IMPORTED_MODULE_2__.DefaultLogger();\n    } else if (config.logger !== false) {\n        logger = config.logger;\n    }\n    let schema;\n    if (config.schema) {\n        const tablesConfig = (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.a)(config.schema, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_1__.c);\n        schema = {\n            fullSchema: config.schema,\n            schema: tablesConfig.tables,\n            tableNamesMap: tablesConfig.tableNamesMap\n        };\n    }\n    const session = new PlanetscaleSession(client, dialect, undefined, schema, {\n        logger\n    });\n    return new _view_23898f21_mjs__WEBPACK_IMPORTED_MODULE_0__.b(dialect, session, schema, \"planetscale\");\n}\n //# sourceMappingURL=index.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZHJpenpsZS1vcm0vcGxhbmV0c2NhbGUtc2VydmVybGVzcy9pbmRleC5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUF5RDtBQUNrRjtBQUN1QztBQUVsTCxNQUFNc0IsaUNBQWlDbkIsaURBQWFBOztZQU96QyxDQUFDVSxrREFBVUEsQ0FBQyxHQUFHOztJQUd0QlUsWUFBWUMsTUFBTSxFQUFFQyxXQUFXLEVBQUVDLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxNQUFNLEVBQUVDLGtCQUFrQixDQUFFO1FBQ3pFLEtBQUs7YUFIVEMsV0FBVztZQUFFQyxJQUFJO1FBQVM7YUFDMUJDLFFBQVE7WUFBRUQsSUFBSTtRQUFRO1FBR2xCLElBQUksQ0FBQ1AsTUFBTSxHQUFHQTtRQUNkLElBQUksQ0FBQ0MsV0FBVyxHQUFHQTtRQUNuQixJQUFJLENBQUNDLE1BQU0sR0FBR0E7UUFDZCxJQUFJLENBQUNDLE1BQU0sR0FBR0E7UUFDZCxJQUFJLENBQUNDLE1BQU0sR0FBR0E7UUFDZCxJQUFJLENBQUNDLGtCQUFrQixHQUFHQTtJQUM5QjtJQUNBLE1BQU1JLFFBQVFDLG9CQUFvQixDQUFDLENBQUMsRUFBRTtRQUNsQyxNQUFNUixTQUFTWCxzREFBZ0JBLENBQUMsSUFBSSxDQUFDVyxNQUFNLEVBQUVRO1FBQzdDLElBQUksQ0FBQ1AsTUFBTSxDQUFDUSxRQUFRLENBQUMsSUFBSSxDQUFDVixXQUFXLEVBQUVDO1FBQ3ZDLE1BQU0sRUFBRUUsTUFBTSxFQUFFSixNQUFNLEVBQUVDLFdBQVcsRUFBRUssUUFBUSxFQUFFRSxLQUFLLEVBQUVJLG1CQUFtQixFQUFFUCxrQkFBa0IsRUFBRSxHQUFHLElBQUk7UUFDdEcsSUFBSSxDQUFDRCxVQUFVLENBQUNDLG9CQUFvQjtZQUNoQyxPQUFPTCxPQUFPUyxPQUFPLENBQUNSLGFBQWFDLFFBQVFJO1FBQy9DO1FBQ0EsTUFBTSxFQUFFTyxJQUFJLEVBQUUsR0FBRyxNQUFNYixPQUFPUyxPQUFPLENBQUNS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LElBQUlmLG1CQUFtQm5CLFFBQVFxQixTQUFTMEIsV0FBV3hCLFFBQVE7UUFBRXBCO0lBQU87SUFDcEYsT0FBTyxJQUFJbEIsaURBQWFBLENBQUNvQyxTQUFTYSxTQUFTWCxRQUFRO0FBQ3ZEO0FBRXlGLENBQ3pGLGtDQUFrQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NvbS8uL25vZGVfbW9kdWxlcy9kcml6emxlLW9ybS9wbGFuZXRzY2FsZS1zZXJ2ZXJsZXNzL2luZGV4Lm1qcz8wNTg2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5vb3BMb2dnZXIsIERlZmF1bHRMb2dnZXIgfSBmcm9tICcuLi9pbmRleC5tanMnO1xuaW1wb3J0IHsgUCBhcyBQcmVwYXJlZFF1ZXJ5LCBNIGFzIE15U3FsU2Vzc2lvbiwgYSBhcyBNeVNxbFRyYW5zYWN0aW9uLCBiIGFzIE15U3FsRGF0YWJhc2UsIGMgYXMgTXlTcWxEaWFsZWN0IH0gZnJvbSAnLi4vdmlldy0yMzg5OGYyMS5tanMnO1xuaW1wb3J0IHsgZSBhcyBlbnRpdHlLaW5kLCBmIGFzIGZpbGxQbGFjZWhvbGRlcnMsIG0gYXMgbWFwUmVzdWx0Um93LCBzIGFzIHNxbCwgYSBhcyBleHRyYWN0VGFibGVzUmVsYXRpb25hbENvbmZpZywgYyBhcyBjcmVhdGVUYWJsZVJlbGF0aW9uc0hlbHBlcnMgfSBmcm9tICcuLi9hbGlhcy1jZjhlMDNjZC5tanMnO1xuXG5jbGFzcyBQbGFuZXRTY2FsZVByZXBhcmVkUXVlcnkgZXh0ZW5kcyBQcmVwYXJlZFF1ZXJ5IHtcbiAgICBjbGllbnQ7XG4gICAgcXVlcnlTdHJpbmc7XG4gICAgcGFyYW1zO1xuICAgIGxvZ2dlcjtcbiAgICBmaWVsZHM7XG4gICAgY3VzdG9tUmVzdWx0TWFwcGVyO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnUGxhbmV0U2NhbGVQcmVwYXJlZFF1ZXJ5JztcbiAgICByYXdRdWVyeSA9IHsgYXM6ICdvYmplY3QnIH07XG4gICAgcXVlcnkgPSB7IGFzOiAnYXJyYXknIH07XG4gICAgY29uc3RydWN0b3IoY2xpZW50LCBxdWVyeVN0cmluZywgcGFyYW1zLCBsb2dnZXIsIGZpZWxkcywgY3VzdG9tUmVzdWx0TWFwcGVyKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY2xpZW50ID0gY2xpZW50O1xuICAgICAgICB0aGlzLnF1ZXJ5U3RyaW5nID0gcXVlcnlTdHJpbmc7XG4gICAgICAgIHRoaXMucGFyYW1zID0gcGFyYW1zO1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGxvZ2dlcjtcbiAgICAgICAgdGhpcy5maWVsZHMgPSBmaWVsZHM7XG4gICAgICAgIHRoaXMuY3VzdG9tUmVzdWx0TWFwcGVyID0gY3VzdG9tUmVzdWx0TWFwcGVyO1xuICAgIH1cbiAgICBhc3luYyBleGVjdXRlKHBsYWNlaG9sZGVyVmFsdWVzID0ge30pIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0gZmlsbFBsYWNlaG9sZGVycyh0aGlzLnBhcmFtcywgcGxhY2Vob2xkZXJWYWx1ZXMpO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2dRdWVyeSh0aGlzLnF1ZXJ5U3RyaW5nLCBwYXJhbXMpO1xuICAgICAgICBjb25zdCB7IGZpZWxkcywgY2xpZW50LCBxdWVyeVN0cmluZywgcmF3UXVlcnksIHF1ZXJ5LCBqb2luc05vdE51bGxhYmxlTWFwLCBjdXN0b21SZXN1bHRNYXBwZXIgfSA9IHRoaXM7XG4gICAgICAgIGlmICghZmllbGRzICYmICFjdXN0b21SZXN1bHRNYXBwZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBjbGllbnQuZXhlY3V0ZShxdWVyeVN0cmluZywgcGFyYW1zLCByYXdRdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyByb3dzIH0gPSBhd2FpdCBjbGllbnQuZXhlY3V0ZShxdWVyeVN0cmluZywgcGFyYW1zLCBxdWVyeSk7XG4gICAgICAgIGlmIChjdXN0b21SZXN1bHRNYXBwZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXN0b21SZXN1bHRNYXBwZXIocm93cyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJvd3MubWFwKChyb3cpID0+IG1hcFJlc3VsdFJvdyhmaWVsZHMsIHJvdywgam9pbnNOb3ROdWxsYWJsZU1hcCkpO1xuICAgIH1cbiAgICBpdGVyYXRvcihfcGxhY2Vob2xkZXJWYWx1ZXMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdHJlYW1pbmcgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgUGxhbmV0U2NhbGUgU2VydmVybGVzcyBkcml2ZXInKTtcbiAgICB9XG59XG5jbGFzcyBQbGFuZXRzY2FsZVNlc3Npb24gZXh0ZW5kcyBNeVNxbFNlc3Npb24ge1xuICAgIGJhc2VDbGllbnQ7XG4gICAgc2NoZW1hO1xuICAgIG9wdGlvbnM7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdQbGFuZXRzY2FsZVNlc3Npb24nO1xuICAgIGxvZ2dlcjtcbiAgICBjbGllbnQ7XG4gICAgY29uc3RydWN0b3IoYmFzZUNsaWVudCwgZGlhbGVjdCwgdHgsIHNjaGVtYSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgICAgIHN1cGVyKGRpYWxlY3QpO1xuICAgICAgICB0aGlzLmJhc2VDbGllbnQgPSBiYXNlQ2xpZW50O1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAgICAgdGhpcy5jbGllbnQgPSB0eCA/PyBiYXNlQ2xpZW50O1xuICAgICAgICB0aGlzLmxvZ2dlciA9IG9wdGlvbnMubG9nZ2VyID8/IG5ldyBOb29wTG9nZ2VyKCk7XG4gICAgfVxuICAgIHByZXBhcmVRdWVyeShxdWVyeSwgZmllbGRzLCBjdXN0b21SZXN1bHRNYXBwZXIpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQbGFuZXRTY2FsZVByZXBhcmVkUXVlcnkodGhpcy5jbGllbnQsIHF1ZXJ5LnNxbCwgcXVlcnkucGFyYW1zLCB0aGlzLmxvZ2dlciwgZmllbGRzLCBjdXN0b21SZXN1bHRNYXBwZXIpO1xuICAgIH1cbiAgICBhc3luYyBxdWVyeShxdWVyeSwgcGFyYW1zKSB7XG4gICAgICAgIHRoaXMubG9nZ2VyLmxvZ1F1ZXJ5KHF1ZXJ5LCBwYXJhbXMpO1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5jbGllbnQuZXhlY3V0ZShxdWVyeSwgcGFyYW1zLCB7IGFzOiAnYXJyYXknIH0pO1xuICAgIH1cbiAgICBhc3luYyBxdWVyeU9iamVjdHMocXVlcnksIHBhcmFtcykge1xuICAgICAgICByZXR1cm4gdGhpcy5jbGllbnQuZXhlY3V0ZShxdWVyeSwgcGFyYW1zLCB7IGFzOiAnb2JqZWN0JyB9KTtcbiAgICB9XG4gICAgYWxsKHF1ZXJ5KSB7XG4gICAgICAgIGNvbnN0IHF1ZXJ5U3FsID0gdGhpcy5kaWFsZWN0LnNxbFRvUXVlcnkocXVlcnkpO1xuICAgICAgICB0aGlzLmxvZ2dlci5sb2dRdWVyeShxdWVyeVNxbC5zcWwsIHF1ZXJ5U3FsLnBhcmFtcyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNsaWVudC5leGVjdXRlKHF1ZXJ5U3FsLnNxbCwgcXVlcnlTcWwucGFyYW1zLCB7IGFzOiAnb2JqZWN0JyB9KS50aGVuKChlUXVlcnkpID0+IGVRdWVyeS5yb3dzKTtcbiAgICB9XG4gICAgdHJhbnNhY3Rpb24odHJhbnNhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmFzZUNsaWVudC50cmFuc2FjdGlvbigocHN0eCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2Vzc2lvbiA9IG5ldyBQbGFuZXRzY2FsZVNlc3Npb24odGhpcy5iYXNlQ2xpZW50LCB0aGlzLmRpYWxlY3QsIHBzdHgsIHRoaXMuc2NoZW1hLCB0aGlzLm9wdGlvbnMpO1xuICAgICAgICAgICAgY29uc3QgdHggPSBuZXcgUGxhbmV0U2NhbGVUcmFuc2FjdGlvbih0aGlzLmRpYWxlY3QsIHNlc3Npb24sIHRoaXMuc2NoZW1hKTtcbiAgICAgICAgICAgIHJldHVybiB0cmFuc2FjdGlvbih0eCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmNsYXNzIFBsYW5ldFNjYWxlVHJhbnNhY3Rpb24gZXh0ZW5kcyBNeVNxbFRyYW5zYWN0aW9uIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ1BsYW5ldFNjYWxlVHJhbnNhY3Rpb24nO1xuICAgIGNvbnN0cnVjdG9yKGRpYWxlY3QsIHNlc3Npb24sIHNjaGVtYSwgbmVzdGVkSW5kZXggPSAwKSB7XG4gICAgICAgIHN1cGVyKGRpYWxlY3QsIHNlc3Npb24sIHNjaGVtYSwgbmVzdGVkSW5kZXgsICdwbGFuZXRzY2FsZScpO1xuICAgIH1cbiAgICBhc3luYyB0cmFuc2FjdGlvbih0cmFuc2FjdGlvbikge1xuICAgICAgICBjb25zdCBzYXZlcG9pbnROYW1lID0gYHNwJHt0aGlzLm5lc3RlZEluZGV4ICsgMX1gO1xuICAgICAgICBjb25zdCB0eCA9IG5ldyBQbGFuZXRTY2FsZVRyYW5zYWN0aW9uKHRoaXMuZGlhbGVjdCwgdGhpcy5zZXNzaW9uLCB0aGlzLnNjaGVtYSwgdGhpcy5uZXN0ZWRJbmRleCArIDEpO1xuICAgICAgICBhd2FpdCB0eC5leGVjdXRlKHNxbC5yYXcoYHNhdmVwb2ludCAke3NhdmVwb2ludE5hbWV9YCkpO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdHJhbnNhY3Rpb24odHgpO1xuICAgICAgICAgICAgYXdhaXQgdHguZXhlY3V0ZShzcWwucmF3KGByZWxlYXNlIHNhdmVwb2ludCAke3NhdmVwb2ludE5hbWV9YCkpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBhd2FpdCB0eC5leGVjdXRlKHNxbC5yYXcoYHJvbGxiYWNrIHRvIHNhdmVwb2ludCAke3NhdmVwb2ludE5hbWV9YCkpO1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcml6emxlKGNsaWVudCwgY29uZmlnID0ge30pIHtcbiAgICBjb25zdCBkaWFsZWN0ID0gbmV3IE15U3FsRGlhbGVjdCgpO1xuICAgIGxldCBsb2dnZXI7XG4gICAgaWYgKGNvbmZpZy5sb2dnZXIgPT09IHRydWUpIHtcbiAgICAgICAgbG9nZ2VyID0gbmV3IERlZmF1bHRMb2dnZXIoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY29uZmlnLmxvZ2dlciAhPT0gZmFsc2UpIHtcbiAgICAgICAgbG9nZ2VyID0gY29uZmlnLmxvZ2dlcjtcbiAgICB9XG4gICAgbGV0IHNjaGVtYTtcbiAgICBpZiAoY29uZmlnLnNjaGVtYSkge1xuICAgICAgICBjb25zdCB0YWJsZXNDb25maWcgPSBleHRyYWN0VGFibGVzUmVsYXRpb25hbENvbmZpZyhjb25maWcuc2NoZW1hLCBjcmVhdGVUYWJsZVJlbGF0aW9uc0hlbHBlcnMpO1xuICAgICAgICBzY2hlbWEgPSB7XG4gICAgICAgICAgICBmdWxsU2NoZW1hOiBjb25maWcuc2NoZW1hLFxuICAgICAgICAgICAgc2NoZW1hOiB0YWJsZXNDb25maWcudGFibGVzLFxuICAgICAgICAgICAgdGFibGVOYW1lc01hcDogdGFibGVzQ29uZmlnLnRhYmxlTmFtZXNNYXAsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHNlc3Npb24gPSBuZXcgUGxhbmV0c2NhbGVTZXNzaW9uKGNsaWVudCwgZGlhbGVjdCwgdW5kZWZpbmVkLCBzY2hlbWEsIHsgbG9nZ2VyIH0pO1xuICAgIHJldHVybiBuZXcgTXlTcWxEYXRhYmFzZShkaWFsZWN0LCBzZXNzaW9uLCBzY2hlbWEsICdwbGFuZXRzY2FsZScpO1xufVxuXG5leHBvcnQgeyBQbGFuZXRTY2FsZVByZXBhcmVkUXVlcnksIFBsYW5ldFNjYWxlVHJhbnNhY3Rpb24sIFBsYW5ldHNjYWxlU2Vzc2lvbiwgZHJpenpsZSB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcFxuIl0sIm5hbWVzIjpbIk5vb3BMb2dnZXIiLCJEZWZhdWx0TG9nZ2VyIiwiUCIsIlByZXBhcmVkUXVlcnkiLCJNIiwiTXlTcWxTZXNzaW9uIiwiYSIsIk15U3FsVHJhbnNhY3Rpb24iLCJiIiwiTXlTcWxEYXRhYmFzZSIsImMiLCJNeVNxbERpYWxlY3QiLCJlIiwiZW50aXR5S2luZCIsImYiLCJmaWxsUGxhY2Vob2xkZXJzIiwibSIsIm1hcFJlc3VsdFJvdyIsInMiLCJzcWwiLCJleHRyYWN0VGFibGVzUmVsYXRpb25hbENvbmZpZyIsImNyZWF0ZVRhYmxlUmVsYXRpb25zSGVscGVycyIsIlBsYW5ldFNjYWxlUHJlcGFyZWRRdWVyeSIsImNvbnN0cnVjdG9yIiwiY2xpZW50IiwicXVlcnlTdHJpbmciLCJwYXJhbXMiLCJsb2dnZXIiLCJmaWVsZHMiLCJjdXN0b21SZXN1bHRNYXBwZXIiLCJyYXdRdWVyeSIsImFzIiwicXVlcnkiLCJleGVjdXRlIiwicGxhY2Vob2xkZXJWYWx1ZXMiLCJsb2dRdWVyeSIsImpvaW5zTm90TnVsbGFibGVNYXAiLCJyb3dzIiwibWFwIiwicm93IiwiaXRlcmF0b3IiLCJfcGxhY2Vob2xkZXJWYWx1ZXMiLCJFcnJvciIsIlBsYW5ldHNjYWxlU2Vzc2lvbiIsImJhc2VDbGllbnQiLCJkaWFsZWN0IiwidHgiLCJzY2hlbWEiLCJvcHRpb25zIiwicHJlcGFyZVF1ZXJ5IiwicXVlcnlPYmplY3RzIiwiYWxsIiwicXVlcnlTcWwiLCJzcWxUb1F1ZXJ5IiwidGhlbiIsImVRdWVyeSIsInRyYW5zYWN0aW9uIiwicHN0eCIsInNlc3Npb24iLCJQbGFuZXRTY2FsZVRyYW5zYWN0aW9uIiwibmVzdGVkSW5kZXgiLCJzYXZlcG9pbnROYW1lIiwicmF3IiwicmVzdWx0IiwiZXJyIiwiZHJpenpsZSIsImNvbmZpZyIsInRhYmxlc0NvbmZpZyIsImZ1bGxTY2hlbWEiLCJ0YWJsZXMiLCJ0YWJsZU5hbWVzTWFwIiwidW5kZWZpbmVkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/drizzle-orm/planetscale-serverless/index.mjs\n");

/***/ }),

/***/ "(rsc)/./node_modules/drizzle-orm/view-23898f21.mjs":
/*!****************************************************!*\
  !*** ./node_modules/drizzle-orm/view-23898f21.mjs ***!
  \****************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   A: () => (/* binding */ UniqueConstraint),\n/* harmony export */   B: () => (/* binding */ ViewBuilder),\n/* harmony export */   C: () => (/* binding */ ManualViewBuilder),\n/* harmony export */   D: () => (/* binding */ MySqlViewBase),\n/* harmony export */   E: () => (/* binding */ MySqlView),\n/* harmony export */   F: () => (/* binding */ ForeignKeyBuilder),\n/* harmony export */   G: () => (/* binding */ mysqlView),\n/* harmony export */   I: () => (/* binding */ InlineForeignKeys),\n/* harmony export */   M: () => (/* binding */ MySqlSession),\n/* harmony export */   P: () => (/* binding */ PreparedQuery),\n/* harmony export */   Q: () => (/* binding */ QueryBuilder),\n/* harmony export */   U: () => (/* binding */ UniqueConstraintBuilder),\n/* harmony export */   V: () => (/* binding */ ViewBuilderCore),\n/* harmony export */   a: () => (/* binding */ MySqlTransaction),\n/* harmony export */   b: () => (/* binding */ MySqlDatabase),\n/* harmony export */   c: () => (/* binding */ MySqlDialect),\n/* harmony export */   d: () => (/* binding */ MySqlColumnBuilderWithAutoIncrement),\n/* harmony export */   e: () => (/* binding */ MySqlColumnWithAutoIncrement),\n/* harmony export */   f: () => (/* binding */ MySqlColumnBuilder),\n/* harmony export */   g: () => (/* binding */ MySqlColumn),\n/* harmony export */   h: () => (/* binding */ MySqlTable),\n/* harmony export */   i: () => (/* binding */ mysqlViewWithSchema),\n/* harmony export */   j: () => (/* binding */ MySqlViewConfig),\n/* harmony export */   k: () => (/* binding */ ForeignKey),\n/* harmony export */   l: () => (/* binding */ foreignKey),\n/* harmony export */   m: () => (/* binding */ mysqlTableWithSchema),\n/* harmony export */   n: () => (/* binding */ MySqlDelete),\n/* harmony export */   o: () => (/* binding */ MySqlInsertBuilder),\n/* harmony export */   p: () => (/* binding */ MySqlInsert),\n/* harmony export */   q: () => (/* binding */ MySqlSelectBuilder),\n/* harmony export */   r: () => (/* binding */ MySqlSelectQueryBuilder),\n/* harmony export */   s: () => (/* binding */ MySqlSelect),\n/* harmony export */   t: () => (/* binding */ MySqlUpdateBuilder),\n/* harmony export */   u: () => (/* binding */ MySqlUpdate),\n/* harmony export */   v: () => (/* binding */ mysqlTable),\n/* harmony export */   w: () => (/* binding */ mysqlTableCreator),\n/* harmony export */   x: () => (/* binding */ unique),\n/* harmony export */   y: () => (/* binding */ uniqueKeyName),\n/* harmony export */   z: () => (/* binding */ UniqueOnConstraintBuilder)\n/* harmony export */ });\n/* harmony import */ var _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./alias-cf8e03cd.mjs */ \"(rsc)/./node_modules/drizzle-orm/alias-cf8e03cd.mjs\");\n\n/** @internal */ const InlineForeignKeys = Symbol.for(\"drizzle:MySqlInlineForeignKeys\");\nlet prop, prop1;\nclass MySqlTable extends _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.T {\n    static{\n        prop = _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.Columns;\n        prop1 = _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.ExtraConfigBuilder;\n    }\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlTable\";\n    }\n    static{\n        /** @internal */ this.Symbol = Object.assign({}, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol, {\n            InlineForeignKeys: InlineForeignKeys\n        });\n    }\n    constructor(...args){\n        super(...args);\n        /** @internal */ this[InlineForeignKeys] = [];\n        /** @internal */ this[prop1] = undefined;\n    }\n}\nfunction mysqlTableWithSchema(name, columns, extraConfig, schema, baseName = name) {\n    const rawTable = new MySqlTable(name, schema, baseName);\n    const builtColumns = Object.fromEntries(Object.entries(columns).map(([name, colBuilderBase])=>{\n        const colBuilder = colBuilderBase;\n        const column = colBuilder.build(rawTable);\n        rawTable[InlineForeignKeys].push(...colBuilder.buildForeignKeys(column, rawTable));\n        return [\n            name,\n            column\n        ];\n    }));\n    const table = Object.assign(rawTable, builtColumns);\n    table[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.Columns] = builtColumns;\n    if (extraConfig) {\n        table[MySqlTable.Symbol.ExtraConfigBuilder] = extraConfig;\n    }\n    return table;\n}\nconst mysqlTable = (name, columns, extraConfig)=>{\n    return mysqlTableWithSchema(name, columns, extraConfig, undefined, name);\n};\nfunction mysqlTableCreator(customizeTableName) {\n    return (name, columns, extraConfig)=>{\n        return mysqlTableWithSchema(customizeTableName(name), columns, extraConfig, undefined, name);\n    };\n}\nclass ForeignKeyBuilder {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlForeignKeyBuilder\";\n    }\n    constructor(config, actions){\n        this.reference = ()=>{\n            const { columns, foreignColumns } = config();\n            return {\n                columns,\n                foreignTable: foreignColumns[0].table,\n                foreignColumns\n            };\n        };\n        if (actions) {\n            this._onUpdate = actions.onUpdate;\n            this._onDelete = actions.onDelete;\n        }\n    }\n    onUpdate(action) {\n        this._onUpdate = action;\n        return this;\n    }\n    onDelete(action) {\n        this._onDelete = action;\n        return this;\n    }\n    /** @internal */ build(table) {\n        return new ForeignKey(table, this);\n    }\n}\nclass ForeignKey {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlForeignKey\";\n    }\n    constructor(table, builder){\n        this.table = table;\n        this.reference = builder.reference;\n        this.onUpdate = builder._onUpdate;\n        this.onDelete = builder._onDelete;\n    }\n    getName() {\n        const { columns, foreignColumns } = this.reference();\n        const columnNames = columns.map((column)=>column.name);\n        const foreignColumnNames = foreignColumns.map((column)=>column.name);\n        const chunks = [\n            this.table[MySqlTable.Symbol.Name],\n            ...columnNames,\n            foreignColumns[0].table[MySqlTable.Symbol.Name],\n            ...foreignColumnNames\n        ];\n        return `${chunks.join(\"_\")}_fk`;\n    }\n}\nfunction foreignKey(config) {\n    function mappedConfig() {\n        const { columns, foreignColumns } = config;\n        return {\n            columns,\n            foreignColumns\n        };\n    }\n    return new ForeignKeyBuilder(mappedConfig);\n}\nfunction unique(name) {\n    return new UniqueOnConstraintBuilder(name);\n}\nfunction uniqueKeyName(table, columns) {\n    return `${table[MySqlTable.Symbol.Name]}_${columns.join(\"_\")}_unique`;\n}\nclass UniqueConstraintBuilder {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlUniqueConstraintBuilder\";\n    }\n    constructor(columns, name){\n        this.name = name;\n        this.columns = columns;\n    }\n    /** @internal */ build(table) {\n        return new UniqueConstraint(table, this.columns, this.name);\n    }\n}\nclass UniqueOnConstraintBuilder {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlUniqueOnConstraintBuilder\";\n    }\n    constructor(name){\n        this.name = name;\n    }\n    on(...columns) {\n        return new UniqueConstraintBuilder(columns, this.name);\n    }\n}\nclass UniqueConstraint {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlUniqueConstraint\";\n    }\n    constructor(table, columns, name){\n        this.nullsNotDistinct = false;\n        this.table = table;\n        this.columns = columns;\n        this.name = name ?? uniqueKeyName(this.table, this.columns.map((column)=>column.name));\n    }\n    getName() {\n        return this.name;\n    }\n}\nclass MySqlColumnBuilder extends _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.C {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlColumnBuilder\";\n    }\n    references(ref, actions = {}) {\n        this.foreignKeyConfigs.push({\n            ref,\n            actions\n        });\n        return this;\n    }\n    unique(name) {\n        this.config.isUnique = true;\n        this.config.uniqueName = name;\n        return this;\n    }\n    /** @internal */ buildForeignKeys(column, table) {\n        return this.foreignKeyConfigs.map(({ ref, actions })=>{\n            return ((ref, actions)=>{\n                const builder = new ForeignKeyBuilder(()=>{\n                    const foreignColumn = ref();\n                    return {\n                        columns: [\n                            column\n                        ],\n                        foreignColumns: [\n                            foreignColumn\n                        ]\n                    };\n                });\n                if (actions.onUpdate) {\n                    builder.onUpdate(actions.onUpdate);\n                }\n                if (actions.onDelete) {\n                    builder.onDelete(actions.onDelete);\n                }\n                return builder.build(table);\n            })(ref, actions);\n        });\n    }\n    constructor(...args){\n        super(...args);\n        this.foreignKeyConfigs = [];\n    }\n}\n// To understand how to use `MySqlColumn` and `AnyMySqlColumn`, see `Column` and `AnyColumn` documentation.\nclass MySqlColumn extends _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.p {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlColumn\";\n    }\n    constructor(table, config){\n        if (!config.uniqueName) {\n            config.uniqueName = uniqueKeyName(table, [\n                config.name\n            ]);\n        }\n        super(table, config);\n        this.table = table;\n    }\n}\nclass MySqlColumnBuilderWithAutoIncrement extends MySqlColumnBuilder {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlColumnBuilderWithAutoIncrement\";\n    }\n    constructor(name, dataType, columnType){\n        super(name, dataType, columnType);\n        this.config.autoIncrement = false;\n    }\n    autoincrement() {\n        this.config.autoIncrement = true;\n        this.config.hasDefault = true;\n        return this;\n    }\n}\nclass MySqlColumnWithAutoIncrement extends MySqlColumn {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlColumnWithAutoIncrement\";\n    }\n    constructor(...args){\n        super(...args);\n        this.autoIncrement = this.config.autoIncrement;\n    }\n}\nclass MySqlDelete extends _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.Q {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlDelete\";\n    }\n    constructor(table, session, dialect){\n        super();\n        this.execute = (placeholderValues)=>{\n            return this.prepare().execute(placeholderValues);\n        };\n        this.createIterator = ()=>{\n            const self = this;\n            return async function*(placeholderValues) {\n                yield* self.prepare().iterator(placeholderValues);\n            };\n        };\n        this.iterator = this.createIterator();\n        this.table = table;\n        this.session = session;\n        this.dialect = dialect;\n        this.config = {\n            table\n        };\n    }\n    where(where) {\n        this.config.where = where;\n        return this;\n    }\n    /** @internal */ getSQL() {\n        return this.dialect.buildDeleteQuery(this.config);\n    }\n    toSQL() {\n        const { typings: _typings, ...rest } = this.dialect.sqlToQuery(this.getSQL());\n        return rest;\n    }\n    prepare() {\n        return this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()), this.config.returning);\n    }\n}\nclass MySqlInsertBuilder {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlInsertBuilder\";\n    }\n    constructor(table, session, dialect){\n        this.shouldIgnore = false;\n        this.table = table;\n        this.session = session;\n        this.dialect = dialect;\n    }\n    ignore() {\n        this.shouldIgnore = true;\n        return this;\n    }\n    values(values) {\n        values = Array.isArray(values) ? values : [\n            values\n        ];\n        if (values.length === 0) {\n            throw new Error(\"values() must be called with at least one value\");\n        }\n        const mappedValues = values.map((entry)=>{\n            const result = {};\n            const cols = this.table[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.Columns];\n            for (const colKey of Object.keys(entry)){\n                const colValue = entry[colKey];\n                result[colKey] = (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(colValue, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.S) ? colValue : new _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.b(colValue, cols[colKey]);\n            }\n            return result;\n        });\n        return new MySqlInsert(this.table, mappedValues, this.shouldIgnore, this.session, this.dialect);\n    }\n}\nclass MySqlInsert extends _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.Q {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlInsert\";\n    }\n    constructor(table, values, ignore, session, dialect){\n        super();\n        this.execute = (placeholderValues)=>{\n            return this.prepare().execute(placeholderValues);\n        };\n        this.createIterator = ()=>{\n            const self = this;\n            return async function*(placeholderValues) {\n                yield* self.prepare().iterator(placeholderValues);\n            };\n        };\n        this.iterator = this.createIterator();\n        this.session = session;\n        this.dialect = dialect;\n        this.config = {\n            table,\n            values,\n            ignore\n        };\n    }\n    onDuplicateKeyUpdate(config) {\n        const setSql = this.dialect.buildUpdateSet(this.config.table, (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.d)(this.config.table, config.set));\n        this.config.onConflict = _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`update ${setSql}`;\n        return this;\n    }\n    /** @internal */ getSQL() {\n        return this.dialect.buildInsertQuery(this.config);\n    }\n    toSQL() {\n        const { typings: _typings, ...rest } = this.dialect.sqlToQuery(this.getSQL());\n        return rest;\n    }\n    prepare() {\n        return this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()), undefined);\n    }\n}\n// TODO find out how to use all/values. Seems like I need those functions\n// Build project\n// copy runtime tests to be sure it's working\n// Add mysql to drizzle-kit\n// Add Planetscale Driver and create example repo\nclass MySqlDialect {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlDialect\";\n    }\n    async migrate(migrations, session, config) {\n        const migrationsTable = config.migrationsTable ?? \"__drizzle_migrations\";\n        const migrationTableCreate = _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`\n\t\t\tcreate table if not exists ${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(migrationsTable)} (\n\t\t\t\tid serial primary key,\n\t\t\t\thash text not null,\n\t\t\t\tcreated_at bigint\n\t\t\t)\n\t\t`;\n        await session.execute(migrationTableCreate);\n        const dbMigrations = await session.all(_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`select id, hash, created_at from ${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(migrationsTable)} order by created_at desc limit 1`);\n        const lastDbMigration = dbMigrations[0];\n        await session.transaction(async (tx)=>{\n            for (const migration of migrations){\n                if (!lastDbMigration || Number(lastDbMigration.created_at) < migration.folderMillis) {\n                    for (const stmt of migration.sql){\n                        await tx.execute(_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.raw(stmt));\n                    }\n                    await tx.execute(_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`insert into ${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(migrationsTable)} (\\`hash\\`, \\`created_at\\`) values(${migration.hash}, ${migration.folderMillis})`);\n                }\n            }\n        });\n    }\n    escapeName(name) {\n        return `\\`${name}\\``;\n    }\n    escapeParam(_num) {\n        return `?`;\n    }\n    escapeString(str) {\n        return `'${str.replace(/'/g, \"''\")}'`;\n    }\n    buildDeleteQuery({ table, where, returning }) {\n        const returningSql = returning ? _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s` returning ${this.buildSelection(returning, {\n            isSingleTable: true\n        })}` : undefined;\n        const whereSql = where ? _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s` where ${where}` : undefined;\n        return _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`delete from ${table}${whereSql}${returningSql}`;\n    }\n    buildUpdateSet(table, set) {\n        const setEntries = Object.entries(set);\n        const setSize = setEntries.length;\n        return _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.join(setEntries.flatMap(([colName, value], i)=>{\n            const col = table[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.Columns][colName];\n            const res = _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(col.name)} = ${value}`;\n            if (i < setSize - 1) {\n                return [\n                    res,\n                    _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.raw(\", \")\n                ];\n            }\n            return [\n                res\n            ];\n        }));\n    }\n    buildUpdateQuery({ table, set, where, returning }) {\n        const setSql = this.buildUpdateSet(table, set);\n        const returningSql = returning ? _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s` returning ${this.buildSelection(returning, {\n            isSingleTable: true\n        })}` : undefined;\n        const whereSql = where ? _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s` where ${where}` : undefined;\n        return _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`update ${table} set ${setSql}${whereSql}${returningSql}`;\n    }\n    /**\n     * Builds selection SQL with provided fields/expressions\n     *\n     * Examples:\n     *\n     * `select <selection> from`\n     *\n     * `insert ... returning <selection>`\n     *\n     * If `isSingleTable` is true, then columns won't be prefixed with table name\n     */ buildSelection(fields, { isSingleTable = false } = {}) {\n        const columnsLen = fields.length;\n        const chunks = fields.flatMap(({ field }, i)=>{\n            const chunk = [];\n            if ((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(field, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.S.Aliased) && field.isSelectionField) {\n                chunk.push(_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(field.fieldAlias));\n            } else if ((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(field, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.S.Aliased) || (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(field, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.S)) {\n                const query = (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(field, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.S.Aliased) ? field.sql : field;\n                if (isSingleTable) {\n                    chunk.push(new _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.S(query.queryChunks.map((c)=>{\n                        if ((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(c, MySqlColumn)) {\n                            return _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(c.name);\n                        }\n                        return c;\n                    })));\n                } else {\n                    chunk.push(query);\n                }\n                if ((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(field, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.S.Aliased)) {\n                    chunk.push(_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s` as ${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(field.fieldAlias)}`);\n                }\n            } else if ((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(field, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.p)) {\n                if (isSingleTable) {\n                    chunk.push(_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(field.name));\n                } else {\n                    chunk.push(field);\n                }\n            }\n            if (i < columnsLen - 1) {\n                chunk.push(_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`, `);\n            }\n            return chunk;\n        });\n        return _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.join(chunks);\n    }\n    buildSelectQuery({ withList, fields, fieldsFlat, where, having, table, joins, orderBy, groupBy, limit, offset, lockingClause, distinct }) {\n        const fieldsList = fieldsFlat ?? (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.o)(fields);\n        for (const f of fieldsList){\n            if ((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(f.field, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.p) && (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.q)(f.field.table) !== ((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(table, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.r) ? table[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.u].alias : (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(table, MySqlViewBase) ? table[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.V].name : (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(table, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.S) ? undefined : (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.q)(table)) && !((table)=>joins?.some(({ alias })=>alias === (table[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.IsAlias] ? (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.q)(table) : table[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.BaseName])))(f.field.table)) {\n                const tableName = (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.q)(f.field.table);\n                throw new Error(`Your \"${f.path.join(\"->\")}\" field references a column \"${tableName}\".\"${f.field.name}\", but the table \"${tableName}\" is not part of the query! Did you forget to join it?`);\n            }\n        }\n        const isSingleTable = !joins || joins.length === 0;\n        let withSql;\n        if (withList?.length) {\n            const withSqlChunks = [\n                _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`with `\n            ];\n            for (const [i, w] of withList.entries()){\n                withSqlChunks.push(_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(w[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.u].alias)} as (${w[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.u].sql})`);\n                if (i < withList.length - 1) {\n                    withSqlChunks.push(_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`, `);\n                }\n            }\n            withSqlChunks.push(_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s` `);\n            withSql = _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.join(withSqlChunks);\n        }\n        const distinctSql = distinct ? _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s` distinct` : undefined;\n        const selection = this.buildSelection(fieldsList, {\n            isSingleTable\n        });\n        const tableSql = (()=>{\n            if ((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(table, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.T) && table[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.OriginalName] !== table[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.Name]) {\n                return _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(table[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.OriginalName])} ${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(table[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.Name])}`;\n            }\n            return table;\n        })();\n        const joinsArray = [];\n        if (joins) {\n            for (const [index, joinMeta] of joins.entries()){\n                if (index === 0) {\n                    joinsArray.push(_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s` `);\n                }\n                const table = joinMeta.table;\n                const lateralSql = joinMeta.lateral ? _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s` lateral` : undefined;\n                if ((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(table, MySqlTable)) {\n                    const tableName = table[MySqlTable.Symbol.Name];\n                    const tableSchema = table[MySqlTable.Symbol.Schema];\n                    const origTableName = table[MySqlTable.Symbol.OriginalName];\n                    const alias = tableName === origTableName ? undefined : joinMeta.alias;\n                    joinsArray.push(_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.raw(joinMeta.joinType)} join${lateralSql} ${tableSchema ? _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(tableSchema)}.` : undefined}${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(origTableName)}${alias && _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s` ${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(alias)}`} on ${joinMeta.on}`);\n                } else if ((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(table, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.v)) {\n                    const viewName = table[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.V].name;\n                    const viewSchema = table[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.V].schema;\n                    const origViewName = table[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.V].originalName;\n                    const alias = viewName === origViewName ? undefined : joinMeta.alias;\n                    joinsArray.push(_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.raw(joinMeta.joinType)} join${lateralSql} ${viewSchema ? _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(viewSchema)}.` : undefined}${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(origViewName)}${alias && _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s` ${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(alias)}`} on ${joinMeta.on}`);\n                } else {\n                    joinsArray.push(_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.raw(joinMeta.joinType)} join${lateralSql} ${table} on ${joinMeta.on}`);\n                }\n                if (index < joins.length - 1) {\n                    joinsArray.push(_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s` `);\n                }\n            }\n        }\n        const joinsSql = _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.join(joinsArray);\n        const whereSql = where ? _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s` where ${where}` : undefined;\n        const havingSql = having ? _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s` having ${having}` : undefined;\n        let orderBySql;\n        if (orderBy && orderBy.length > 0) {\n            orderBySql = _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s` order by ${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.join(orderBy, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`, `)}`;\n        }\n        let groupBySql;\n        if (groupBy && groupBy.length > 0) {\n            groupBySql = _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s` group by ${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.join(groupBy, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`, `)}`;\n        }\n        const limitSql = limit ? _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s` limit ${limit}` : undefined;\n        const offsetSql = offset ? _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s` offset ${offset}` : undefined;\n        let lockingClausesSql;\n        if (lockingClause) {\n            const { config, strength } = lockingClause;\n            lockingClausesSql = _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s` for ${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.raw(strength)}`;\n            if (config.noWait) {\n                lockingClausesSql.append(_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s` no wait`);\n            } else if (config.skipLocked) {\n                lockingClausesSql.append(_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s` skip locked`);\n            }\n        }\n        return _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${withSql}select${distinctSql} ${selection} from ${tableSql}${joinsSql}${whereSql}${groupBySql}${havingSql}${orderBySql}${limitSql}${offsetSql}${lockingClausesSql}`;\n    }\n    buildInsertQuery({ table, values, ignore, onConflict }) {\n        // const isSingleValue = values.length === 1;\n        const valuesSqlList = [];\n        const columns = table[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.Columns];\n        const colEntries = Object.entries(columns);\n        const insertOrder = colEntries.map(([, column])=>_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(column.name));\n        for (const [valueIndex, value] of values.entries()){\n            const valueList = [];\n            for (const [fieldName, col] of colEntries){\n                const colValue = value[fieldName];\n                if (colValue === undefined || (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(colValue, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.b) && colValue.value === undefined) {\n                    // eslint-disable-next-line unicorn/no-negated-condition\n                    if (col.defaultFn !== undefined) {\n                        const defaultFnResult = col.defaultFn();\n                        const defaultValue = (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(defaultFnResult, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.S) ? defaultFnResult : _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.param(defaultFnResult, col);\n                        valueList.push(defaultValue);\n                    } else {\n                        valueList.push(_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`default`);\n                    }\n                } else {\n                    valueList.push(colValue);\n                }\n            }\n            valuesSqlList.push(valueList);\n            if (valueIndex < values.length - 1) {\n                valuesSqlList.push(_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`, `);\n            }\n        }\n        const valuesSql = _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.join(valuesSqlList);\n        const ignoreSql = ignore ? _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s` ignore` : undefined;\n        const onConflictSql = onConflict ? _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s` on duplicate key ${onConflict}` : undefined;\n        return _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`insert${ignoreSql} into ${table} ${insertOrder} values ${valuesSql}${onConflictSql}`;\n    }\n    sqlToQuery(sql) {\n        return sql.toQuery({\n            escapeName: this.escapeName,\n            escapeParam: this.escapeParam,\n            escapeString: this.escapeString\n        });\n    }\n    buildRelationalQuery({ fullSchema, schema, tableNamesMap, table, tableConfig, queryConfig: config, tableAlias, nestedQueryRelation, joinOn }) {\n        let selection = [];\n        let limit, offset, orderBy, where;\n        const joins = [];\n        if (config === true) {\n            const selectionEntries = Object.entries(tableConfig.columns);\n            selection = selectionEntries.map(([key, value])=>({\n                    dbKey: value.name,\n                    tsKey: key,\n                    field: (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(value, tableAlias),\n                    relationTableTsKey: undefined,\n                    isJson: false,\n                    selection: []\n                }));\n        } else {\n            const aliasedColumns = Object.fromEntries(Object.entries(tableConfig.columns).map(([key, value])=>[\n                    key,\n                    (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(value, tableAlias)\n                ]));\n            if (config.where) {\n                const whereSql = typeof config.where === \"function\" ? config.where(aliasedColumns, (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.x)()) : config.where;\n                where = whereSql && (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.y)(whereSql, tableAlias);\n            }\n            const fieldsSelection = [];\n            let selectedColumns = [];\n            // Figure out which columns to select\n            if (config.columns) {\n                let isIncludeMode = false;\n                for (const [field, value] of Object.entries(config.columns)){\n                    if (value === undefined) {\n                        continue;\n                    }\n                    if (field in tableConfig.columns) {\n                        if (!isIncludeMode && value === true) {\n                            isIncludeMode = true;\n                        }\n                        selectedColumns.push(field);\n                    }\n                }\n                if (selectedColumns.length > 0) {\n                    selectedColumns = isIncludeMode ? selectedColumns.filter((c)=>config.columns?.[c] === true) : Object.keys(tableConfig.columns).filter((key)=>!selectedColumns.includes(key));\n                }\n            } else {\n                // Select all columns if selection is not specified\n                selectedColumns = Object.keys(tableConfig.columns);\n            }\n            for (const field of selectedColumns){\n                const column = tableConfig.columns[field];\n                fieldsSelection.push({\n                    tsKey: field,\n                    value: column\n                });\n            }\n            let selectedRelations = [];\n            // Figure out which relations to select\n            if (config.with) {\n                selectedRelations = Object.entries(config.with).filter((entry)=>!!entry[1]).map(([tsKey, queryConfig])=>({\n                        tsKey,\n                        queryConfig,\n                        relation: tableConfig.relations[tsKey]\n                    }));\n            }\n            let extras;\n            // Figure out which extras to select\n            if (config.extras) {\n                extras = typeof config.extras === \"function\" ? config.extras(aliasedColumns, {\n                    sql: _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s\n                }) : config.extras;\n                for (const [tsKey, value] of Object.entries(extras)){\n                    fieldsSelection.push({\n                        tsKey,\n                        value: (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(value, tableAlias)\n                    });\n                }\n            }\n            // Transform `fieldsSelection` into `selection`\n            // `fieldsSelection` shouldn't be used after this point\n            for (const { tsKey, value } of fieldsSelection){\n                selection.push({\n                    dbKey: (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(value, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.S.Aliased) ? value.fieldAlias : tableConfig.columns[tsKey].name,\n                    tsKey,\n                    field: (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(value, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.p) ? (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(value, tableAlias) : value,\n                    relationTableTsKey: undefined,\n                    isJson: false,\n                    selection: []\n                });\n            }\n            let orderByOrig = typeof config.orderBy === \"function\" ? config.orderBy(aliasedColumns, (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.A)()) : config.orderBy ?? [];\n            if (!Array.isArray(orderByOrig)) {\n                orderByOrig = [\n                    orderByOrig\n                ];\n            }\n            orderBy = orderByOrig.map((orderByValue)=>{\n                if ((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(orderByValue, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.p)) {\n                    return (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(orderByValue, tableAlias);\n                }\n                return (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.y)(orderByValue, tableAlias);\n            });\n            limit = config.limit;\n            offset = config.offset;\n            // Process all relations\n            for (const { tsKey: selectedRelationTsKey, queryConfig: selectedRelationConfigValue, relation } of selectedRelations){\n                const normalizedRelation = (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(schema, tableNamesMap, relation);\n                const relationTableName = relation.referencedTable[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.Name];\n                const relationTableTsName = tableNamesMap[relationTableName];\n                const relationTableAlias = `${tableAlias}_${selectedRelationTsKey}`;\n                const joinOn = (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(...normalizedRelation.fields.map((field, i)=>(0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.F)((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(normalizedRelation.references[i], relationTableAlias), (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(field, tableAlias))));\n                const builtRelation = this.buildRelationalQuery({\n                    fullSchema,\n                    schema,\n                    tableNamesMap,\n                    table: fullSchema[relationTableTsName],\n                    tableConfig: schema[relationTableTsName],\n                    queryConfig: (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(relation, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.O) ? selectedRelationConfigValue === true ? {\n                        limit: 1\n                    } : {\n                        ...selectedRelationConfigValue,\n                        limit: 1\n                    } : selectedRelationConfigValue,\n                    tableAlias: relationTableAlias,\n                    joinOn,\n                    nestedQueryRelation: relation\n                });\n                const field = _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(relationTableAlias)}.${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(\"data\")}`.as(selectedRelationTsKey);\n                joins.push({\n                    on: _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`true`,\n                    table: new _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.r(builtRelation.sql, {}, relationTableAlias),\n                    alias: relationTableAlias,\n                    joinType: \"left\",\n                    lateral: true\n                });\n                selection.push({\n                    dbKey: selectedRelationTsKey,\n                    tsKey: selectedRelationTsKey,\n                    field,\n                    relationTableTsKey: relationTableTsName,\n                    isJson: true,\n                    selection: builtRelation.selection\n                });\n            }\n        }\n        if (selection.length === 0) {\n            throw new _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.D(`No fields selected for table \"${tableConfig.tsName}\" (\"${tableAlias}\")`);\n        }\n        let result;\n        where = (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(joinOn, where);\n        if (nestedQueryRelation) {\n            let field = _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`json_array(${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.join(selection.map(({ field, tsKey, isJson })=>isJson ? _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(`${tableAlias}_${tsKey}`)}.${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(\"data\")}` : (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(field, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.S.Aliased) ? field.sql : field), _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`, `)})`;\n            if ((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(nestedQueryRelation, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.M)) {\n                field = _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`coalesce(json_arrayagg(${field}), json_array())`;\n            }\n            const nestedSelection = [\n                {\n                    dbKey: \"data\",\n                    tsKey: \"data\",\n                    field: field.as(\"data\"),\n                    isJson: true,\n                    relationTableTsKey: tableConfig.tsName,\n                    selection\n                }\n            ];\n            const needsSubquery = limit !== undefined || offset !== undefined || (orderBy?.length ?? 0) > 0;\n            if (needsSubquery) {\n                result = this.buildSelectQuery({\n                    table: (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.G)(table, tableAlias),\n                    fields: {},\n                    fieldsFlat: [\n                        {\n                            path: [],\n                            field: _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.raw(\"*\")\n                        },\n                        ...(orderBy?.length ?? 0) > 0 ? [\n                            {\n                                path: [],\n                                field: _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`row_number() over (order by ${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.join(orderBy, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`, `)})`\n                            }\n                        ] : []\n                    ],\n                    where,\n                    limit,\n                    offset\n                });\n                where = undefined;\n                limit = undefined;\n                offset = undefined;\n                orderBy = undefined;\n            } else {\n                result = (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.G)(table, tableAlias);\n            }\n            result = this.buildSelectQuery({\n                table: (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(result, MySqlTable) ? result : new _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.r(result, {}, tableAlias),\n                fields: {},\n                fieldsFlat: nestedSelection.map(({ field })=>({\n                        path: [],\n                        field: (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(field, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.p) ? (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(field, tableAlias) : field\n                    })),\n                joins,\n                where,\n                limit,\n                offset,\n                orderBy\n            });\n        } else {\n            result = this.buildSelectQuery({\n                table: (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.G)(table, tableAlias),\n                fields: {},\n                fieldsFlat: selection.map(({ field })=>({\n                        path: [],\n                        field: (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(field, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.p) ? (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(field, tableAlias) : field\n                    })),\n                joins,\n                where,\n                limit,\n                offset,\n                orderBy\n            });\n        }\n        return {\n            tableTsKey: tableConfig.tsName,\n            sql: result,\n            selection\n        };\n    }\n    buildRelationalQueryWithoutLateralSubqueries({ fullSchema, schema, tableNamesMap, table, tableConfig, queryConfig: config, tableAlias, nestedQueryRelation, joinOn }) {\n        let selection = [];\n        let limit, offset, orderBy = [], where;\n        if (config === true) {\n            const selectionEntries = Object.entries(tableConfig.columns);\n            selection = selectionEntries.map(([key, value])=>({\n                    dbKey: value.name,\n                    tsKey: key,\n                    field: (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(value, tableAlias),\n                    relationTableTsKey: undefined,\n                    isJson: false,\n                    selection: []\n                }));\n        } else {\n            const aliasedColumns = Object.fromEntries(Object.entries(tableConfig.columns).map(([key, value])=>[\n                    key,\n                    (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(value, tableAlias)\n                ]));\n            if (config.where) {\n                const whereSql = typeof config.where === \"function\" ? config.where(aliasedColumns, (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.x)()) : config.where;\n                where = whereSql && (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.y)(whereSql, tableAlias);\n            }\n            const fieldsSelection = [];\n            let selectedColumns = [];\n            // Figure out which columns to select\n            if (config.columns) {\n                let isIncludeMode = false;\n                for (const [field, value] of Object.entries(config.columns)){\n                    if (value === undefined) {\n                        continue;\n                    }\n                    if (field in tableConfig.columns) {\n                        if (!isIncludeMode && value === true) {\n                            isIncludeMode = true;\n                        }\n                        selectedColumns.push(field);\n                    }\n                }\n                if (selectedColumns.length > 0) {\n                    selectedColumns = isIncludeMode ? selectedColumns.filter((c)=>config.columns?.[c] === true) : Object.keys(tableConfig.columns).filter((key)=>!selectedColumns.includes(key));\n                }\n            } else {\n                // Select all columns if selection is not specified\n                selectedColumns = Object.keys(tableConfig.columns);\n            }\n            for (const field of selectedColumns){\n                const column = tableConfig.columns[field];\n                fieldsSelection.push({\n                    tsKey: field,\n                    value: column\n                });\n            }\n            let selectedRelations = [];\n            // Figure out which relations to select\n            if (config.with) {\n                selectedRelations = Object.entries(config.with).filter((entry)=>!!entry[1]).map(([tsKey, queryConfig])=>({\n                        tsKey,\n                        queryConfig,\n                        relation: tableConfig.relations[tsKey]\n                    }));\n            }\n            let extras;\n            // Figure out which extras to select\n            if (config.extras) {\n                extras = typeof config.extras === \"function\" ? config.extras(aliasedColumns, {\n                    sql: _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s\n                }) : config.extras;\n                for (const [tsKey, value] of Object.entries(extras)){\n                    fieldsSelection.push({\n                        tsKey,\n                        value: (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.z)(value, tableAlias)\n                    });\n                }\n            }\n            // Transform `fieldsSelection` into `selection`\n            // `fieldsSelection` shouldn't be used after this point\n            for (const { tsKey, value } of fieldsSelection){\n                selection.push({\n                    dbKey: (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(value, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.S.Aliased) ? value.fieldAlias : tableConfig.columns[tsKey].name,\n                    tsKey,\n                    field: (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(value, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.p) ? (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(value, tableAlias) : value,\n                    relationTableTsKey: undefined,\n                    isJson: false,\n                    selection: []\n                });\n            }\n            let orderByOrig = typeof config.orderBy === \"function\" ? config.orderBy(aliasedColumns, (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.A)()) : config.orderBy ?? [];\n            if (!Array.isArray(orderByOrig)) {\n                orderByOrig = [\n                    orderByOrig\n                ];\n            }\n            orderBy = orderByOrig.map((orderByValue)=>{\n                if ((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(orderByValue, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.p)) {\n                    return (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(orderByValue, tableAlias);\n                }\n                return (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.y)(orderByValue, tableAlias);\n            });\n            limit = config.limit;\n            offset = config.offset;\n            // Process all relations\n            for (const { tsKey: selectedRelationTsKey, queryConfig: selectedRelationConfigValue, relation } of selectedRelations){\n                const normalizedRelation = (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.B)(schema, tableNamesMap, relation);\n                const relationTableName = relation.referencedTable[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.Name];\n                const relationTableTsName = tableNamesMap[relationTableName];\n                const relationTableAlias = `${tableAlias}_${selectedRelationTsKey}`;\n                const joinOn = (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(...normalizedRelation.fields.map((field, i)=>(0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.F)((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(normalizedRelation.references[i], relationTableAlias), (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(field, tableAlias))));\n                const builtRelation = this.buildRelationalQueryWithoutLateralSubqueries({\n                    fullSchema,\n                    schema,\n                    tableNamesMap,\n                    table: fullSchema[relationTableTsName],\n                    tableConfig: schema[relationTableTsName],\n                    queryConfig: (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(relation, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.O) ? selectedRelationConfigValue === true ? {\n                        limit: 1\n                    } : {\n                        ...selectedRelationConfigValue,\n                        limit: 1\n                    } : selectedRelationConfigValue,\n                    tableAlias: relationTableAlias,\n                    joinOn,\n                    nestedQueryRelation: relation\n                });\n                let fieldSql = _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`(${builtRelation.sql})`;\n                if ((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(relation, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.M)) {\n                    fieldSql = _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`coalesce(${fieldSql}, json_array())`;\n                }\n                const field = fieldSql.as(selectedRelationTsKey);\n                selection.push({\n                    dbKey: selectedRelationTsKey,\n                    tsKey: selectedRelationTsKey,\n                    field,\n                    relationTableTsKey: relationTableTsName,\n                    isJson: true,\n                    selection: builtRelation.selection\n                });\n            }\n        }\n        if (selection.length === 0) {\n            throw new _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.D(`No fields selected for table \"${tableConfig.tsName}\" (\"${tableAlias}\"). You need to have at least one item in \"columns\", \"with\" or \"extras\". If you need to select all columns, omit the \"columns\" key or set it to undefined.`);\n        }\n        let result;\n        where = (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.E)(joinOn, where);\n        if (nestedQueryRelation) {\n            let field = _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`json_array(${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.join(selection.map(({ field })=>(0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(field, MySqlColumn) ? _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.identifier(field.name) : (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(field, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.S.Aliased) ? field.sql : field), _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`, `)})`;\n            if ((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(nestedQueryRelation, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.M)) {\n                field = _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`json_arrayagg(${field})`;\n            }\n            const nestedSelection = [\n                {\n                    dbKey: \"data\",\n                    tsKey: \"data\",\n                    field,\n                    isJson: true,\n                    relationTableTsKey: tableConfig.tsName,\n                    selection\n                }\n            ];\n            const needsSubquery = limit !== undefined || offset !== undefined || orderBy.length > 0;\n            if (needsSubquery) {\n                result = this.buildSelectQuery({\n                    table: (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.G)(table, tableAlias),\n                    fields: {},\n                    fieldsFlat: [\n                        {\n                            path: [],\n                            field: _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.raw(\"*\")\n                        },\n                        ...orderBy.length > 0 ? [\n                            {\n                                path: [],\n                                field: _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`row_number() over (order by ${_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.join(orderBy, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s`, `)})`\n                            }\n                        ] : []\n                    ],\n                    where,\n                    limit,\n                    offset\n                });\n                where = undefined;\n                limit = undefined;\n                offset = undefined;\n                orderBy = undefined;\n            } else {\n                result = (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.G)(table, tableAlias);\n            }\n            result = this.buildSelectQuery({\n                table: (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(result, MySqlTable) ? result : new _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.r(result, {}, tableAlias),\n                fields: {},\n                fieldsFlat: nestedSelection.map(({ field })=>({\n                        path: [],\n                        field: (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(field, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.p) ? (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(field, tableAlias) : field\n                    })),\n                where,\n                limit,\n                offset,\n                orderBy\n            });\n        } else {\n            result = this.buildSelectQuery({\n                table: (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.G)(table, tableAlias),\n                fields: {},\n                fieldsFlat: selection.map(({ field })=>({\n                        path: [],\n                        field: (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(field, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.p) ? (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.w)(field, tableAlias) : field\n                    })),\n                where,\n                limit,\n                offset,\n                orderBy\n            });\n        }\n        return {\n            tableTsKey: tableConfig.tsName,\n            sql: result,\n            selection\n        };\n    }\n}\nclass MySqlSelectBuilder {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlSelectBuilder\";\n    }\n    constructor(config){\n        this.withList = [];\n        this.fields = config.fields;\n        this.session = config.session;\n        this.dialect = config.dialect;\n        if (config.withList) {\n            this.withList = config.withList;\n        }\n        this.distinct = config.distinct;\n    }\n    from(source) {\n        const isPartialSelect = !!this.fields;\n        let fields;\n        if (this.fields) {\n            fields = this.fields;\n        } else if ((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(source, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.r)) {\n            // This is required to use the proxy handler to get the correct field values from the subquery\n            fields = Object.fromEntries(Object.keys(source[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.u].selection).map((key)=>[\n                    key,\n                    source[key]\n                ]));\n        } else if ((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(source, MySqlViewBase)) {\n            fields = source[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.V].selectedFields;\n        } else if ((0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(source, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.S)) {\n            fields = {};\n        } else {\n            fields = (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.I)(source);\n        }\n        return new MySqlSelect({\n            table: source,\n            fields,\n            isPartialSelect,\n            session: this.session,\n            dialect: this.dialect,\n            withList: this.withList,\n            distinct: this.distinct\n        });\n    }\n}\nclass MySqlSelectQueryBuilder extends _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.J {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlSelectQueryBuilder\";\n    }\n    constructor({ table, fields, isPartialSelect, session, dialect, withList, distinct }){\n        super();\n        this.leftJoin = this.createJoin(\"left\");\n        this.rightJoin = this.createJoin(\"right\");\n        this.innerJoin = this.createJoin(\"inner\");\n        this.fullJoin = this.createJoin(\"full\");\n        this.config = {\n            withList,\n            table,\n            fields: {\n                ...fields\n            },\n            distinct\n        };\n        this.isPartialSelect = isPartialSelect;\n        this.session = session;\n        this.dialect = dialect;\n        this._ = {\n            selectedFields: fields\n        };\n        this.tableName = (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(table);\n        this.joinsNotNullableMap = typeof this.tableName === \"string\" ? {\n            [this.tableName]: true\n        } : {};\n    }\n    createJoin(joinType) {\n        return (table, on)=>{\n            const baseTableName = this.tableName;\n            const tableName = (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.K)(table);\n            if (typeof tableName === \"string\" && this.config.joins?.some((join)=>join.alias === tableName)) {\n                throw new Error(`Alias \"${tableName}\" is already used in this query`);\n            }\n            if (!this.isPartialSelect) {\n                // If this is the first join and this is not a partial select and we're not selecting from raw SQL, \"move\" the fields from the main table to the nested object\n                if (Object.keys(this.joinsNotNullableMap).length === 1 && typeof baseTableName === \"string\") {\n                    this.config.fields = {\n                        [baseTableName]: this.config.fields\n                    };\n                }\n                if (typeof tableName === \"string\" && !(0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(table, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.S)) {\n                    const selection = (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(table, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.r) ? table[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.u].selection : (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.i)(table, _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.v) ? table[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.V].selectedFields : table[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.T.Symbol.Columns];\n                    this.config.fields[tableName] = selection;\n                }\n            }\n            if (typeof on === \"function\") {\n                on = on(new Proxy(this.config.fields, new _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.j({\n                    sqlAliasedBehavior: \"sql\",\n                    sqlBehavior: \"sql\"\n                })));\n            }\n            if (!this.config.joins) {\n                this.config.joins = [];\n            }\n            this.config.joins.push({\n                on,\n                table,\n                joinType,\n                alias: tableName\n            });\n            if (typeof tableName === \"string\") {\n                switch(joinType){\n                    case \"left\":\n                        {\n                            this.joinsNotNullableMap[tableName] = false;\n                            break;\n                        }\n                    case \"right\":\n                        {\n                            this.joinsNotNullableMap = Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([key])=>[\n                                    key,\n                                    false\n                                ]));\n                            this.joinsNotNullableMap[tableName] = true;\n                            break;\n                        }\n                    case \"inner\":\n                        {\n                            this.joinsNotNullableMap[tableName] = true;\n                            break;\n                        }\n                    case \"full\":\n                        {\n                            this.joinsNotNullableMap = Object.fromEntries(Object.entries(this.joinsNotNullableMap).map(([key])=>[\n                                    key,\n                                    false\n                                ]));\n                            this.joinsNotNullableMap[tableName] = false;\n                            break;\n                        }\n                }\n            }\n            return this;\n        };\n    }\n    where(where) {\n        if (typeof where === \"function\") {\n            where = where(new Proxy(this.config.fields, new _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.j({\n                sqlAliasedBehavior: \"sql\",\n                sqlBehavior: \"sql\"\n            })));\n        }\n        this.config.where = where;\n        return this;\n    }\n    having(having) {\n        if (typeof having === \"function\") {\n            having = having(new Proxy(this.config.fields, new _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.j({\n                sqlAliasedBehavior: \"sql\",\n                sqlBehavior: \"sql\"\n            })));\n        }\n        this.config.having = having;\n        return this;\n    }\n    groupBy(...columns) {\n        if (typeof columns[0] === \"function\") {\n            const groupBy = columns[0](new Proxy(this.config.fields, new _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.j({\n                sqlAliasedBehavior: \"alias\",\n                sqlBehavior: \"sql\"\n            })));\n            this.config.groupBy = Array.isArray(groupBy) ? groupBy : [\n                groupBy\n            ];\n        } else {\n            this.config.groupBy = columns;\n        }\n        return this;\n    }\n    orderBy(...columns) {\n        if (typeof columns[0] === \"function\") {\n            const orderBy = columns[0](new Proxy(this.config.fields, new _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.j({\n                sqlAliasedBehavior: \"alias\",\n                sqlBehavior: \"sql\"\n            })));\n            this.config.orderBy = Array.isArray(orderBy) ? orderBy : [\n                orderBy\n            ];\n        } else {\n            this.config.orderBy = columns;\n        }\n        return this;\n    }\n    limit(limit) {\n        this.config.limit = limit;\n        return this;\n    }\n    offset(offset) {\n        this.config.offset = offset;\n        return this;\n    }\n    for(strength, config = {}) {\n        this.config.lockingClause = {\n            strength,\n            config\n        };\n        return this;\n    }\n    /** @internal */ getSQL() {\n        return this.dialect.buildSelectQuery(this.config);\n    }\n    toSQL() {\n        const { typings: _typings, ...rest } = this.dialect.sqlToQuery(this.getSQL());\n        return rest;\n    }\n    as(alias) {\n        return new Proxy(new _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.r(this.getSQL(), this.config.fields, alias), new _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.j({\n            alias,\n            sqlAliasedBehavior: \"alias\",\n            sqlBehavior: \"error\"\n        }));\n    }\n}\nclass MySqlSelect extends MySqlSelectQueryBuilder {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlSelect\";\n    }\n    prepare() {\n        if (!this.session) {\n            throw new Error(\"Cannot execute a query on a query builder. Please use a database instance instead.\");\n        }\n        const fieldsList = (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.o)(this.config.fields);\n        const query = this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()), fieldsList);\n        query.joinsNotNullableMap = this.joinsNotNullableMap;\n        return query;\n    }\n    constructor(...args){\n        super(...args);\n        this.execute = (placeholderValues)=>{\n            return this.prepare().execute(placeholderValues);\n        };\n        this.createIterator = ()=>{\n            const self = this;\n            return async function*(placeholderValues) {\n                yield* self.prepare().iterator(placeholderValues);\n            };\n        };\n        this.iterator = this.createIterator();\n    }\n}\n(0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.H)(MySqlSelect, [\n    _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.Q\n]);\nclass QueryBuilder {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlQueryBuilder\";\n    }\n    $with(alias) {\n        const queryBuilder = this;\n        return {\n            as (qb) {\n                if (typeof qb === \"function\") {\n                    qb = qb(queryBuilder);\n                }\n                return new Proxy(new _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.W(qb.getSQL(), qb.getSelectedFields(), alias, true), new _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.j({\n                    alias,\n                    sqlAliasedBehavior: \"alias\",\n                    sqlBehavior: \"error\"\n                }));\n            }\n        };\n    }\n    with(...queries) {\n        const self = this;\n        function select(fields) {\n            return new MySqlSelectBuilder({\n                fields: fields ?? undefined,\n                session: undefined,\n                dialect: self.getDialect(),\n                withList: queries\n            });\n        }\n        function selectDistinct(fields) {\n            return new MySqlSelectBuilder({\n                fields: fields ?? undefined,\n                session: undefined,\n                dialect: self.getDialect(),\n                withList: queries,\n                distinct: true\n            });\n        }\n        return {\n            select,\n            selectDistinct\n        };\n    }\n    select(fields) {\n        return new MySqlSelectBuilder({\n            fields: fields ?? undefined,\n            session: undefined,\n            dialect: this.getDialect()\n        });\n    }\n    selectDistinct(fields) {\n        return new MySqlSelectBuilder({\n            fields: fields ?? undefined,\n            session: undefined,\n            dialect: this.getDialect(),\n            distinct: true\n        });\n    }\n    // Lazy load dialect to avoid circular dependency\n    getDialect() {\n        if (!this.dialect) {\n            this.dialect = new MySqlDialect();\n        }\n        return this.dialect;\n    }\n}\nclass RelationalQueryBuilder {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlRelationalQueryBuilder\";\n    }\n    constructor(fullSchema, schema, tableNamesMap, table, tableConfig, dialect, session, mode){\n        this.fullSchema = fullSchema;\n        this.schema = schema;\n        this.tableNamesMap = tableNamesMap;\n        this.table = table;\n        this.tableConfig = tableConfig;\n        this.dialect = dialect;\n        this.session = session;\n        this.mode = mode;\n    }\n    findMany(config) {\n        return new MySqlRelationalQuery(this.fullSchema, this.schema, this.tableNamesMap, this.table, this.tableConfig, this.dialect, this.session, config ? config : {}, \"many\", this.mode);\n    }\n    findFirst(config) {\n        return new MySqlRelationalQuery(this.fullSchema, this.schema, this.tableNamesMap, this.table, this.tableConfig, this.dialect, this.session, config ? {\n            ...config,\n            limit: 1\n        } : {\n            limit: 1\n        }, \"first\", this.mode);\n    }\n}\nclass MySqlRelationalQuery extends _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.Q {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlRelationalQuery\";\n    }\n    constructor(fullSchema, schema, tableNamesMap, table, tableConfig, dialect, session, config, queryMode, mode){\n        super();\n        this.fullSchema = fullSchema;\n        this.schema = schema;\n        this.tableNamesMap = tableNamesMap;\n        this.table = table;\n        this.tableConfig = tableConfig;\n        this.dialect = dialect;\n        this.session = session;\n        this.config = config;\n        this.queryMode = queryMode;\n        this.mode = mode;\n    }\n    prepare() {\n        const { query, builtQuery } = this._toSQL();\n        return this.session.prepareQuery(builtQuery, undefined, (rawRows)=>{\n            const rows = rawRows.map((row)=>(0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.g)(this.schema, this.tableConfig, row, query.selection));\n            if (this.queryMode === \"first\") {\n                return rows[0];\n            }\n            return rows;\n        });\n    }\n    _toSQL() {\n        const query = this.mode === \"planetscale\" ? this.dialect.buildRelationalQueryWithoutLateralSubqueries({\n            fullSchema: this.fullSchema,\n            schema: this.schema,\n            tableNamesMap: this.tableNamesMap,\n            table: this.table,\n            tableConfig: this.tableConfig,\n            queryConfig: this.config,\n            tableAlias: this.tableConfig.tsName\n        }) : this.dialect.buildRelationalQuery({\n            fullSchema: this.fullSchema,\n            schema: this.schema,\n            tableNamesMap: this.tableNamesMap,\n            table: this.table,\n            tableConfig: this.tableConfig,\n            queryConfig: this.config,\n            tableAlias: this.tableConfig.tsName\n        });\n        const builtQuery = this.dialect.sqlToQuery(query.sql);\n        return {\n            builtQuery,\n            query\n        };\n    }\n    toSQL() {\n        return this._toSQL().builtQuery;\n    }\n    execute() {\n        return this.prepare().execute();\n    }\n}\nclass MySqlDatabase {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlDatabase\";\n    }\n    constructor(/** @internal */ dialect, /** @internal */ session, schema, mode){\n        this.dialect = dialect;\n        this.session = session;\n        this.mode = mode;\n        this._ = schema ? {\n            schema: schema.schema,\n            tableNamesMap: schema.tableNamesMap\n        } : {\n            schema: undefined,\n            tableNamesMap: {}\n        };\n        this.query = {};\n        if (this._.schema) {\n            for (const [tableName, columns] of Object.entries(this._.schema)){\n                this.query[tableName] = new RelationalQueryBuilder(schema.fullSchema, this._.schema, this._.tableNamesMap, schema.fullSchema[tableName], columns, dialect, session, this.mode);\n            }\n        }\n    }\n    $with(alias) {\n        return {\n            as (qb) {\n                if (typeof qb === \"function\") {\n                    qb = qb(new QueryBuilder());\n                }\n                return new Proxy(new _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.W(qb.getSQL(), qb.getSelectedFields(), alias, true), new _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.j({\n                    alias,\n                    sqlAliasedBehavior: \"alias\",\n                    sqlBehavior: \"error\"\n                }));\n            }\n        };\n    }\n    with(...queries) {\n        const self = this;\n        function select(fields) {\n            return new MySqlSelectBuilder({\n                fields: fields ?? undefined,\n                session: self.session,\n                dialect: self.dialect,\n                withList: queries\n            });\n        }\n        function selectDistinct(fields) {\n            return new MySqlSelectBuilder({\n                fields: fields ?? undefined,\n                session: self.session,\n                dialect: self.dialect,\n                withList: queries,\n                distinct: true\n            });\n        }\n        return {\n            select,\n            selectDistinct\n        };\n    }\n    select(fields) {\n        return new MySqlSelectBuilder({\n            fields: fields ?? undefined,\n            session: this.session,\n            dialect: this.dialect\n        });\n    }\n    selectDistinct(fields) {\n        return new MySqlSelectBuilder({\n            fields: fields ?? undefined,\n            session: this.session,\n            dialect: this.dialect,\n            distinct: true\n        });\n    }\n    update(table) {\n        return new MySqlUpdateBuilder(table, this.session, this.dialect);\n    }\n    insert(table) {\n        return new MySqlInsertBuilder(table, this.session, this.dialect);\n    }\n    delete(table) {\n        return new MySqlDelete(table, this.session, this.dialect);\n    }\n    execute(query) {\n        return this.session.execute(query.getSQL());\n    }\n    transaction(transaction, config) {\n        return this.session.transaction(transaction, config);\n    }\n}\nclass PreparedQuery {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlPreparedQuery\";\n    }\n}\nclass MySqlSession {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlSession\";\n    }\n    constructor(dialect){\n        this.dialect = dialect;\n    }\n    execute(query) {\n        return this.prepareQuery(this.dialect.sqlToQuery(query), undefined).execute();\n    }\n    getSetTransactionSQL(config) {\n        const parts = [];\n        if (config.isolationLevel) {\n            parts.push(`isolation level ${config.isolationLevel}`);\n        }\n        return parts.length ? _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.join([\n            \"set transaction \",\n            parts.join(\" \")\n        ]) : undefined;\n    }\n    getStartTransactionSQL(config) {\n        const parts = [];\n        if (config.withConsistentSnapshot) {\n            parts.push(\"with consistent snapshot\");\n        }\n        if (config.accessMode) {\n            parts.push(config.accessMode);\n        }\n        return parts.length ? _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.s.join([\n            \"start transaction \",\n            parts.join(\" \")\n        ]) : undefined;\n    }\n}\nclass MySqlTransaction extends MySqlDatabase {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlTransaction\";\n    }\n    constructor(dialect, session, schema, nestedIndex, mode){\n        super(dialect, session, schema, mode);\n        this.schema = schema;\n        this.nestedIndex = nestedIndex;\n    }\n    rollback() {\n        throw new _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.l();\n    }\n}\nclass MySqlUpdateBuilder {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlUpdateBuilder\";\n    }\n    constructor(table, session, dialect){\n        this.table = table;\n        this.session = session;\n        this.dialect = dialect;\n    }\n    set(values) {\n        return new MySqlUpdate(this.table, (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.d)(this.table, values), this.session, this.dialect);\n    }\n}\nclass MySqlUpdate extends _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.Q {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlUpdate\";\n    }\n    constructor(table, set, session, dialect){\n        super();\n        this.execute = (placeholderValues)=>{\n            return this.prepare().execute(placeholderValues);\n        };\n        this.createIterator = ()=>{\n            const self = this;\n            return async function*(placeholderValues) {\n                yield* self.prepare().iterator(placeholderValues);\n            };\n        };\n        this.iterator = this.createIterator();\n        this.session = session;\n        this.dialect = dialect;\n        this.config = {\n            set,\n            table\n        };\n    }\n    where(where) {\n        this.config.where = where;\n        return this;\n    }\n    /** @internal */ getSQL() {\n        return this.dialect.buildUpdateQuery(this.config);\n    }\n    toSQL() {\n        const { typings: _typings, ...rest } = this.dialect.sqlToQuery(this.getSQL());\n        return rest;\n    }\n    prepare() {\n        return this.session.prepareQuery(this.dialect.sqlToQuery(this.getSQL()), this.config.returning);\n    }\n}\nclass ViewBuilderCore {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlViewBuilder\";\n    }\n    constructor(name, schema){\n        this.config = {};\n        this.name = name;\n        this.schema = schema;\n    }\n    algorithm(algorithm) {\n        this.config.algorithm = algorithm;\n        return this;\n    }\n    definer(definer) {\n        this.config.definer = definer;\n        return this;\n    }\n    sqlSecurity(sqlSecurity) {\n        this.config.sqlSecurity = sqlSecurity;\n        return this;\n    }\n    withCheckOption(withCheckOption) {\n        this.config.withCheckOption = withCheckOption ?? \"cascaded\";\n        return this;\n    }\n}\nclass ViewBuilder extends ViewBuilderCore {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlViewBuilder\";\n    }\n    as(qb) {\n        if (typeof qb === \"function\") {\n            qb = qb(new QueryBuilder());\n        }\n        const selectionProxy = new _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.j({\n            alias: this.name,\n            sqlBehavior: \"error\",\n            sqlAliasedBehavior: \"alias\",\n            replaceOriginalName: true\n        });\n        const aliasedSelection = new Proxy(qb.getSelectedFields(), selectionProxy);\n        return new Proxy(new MySqlView({\n            mysqlConfig: this.config,\n            config: {\n                name: this.name,\n                schema: this.schema,\n                selectedFields: aliasedSelection,\n                query: qb.getSQL().inlineParams()\n            }\n        }), selectionProxy);\n    }\n}\nclass ManualViewBuilder extends ViewBuilderCore {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlManualViewBuilder\";\n    }\n    constructor(name, columns, schema){\n        super(name, schema);\n        this.columns = (0,_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.I)(mysqlTable(name, columns));\n    }\n    existing() {\n        return new Proxy(new MySqlView({\n            mysqlConfig: undefined,\n            config: {\n                name: this.name,\n                schema: this.schema,\n                selectedFields: this.columns,\n                query: undefined\n            }\n        }), new _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.j({\n            alias: this.name,\n            sqlBehavior: \"error\",\n            sqlAliasedBehavior: \"alias\",\n            replaceOriginalName: true\n        }));\n    }\n    as(query) {\n        return new Proxy(new MySqlView({\n            mysqlConfig: this.config,\n            config: {\n                name: this.name,\n                schema: this.schema,\n                selectedFields: this.columns,\n                query: query.inlineParams()\n            }\n        }), new _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.j({\n            alias: this.name,\n            sqlBehavior: \"error\",\n            sqlAliasedBehavior: \"alias\",\n            replaceOriginalName: true\n        }));\n    }\n}\nclass MySqlViewBase extends _alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.v {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlViewBase\";\n    }\n}\nconst MySqlViewConfig = Symbol.for(\"drizzle:MySqlViewConfig\");\nclass MySqlView extends MySqlViewBase {\n    static{\n        this[_alias_cf8e03cd_mjs__WEBPACK_IMPORTED_MODULE_0__.e] = \"MySqlView\";\n    }\n    constructor({ mysqlConfig, config }){\n        super(config);\n        this[MySqlViewConfig] = mysqlConfig;\n    }\n}\n/** @internal */ function mysqlViewWithSchema(name, selection, schema) {\n    if (selection) {\n        return new ManualViewBuilder(name, selection, schema);\n    }\n    return new ViewBuilder(name, schema);\n}\nfunction mysqlView(name, selection) {\n    return mysqlViewWithSchema(name, selection, undefined);\n}\n //# sourceMappingURL=view-23898f21.mjs.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvZHJpenpsZS1vcm0vdmlldy0yMzg5OGYyMS5tanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUE2c0I7QUFFN3NCLGNBQWMsR0FDZCxNQUFNd0Usb0JBQW9CQyxPQUFPQyxHQUFHLENBQUM7O0FBQ3JDLE1BQU1DLG1CQUFtQjFFLGtEQUFLQTs7ZUFPekJBLGtEQUFLQSxDQUFDd0UsTUFBTSxDQUFDRyxPQUFPO2dCQUlwQjNFLGtEQUFLQSxDQUFDd0UsTUFBTSxDQUFDSSxrQkFBa0I7OztZQVZ6QixDQUFDMUUsa0RBQVVBLENBQUMsR0FBRzs7O1FBQ3RCLGNBQWMsUUFDUHNFLFNBQVNLLE9BQU9DLE1BQU0sQ0FBQyxDQUFDLEdBQUc5RSxrREFBS0EsQ0FBQ3dFLE1BQU0sRUFBRTtZQUM1Q0QsbUJBQW1CQTtRQUN2Qjs7OztRQUdBLGNBQWMsT0FDZCxDQUFDQSxrQkFBa0IsR0FBRyxFQUFFO1FBQ3hCLGNBQWMsT0FDZCxPQUFpQyxHQUFHUTs7QUFDeEM7QUFDQSxTQUFTQyxxQkFBcUJDLElBQUksRUFBRUMsT0FBTyxFQUFFQyxXQUFXLEVBQUVDLE1BQU0sRUFBRUMsV0FBV0osSUFBSTtJQUM3RSxNQUFNSyxXQUFXLElBQUlaLFdBQVdPLE1BQU1HLFFBQVFDO0lBQzlDLE1BQU1FLGVBQWVWLE9BQU9XLFdBQVcsQ0FBQ1gsT0FBT1ksT0FBTyxDQUFDUCxTQUFTUSxHQUFHLENBQUMsQ0FBQyxDQUFDVCxNQUFNVSxlQUFlO1FBQ3ZGLE1BQU1DLGFBQWFEO1FBQ25CLE1BQU1FLFNBQVNELFdBQVdFLEtBQUssQ0FBQ1I7UUFDaENBLFFBQVEsQ0FBQ2Ysa0JBQWtCLENBQUN3QixJQUFJLElBQUlILFdBQVdJLGdCQUFnQixDQUFDSCxRQUFRUDtRQUN4RSxPQUFPO1lBQUNMO1lBQU1ZO1NBQU87SUFDekI7SUFDQSxNQUFNSSxRQUFRcEIsT0FBT0MsTUFBTSxDQUFDUSxVQUFVQztJ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UixhQUFhO1lBQ2JELG9CQUFvQjtZQUNwQjhDLHFCQUFxQjtRQUN6QjtJQUNKO0FBQ0o7QUFDQSxNQUFNMUosc0JBQXNCeE4sa0RBQUlBOztZQUNyQixDQUFDNUIsa0RBQVVBLENBQUMsR0FBRzs7QUFDMUI7QUFDQSxNQUFNcVosa0JBQWtCL1UsT0FBT0MsR0FBRyxDQUFDO0FBQ25DLE1BQU15VSxrQkFBa0I1Sjs7WUFDYixDQUFDcFAsa0RBQVVBLENBQUMsR0FBRzs7SUFFdEJvRyxZQUFZLEVBQUU2UyxXQUFXLEVBQUU1UyxNQUFNLEVBQUUsQ0FBRTtRQUNqQyxLQUFLLENBQUNBO1FBQ04sSUFBSSxDQUFDZ1QsZ0JBQWdCLEdBQUdKO0lBQzVCO0FBQ0o7QUFDQSxjQUFjLEdBQ2QsU0FBU0ssb0JBQW9CdlUsSUFBSSxFQUFFOEssU0FBUyxFQUFFM0ssTUFBTTtJQUNoRCxJQUFJMkssV0FBVztRQUNYLE9BQU8sSUFBSXNKLGtCQUFrQnBVLE1BQU04SyxXQUFXM0s7SUFDbEQ7SUFDQSxPQUFPLElBQUkwVCxZQUFZN1QsTUFBTUc7QUFDakM7QUFDQSxTQUFTcVUsVUFBVXhVLElBQUksRUFBRThLLFNBQVM7SUFDOUIsT0FBT3lKLG9CQUFvQnZVLE1BQU04SyxXQUFXaEw7QUFDaEQ7QUFFNDJCLENBQzUyQiwwQ0FBMEMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9jb20vLi9ub2RlX21vZHVsZXMvZHJpenpsZS1vcm0vdmlldy0yMzg5OGYyMS5tanM/YjIxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUIGFzIFRhYmxlLCBlIGFzIGVudGl0eUtpbmQsIEMgYXMgQ29sdW1uQnVpbGRlciwgcCBhcyBDb2x1bW4sIFEgYXMgUXVlcnlQcm9taXNlLCBpIGFzIGlzLCBTIGFzIFNRTCwgYiBhcyBQYXJhbSwgZCBhcyBtYXBVcGRhdGVTZXQsIHMgYXMgc3FsLCBvIGFzIG9yZGVyU2VsZWN0ZWRGaWVsZHMsIHEgYXMgZ2V0VGFibGVOYW1lLCByIGFzIFN1YnF1ZXJ5LCB1IGFzIFN1YnF1ZXJ5Q29uZmlnLCBWIGFzIFZpZXdCYXNlQ29uZmlnLCB2IGFzIFZpZXcsIHcgYXMgYWxpYXNlZFRhYmxlQ29sdW1uLCB4IGFzIGdldE9wZXJhdG9ycywgeSBhcyBtYXBDb2x1bW5zSW5TUUxUb0FsaWFzLCB6IGFzIG1hcENvbHVtbnNJbkFsaWFzZWRTUUxUb0FsaWFzLCBBIGFzIGdldE9yZGVyQnlPcGVyYXRvcnMsIEIgYXMgbm9ybWFsaXplUmVsYXRpb24sIEUgYXMgYW5kLCBGIGFzIGVxLCBPIGFzIE9uZSwgRCBhcyBEcml6emxlRXJyb3IsIE0gYXMgTWFueSwgRyBhcyBhbGlhc2VkVGFibGUsIEggYXMgYXBwbHlNaXhpbnMsIEkgYXMgZ2V0VGFibGVDb2x1bW5zLCBKIGFzIFR5cGVkUXVlcnlCdWlsZGVyLCBLIGFzIGdldFRhYmxlTGlrZU5hbWUsIGogYXMgU2VsZWN0aW9uUHJveHlIYW5kbGVyLCBXIGFzIFdpdGhTdWJxdWVyeSwgZyBhcyBtYXBSZWxhdGlvbmFsUm93LCBsIGFzIFRyYW5zYWN0aW9uUm9sbGJhY2tFcnJvciB9IGZyb20gJy4vYWxpYXMtY2Y4ZTAzY2QubWpzJztcblxuLyoqIEBpbnRlcm5hbCAqL1xuY29uc3QgSW5saW5lRm9yZWlnbktleXMgPSBTeW1ib2wuZm9yKCdkcml6emxlOk15U3FsSW5saW5lRm9yZWlnbktleXMnKTtcbmNsYXNzIE15U3FsVGFibGUgZXh0ZW5kcyBUYWJsZSB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbFRhYmxlJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgc3RhdGljIFN5bWJvbCA9IE9iamVjdC5hc3NpZ24oe30sIFRhYmxlLlN5bWJvbCwge1xuICAgICAgICBJbmxpbmVGb3JlaWduS2V5czogSW5saW5lRm9yZWlnbktleXMsXG4gICAgfSk7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIFtUYWJsZS5TeW1ib2wuQ29sdW1uc107XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIFtJbmxpbmVGb3JlaWduS2V5c10gPSBbXTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgW1RhYmxlLlN5bWJvbC5FeHRyYUNvbmZpZ0J1aWxkZXJdID0gdW5kZWZpbmVkO1xufVxuZnVuY3Rpb24gbXlzcWxUYWJsZVdpdGhTY2hlbWEobmFtZSwgY29sdW1ucywgZXh0cmFDb25maWcsIHNjaGVtYSwgYmFzZU5hbWUgPSBuYW1lKSB7XG4gICAgY29uc3QgcmF3VGFibGUgPSBuZXcgTXlTcWxUYWJsZShuYW1lLCBzY2hlbWEsIGJhc2VOYW1lKTtcbiAgICBjb25zdCBidWlsdENvbHVtbnMgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXMoY29sdW1ucykubWFwKChbbmFtZSwgY29sQnVpbGRlckJhc2VdKSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbEJ1aWxkZXIgPSBjb2xCdWlsZGVyQmFzZTtcbiAgICAgICAgY29uc3QgY29sdW1uID0gY29sQnVpbGRlci5idWlsZChyYXdUYWJsZSk7XG4gICAgICAgIHJhd1RhYmxlW0lubGluZUZvcmVpZ25LZXlzXS5wdXNoKC4uLmNvbEJ1aWxkZXIuYnVpbGRGb3JlaWduS2V5cyhjb2x1bW4sIHJhd1RhYmxlKSk7XG4gICAgICAgIHJldHVybiBbbmFtZSwgY29sdW1uXTtcbiAgICB9KSk7XG4gICAgY29uc3QgdGFibGUgPSBPYmplY3QuYXNzaWduKHJhd1RhYmxlLCBidWlsdENvbHVtbnMpO1xuICAgIHRhYmxlW1RhYmxlLlN5bWJvbC5Db2x1bW5zXSA9IGJ1aWx0Q29sdW1ucztcbiAgICBpZiAoZXh0cmFDb25maWcpIHtcbiAgICAgICAgdGFibGVbTXlTcWxUYWJsZS5TeW1ib2wuRXh0cmFDb25maWdCdWlsZGVyXSA9IGV4dHJhQ29uZmlnO1xuICAgIH1cbiAgICByZXR1cm4gdGFibGU7XG59XG5jb25zdCBteXNxbFRhYmxlID0gKG5hbWUsIGNvbHVtbnMsIGV4dHJhQ29uZmlnKSA9PiB7XG4gICAgcmV0dXJuIG15c3FsVGFibGVXaXRoU2NoZW1hKG5hbWUsIGNvbHVtbnMsIGV4dHJhQ29uZmlnLCB1bmRlZmluZWQsIG5hbWUpO1xufTtcbmZ1bmN0aW9uIG15c3FsVGFibGVDcmVhdG9yKGN1c3RvbWl6ZVRhYmxlTmFtZSkge1xuICAgIHJldHVybiAobmFtZSwgY29sdW1ucywgZXh0cmFDb25maWcpID0+IHtcbiAgICAgICAgcmV0dXJuIG15c3FsVGFibGVXaXRoU2NoZW1hKGN1c3RvbWl6ZVRhYmxlTmFtZShuYW1lKSwgY29sdW1ucywgZXh0cmFDb25maWcsIHVuZGVmaW5lZCwgbmFtZSk7XG4gICAgfTtcbn1cblxuY2xhc3MgRm9yZWlnbktleUJ1aWxkZXIge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxGb3JlaWduS2V5QnVpbGRlcic7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIHJlZmVyZW5jZTtcbiAgICAvKiogQGludGVybmFsICovXG4gICAgX29uVXBkYXRlO1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBfb25EZWxldGU7XG4gICAgY29uc3RydWN0b3IoY29uZmlnLCBhY3Rpb25zKSB7XG4gICAgICAgIHRoaXMucmVmZXJlbmNlID0gKCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgeyBjb2x1bW5zLCBmb3JlaWduQ29sdW1ucyB9ID0gY29uZmlnKCk7XG4gICAgICAgICAgICByZXR1cm4geyBjb2x1bW5zLCBmb3JlaWduVGFibGU6IGZvcmVpZ25Db2x1bW5zWzBdLnRhYmxlLCBmb3JlaWduQ29sdW1ucyB9O1xuICAgICAgICB9O1xuICAgICAgICBpZiAoYWN0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5fb25VcGRhdGUgPSBhY3Rpb25zLm9uVXBkYXRlO1xuICAgICAgICAgICAgdGhpcy5fb25EZWxldGUgPSBhY3Rpb25zLm9uRGVsZXRlO1xuICAgICAgICB9XG4gICAgfVxuICAgIG9uVXBkYXRlKGFjdGlvbikge1xuICAgICAgICB0aGlzLl9vblVwZGF0ZSA9IGFjdGlvbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIG9uRGVsZXRlKGFjdGlvbikge1xuICAgICAgICB0aGlzLl9vbkRlbGV0ZSA9IGFjdGlvbjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IEZvcmVpZ25LZXkodGFibGUsIHRoaXMpO1xuICAgIH1cbn1cbmNsYXNzIEZvcmVpZ25LZXkge1xuICAgIHRhYmxlO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxGb3JlaWduS2V5JztcbiAgICByZWZlcmVuY2U7XG4gICAgb25VcGRhdGU7XG4gICAgb25EZWxldGU7XG4gICAgY29uc3RydWN0b3IodGFibGUsIGJ1aWxkZXIpIHtcbiAgICAgICAgdGhpcy50YWJsZSA9IHRhYmxlO1xuICAgICAgICB0aGlzLnJlZmVyZW5jZSA9IGJ1aWxkZXIucmVmZXJlbmNlO1xuICAgICAgICB0aGlzLm9uVXBkYXRlID0gYnVpbGRlci5fb25VcGRhdGU7XG4gICAgICAgIHRoaXMub25EZWxldGUgPSBidWlsZGVyLl9vbkRlbGV0ZTtcbiAgICB9XG4gICAgZ2V0TmFtZSgpIHtcbiAgICAgICAgY29uc3QgeyBjb2x1bW5zLCBmb3JlaWduQ29sdW1ucyB9ID0gdGhpcy5yZWZlcmVuY2UoKTtcbiAgICAgICAgY29uc3QgY29sdW1uTmFtZXMgPSBjb2x1bW5zLm1hcCgoY29sdW1uKSA9PiBjb2x1bW4ubmFtZSk7XG4gICAgICAgIGNvbnN0IGZvcmVpZ25Db2x1bW5OYW1lcyA9IGZvcmVpZ25Db2x1bW5zLm1hcCgoY29sdW1uKSA9PiBjb2x1bW4ubmFtZSk7XG4gICAgICAgIGNvbnN0IGNodW5rcyA9IFtcbiAgICAgICAgICAgIHRoaXMudGFibGVbTXlTcWxUYWJsZS5TeW1ib2wuTmFtZV0sXG4gICAgICAgICAgICAuLi5jb2x1bW5OYW1lcyxcbiAgICAgICAgICAgIGZvcmVpZ25Db2x1bW5zWzBdLnRhYmxlW015U3FsVGFibGUuU3ltYm9sLk5hbWVdLFxuICAgICAgICAgICAgLi4uZm9yZWlnbkNvbHVtbk5hbWVzLFxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gYCR7Y2h1bmtzLmpvaW4oJ18nKX1fZmtgO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZvcmVpZ25LZXkoY29uZmlnKSB7XG4gICAgZnVuY3Rpb24gbWFwcGVkQ29uZmlnKCkge1xuICAgICAgICBjb25zdCB7IGNvbHVtbnMsIGZvcmVpZ25Db2x1bW5zIH0gPSBjb25maWc7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb2x1bW5zLFxuICAgICAgICAgICAgZm9yZWlnbkNvbHVtbnMsXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBuZXcgRm9yZWlnbktleUJ1aWxkZXIobWFwcGVkQ29uZmlnKTtcbn1cblxuZnVuY3Rpb24gdW5pcXVlKG5hbWUpIHtcbiAgICByZXR1cm4gbmV3IFVuaXF1ZU9uQ29uc3RyYWludEJ1aWxkZXIobmFtZSk7XG59XG5mdW5jdGlvbiB1bmlxdWVLZXlOYW1lKHRhYmxlLCBjb2x1bW5zKSB7XG4gICAgcmV0dXJuIGAke3RhYmxlW015U3FsVGFibGUuU3ltYm9sLk5hbWVdfV8ke2NvbHVtbnMuam9pbignXycpfV91bmlxdWVgO1xufVxuY2xhc3MgVW5pcXVlQ29uc3RyYWludEJ1aWxkZXIge1xuICAgIG5hbWU7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbFVuaXF1ZUNvbnN0cmFpbnRCdWlsZGVyJztcbiAgICAvKiogQGludGVybmFsICovXG4gICAgY29sdW1ucztcbiAgICBjb25zdHJ1Y3Rvcihjb2x1bW5zLCBuYW1lKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuY29sdW1ucyA9IGNvbHVtbnM7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBidWlsZCh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IFVuaXF1ZUNvbnN0cmFpbnQodGFibGUsIHRoaXMuY29sdW1ucywgdGhpcy5uYW1lKTtcbiAgICB9XG59XG5jbGFzcyBVbmlxdWVPbkNvbnN0cmFpbnRCdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsVW5pcXVlT25Db25zdHJhaW50QnVpbGRlcic7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIG5hbWU7XG4gICAgY29uc3RydWN0b3IobmFtZSkge1xuICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xuICAgIH1cbiAgICBvbiguLi5jb2x1bW5zKSB7XG4gICAgICAgIHJldHVybiBuZXcgVW5pcXVlQ29uc3RyYWludEJ1aWxkZXIoY29sdW1ucywgdGhpcy5uYW1lKTtcbiAgICB9XG59XG5jbGFzcyBVbmlxdWVDb25zdHJhaW50IHtcbiAgICB0YWJsZTtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsVW5pcXVlQ29uc3RyYWludCc7XG4gICAgY29sdW1ucztcbiAgICBuYW1lO1xuICAgIG51bGxzTm90RGlzdGluY3QgPSBmYWxzZTtcbiAgICBjb25zdHJ1Y3Rvcih0YWJsZSwgY29sdW1ucywgbmFtZSkge1xuICAgICAgICB0aGlzLnRhYmxlID0gdGFibGU7XG4gICAgICAgIHRoaXMuY29sdW1ucyA9IGNvbHVtbnM7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWUgPz8gdW5pcXVlS2V5TmFtZSh0aGlzLnRhYmxlLCB0aGlzLmNvbHVtbnMubWFwKChjb2x1bW4pID0+IGNvbHVtbi5uYW1lKSk7XG4gICAgfVxuICAgIGdldE5hbWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hbWU7XG4gICAgfVxufVxuXG5jbGFzcyBNeVNxbENvbHVtbkJ1aWxkZXIgZXh0ZW5kcyBDb2x1bW5CdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsQ29sdW1uQnVpbGRlcic7XG4gICAgZm9yZWlnbktleUNvbmZpZ3MgPSBbXTtcbiAgICByZWZlcmVuY2VzKHJlZiwgYWN0aW9ucyA9IHt9KSB7XG4gICAgICAgIHRoaXMuZm9yZWlnbktleUNvbmZpZ3MucHVzaCh7IHJlZiwgYWN0aW9ucyB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHVuaXF1ZShuYW1lKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLmlzVW5pcXVlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5jb25maWcudW5pcXVlTmFtZSA9IG5hbWU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgYnVpbGRGb3JlaWduS2V5cyhjb2x1bW4sIHRhYmxlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvcmVpZ25LZXlDb25maWdzLm1hcCgoeyByZWYsIGFjdGlvbnMgfSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICgocmVmLCBhY3Rpb25zKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgYnVpbGRlciA9IG5ldyBGb3JlaWduS2V5QnVpbGRlcigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGZvcmVpZ25Db2x1bW4gPSByZWYoKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgY29sdW1uczogW2NvbHVtbl0sIGZvcmVpZ25Db2x1bW5zOiBbZm9yZWlnbkNvbHVtbl0gfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9ucy5vblVwZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBidWlsZGVyLm9uVXBkYXRlKGFjdGlvbnMub25VcGRhdGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYWN0aW9ucy5vbkRlbGV0ZSkge1xuICAgICAgICAgICAgICAgICAgICBidWlsZGVyLm9uRGVsZXRlKGFjdGlvbnMub25EZWxldGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gYnVpbGRlci5idWlsZCh0YWJsZSk7XG4gICAgICAgICAgICB9KShyZWYsIGFjdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyBUbyB1bmRlcnN0YW5kIGhvdyB0byB1c2UgYE15U3FsQ29sdW1uYCBhbmQgYEFueU15U3FsQ29sdW1uYCwgc2VlIGBDb2x1bW5gIGFuZCBgQW55Q29sdW1uYCBkb2N1bWVudGF0aW9uLlxuY2xhc3MgTXlTcWxDb2x1bW4gZXh0ZW5kcyBDb2x1bW4ge1xuICAgIHRhYmxlO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxDb2x1bW4nO1xuICAgIGNvbnN0cnVjdG9yKHRhYmxlLCBjb25maWcpIHtcbiAgICAgICAgaWYgKCFjb25maWcudW5pcXVlTmFtZSkge1xuICAgICAgICAgICAgY29uZmlnLnVuaXF1ZU5hbWUgPSB1bmlxdWVLZXlOYW1lKHRhYmxlLCBbY29uZmlnLm5hbWVdKTtcbiAgICAgICAgfVxuICAgICAgICBzdXBlcih0YWJsZSwgY29uZmlnKTtcbiAgICAgICAgdGhpcy50YWJsZSA9IHRhYmxlO1xuICAgIH1cbn1cbmNsYXNzIE15U3FsQ29sdW1uQnVpbGRlcldpdGhBdXRvSW5jcmVtZW50IGV4dGVuZHMgTXlTcWxDb2x1bW5CdWlsZGVyIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsQ29sdW1uQnVpbGRlcldpdGhBdXRvSW5jcmVtZW50JztcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBkYXRhVHlwZSwgY29sdW1uVHlwZSkge1xuICAgICAgICBzdXBlcihuYW1lLCBkYXRhVHlwZSwgY29sdW1uVHlwZSk7XG4gICAgICAgIHRoaXMuY29uZmlnLmF1dG9JbmNyZW1lbnQgPSBmYWxzZTtcbiAgICB9XG4gICAgYXV0b2luY3JlbWVudCgpIHtcbiAgICAgICAgdGhpcy5jb25maWcuYXV0b0luY3JlbWVudCA9IHRydWU7XG4gICAgICAgIHRoaXMuY29uZmlnLmhhc0RlZmF1bHQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5jbGFzcyBNeVNxbENvbHVtbldpdGhBdXRvSW5jcmVtZW50IGV4dGVuZHMgTXlTcWxDb2x1bW4ge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxDb2x1bW5XaXRoQXV0b0luY3JlbWVudCc7XG4gICAgYXV0b0luY3JlbWVudCA9IHRoaXMuY29uZmlnLmF1dG9JbmNyZW1lbnQ7XG59XG5cbmNsYXNzIE15U3FsRGVsZXRlIGV4dGVuZHMgUXVlcnlQcm9taXNlIHtcbiAgICB0YWJsZTtcbiAgICBzZXNzaW9uO1xuICAgIGRpYWxlY3Q7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbERlbGV0ZSc7XG4gICAgY29uZmlnO1xuICAgIGNvbnN0cnVjdG9yKHRhYmxlLCBzZXNzaW9uLCBkaWFsZWN0KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudGFibGUgPSB0YWJsZTtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgdGhpcy5kaWFsZWN0ID0gZGlhbGVjdDtcbiAgICAgICAgdGhpcy5jb25maWcgPSB7IHRhYmxlIH07XG4gICAgfVxuICAgIHdoZXJlKHdoZXJlKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLndoZXJlID0gd2hlcmU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKiogQGludGVybmFsICovXG4gICAgZ2V0U1FMKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kaWFsZWN0LmJ1aWxkRGVsZXRlUXVlcnkodGhpcy5jb25maWcpO1xuICAgIH1cbiAgICB0b1NRTCgpIHtcbiAgICAgICAgY29uc3QgeyB0eXBpbmdzOiBfdHlwaW5ncywgLi4ucmVzdCB9ID0gdGhpcy5kaWFsZWN0LnNxbFRvUXVlcnkodGhpcy5nZXRTUUwoKSk7XG4gICAgICAgIHJldHVybiByZXN0O1xuICAgIH1cbiAgICBwcmVwYXJlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uLnByZXBhcmVRdWVyeSh0aGlzLmRpYWxlY3Quc3FsVG9RdWVyeSh0aGlzLmdldFNRTCgpKSwgdGhpcy5jb25maWcucmV0dXJuaW5nKTtcbiAgICB9XG4gICAgZXhlY3V0ZSA9IChwbGFjZWhvbGRlclZhbHVlcykgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVwYXJlKCkuZXhlY3V0ZShwbGFjZWhvbGRlclZhbHVlcyk7XG4gICAgfTtcbiAgICBjcmVhdGVJdGVyYXRvciA9ICgpID0+IHtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIHJldHVybiBhc3luYyBmdW5jdGlvbiogKHBsYWNlaG9sZGVyVmFsdWVzKSB7XG4gICAgICAgICAgICB5aWVsZCogc2VsZi5wcmVwYXJlKCkuaXRlcmF0b3IocGxhY2Vob2xkZXJWYWx1ZXMpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgaXRlcmF0b3IgPSB0aGlzLmNyZWF0ZUl0ZXJhdG9yKCk7XG59XG5cbmNsYXNzIE15U3FsSW5zZXJ0QnVpbGRlciB7XG4gICAgdGFibGU7XG4gICAgc2Vzc2lvbjtcbiAgICBkaWFsZWN0O1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxJbnNlcnRCdWlsZGVyJztcbiAgICBzaG91bGRJZ25vcmUgPSBmYWxzZTtcbiAgICBjb25zdHJ1Y3Rvcih0YWJsZSwgc2Vzc2lvbiwgZGlhbGVjdCkge1xuICAgICAgICB0aGlzLnRhYmxlID0gdGFibGU7XG4gICAgICAgIHRoaXMuc2Vzc2lvbiA9IHNlc3Npb247XG4gICAgICAgIHRoaXMuZGlhbGVjdCA9IGRpYWxlY3Q7XG4gICAgfVxuICAgIGlnbm9yZSgpIHtcbiAgICAgICAgdGhpcy5zaG91bGRJZ25vcmUgPSB0cnVlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgdmFsdWVzKHZhbHVlcykge1xuICAgICAgICB2YWx1ZXMgPSBBcnJheS5pc0FycmF5KHZhbHVlcykgPyB2YWx1ZXMgOiBbdmFsdWVzXTtcbiAgICAgICAgaWYgKHZhbHVlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigndmFsdWVzKCkgbXVzdCBiZSBjYWxsZWQgd2l0aCBhdCBsZWFzdCBvbmUgdmFsdWUnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtYXBwZWRWYWx1ZXMgPSB2YWx1ZXMubWFwKChlbnRyeSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0ge307XG4gICAgICAgICAgICBjb25zdCBjb2xzID0gdGhpcy50YWJsZVtUYWJsZS5TeW1ib2wuQ29sdW1uc107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNvbEtleSBvZiBPYmplY3Qua2V5cyhlbnRyeSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2xWYWx1ZSA9IGVudHJ5W2NvbEtleV07XG4gICAgICAgICAgICAgICAgcmVzdWx0W2NvbEtleV0gPSBpcyhjb2xWYWx1ZSwgU1FMKSA/IGNvbFZhbHVlIDogbmV3IFBhcmFtKGNvbFZhbHVlLCBjb2xzW2NvbEtleV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBuZXcgTXlTcWxJbnNlcnQodGhpcy50YWJsZSwgbWFwcGVkVmFsdWVzLCB0aGlzLnNob3VsZElnbm9yZSwgdGhpcy5zZXNzaW9uLCB0aGlzLmRpYWxlY3QpO1xuICAgIH1cbn1cbmNsYXNzIE15U3FsSW5zZXJ0IGV4dGVuZHMgUXVlcnlQcm9taXNlIHtcbiAgICBzZXNzaW9uO1xuICAgIGRpYWxlY3Q7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbEluc2VydCc7XG4gICAgY29uZmlnO1xuICAgIGNvbnN0cnVjdG9yKHRhYmxlLCB2YWx1ZXMsIGlnbm9yZSwgc2Vzc2lvbiwgZGlhbGVjdCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgICAgICB0aGlzLmRpYWxlY3QgPSBkaWFsZWN0O1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHsgdGFibGUsIHZhbHVlcywgaWdub3JlIH07XG4gICAgfVxuICAgIG9uRHVwbGljYXRlS2V5VXBkYXRlKGNvbmZpZykge1xuICAgICAgICBjb25zdCBzZXRTcWwgPSB0aGlzLmRpYWxlY3QuYnVpbGRVcGRhdGVTZXQodGhpcy5jb25maWcudGFibGUsIG1hcFVwZGF0ZVNldCh0aGlzLmNvbmZpZy50YWJsZSwgY29uZmlnLnNldCkpO1xuICAgICAgICB0aGlzLmNvbmZpZy5vbkNvbmZsaWN0ID0gc3FsIGB1cGRhdGUgJHtzZXRTcWx9YDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBnZXRTUUwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpYWxlY3QuYnVpbGRJbnNlcnRRdWVyeSh0aGlzLmNvbmZpZyk7XG4gICAgfVxuICAgIHRvU1FMKCkge1xuICAgICAgICBjb25zdCB7IHR5cGluZ3M6IF90eXBpbmdzLCAuLi5yZXN0IH0gPSB0aGlzLmRpYWxlY3Quc3FsVG9RdWVyeSh0aGlzLmdldFNRTCgpKTtcbiAgICAgICAgcmV0dXJuIHJlc3Q7XG4gICAgfVxuICAgIHByZXBhcmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24ucHJlcGFyZVF1ZXJ5KHRoaXMuZGlhbGVjdC5zcWxUb1F1ZXJ5KHRoaXMuZ2V0U1FMKCkpLCB1bmRlZmluZWQpO1xuICAgIH1cbiAgICBleGVjdXRlID0gKHBsYWNlaG9sZGVyVmFsdWVzKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZXBhcmUoKS5leGVjdXRlKHBsYWNlaG9sZGVyVmFsdWVzKTtcbiAgICB9O1xuICAgIGNyZWF0ZUl0ZXJhdG9yID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uKiAocGxhY2Vob2xkZXJWYWx1ZXMpIHtcbiAgICAgICAgICAgIHlpZWxkKiBzZWxmLnByZXBhcmUoKS5pdGVyYXRvcihwbGFjZWhvbGRlclZhbHVlcyk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBpdGVyYXRvciA9IHRoaXMuY3JlYXRlSXRlcmF0b3IoKTtcbn1cblxuLy8gVE9ETyBmaW5kIG91dCBob3cgdG8gdXNlIGFsbC92YWx1ZXMuIFNlZW1zIGxpa2UgSSBuZWVkIHRob3NlIGZ1bmN0aW9uc1xuLy8gQnVpbGQgcHJvamVjdFxuLy8gY29weSBydW50aW1lIHRlc3RzIHRvIGJlIHN1cmUgaXQncyB3b3JraW5nXG4vLyBBZGQgbXlzcWwgdG8gZHJpenpsZS1raXRcbi8vIEFkZCBQbGFuZXRzY2FsZSBEcml2ZXIgYW5kIGNyZWF0ZSBleGFtcGxlIHJlcG9cbmNsYXNzIE15U3FsRGlhbGVjdCB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbERpYWxlY3QnO1xuICAgIGFzeW5jIG1pZ3JhdGUobWlncmF0aW9ucywgc2Vzc2lvbiwgY29uZmlnKSB7XG4gICAgICAgIGNvbnN0IG1pZ3JhdGlvbnNUYWJsZSA9IGNvbmZpZy5taWdyYXRpb25zVGFibGUgPz8gJ19fZHJpenpsZV9taWdyYXRpb25zJztcbiAgICAgICAgY29uc3QgbWlncmF0aW9uVGFibGVDcmVhdGUgPSBzcWwgYFxuXHRcdFx0Y3JlYXRlIHRhYmxlIGlmIG5vdCBleGlzdHMgJHtzcWwuaWRlbnRpZmllcihtaWdyYXRpb25zVGFibGUpfSAoXG5cdFx0XHRcdGlkIHNlcmlhbCBwcmltYXJ5IGtleSxcblx0XHRcdFx0aGFzaCB0ZXh0IG5vdCBudWxsLFxuXHRcdFx0XHRjcmVhdGVkX2F0IGJpZ2ludFxuXHRcdFx0KVxuXHRcdGA7XG4gICAgICAgIGF3YWl0IHNlc3Npb24uZXhlY3V0ZShtaWdyYXRpb25UYWJsZUNyZWF0ZSk7XG4gICAgICAgIGNvbnN0IGRiTWlncmF0aW9ucyA9IGF3YWl0IHNlc3Npb24uYWxsKHNxbCBgc2VsZWN0IGlkLCBoYXNoLCBjcmVhdGVkX2F0IGZyb20gJHtzcWwuaWRlbnRpZmllcihtaWdyYXRpb25zVGFibGUpfSBvcmRlciBieSBjcmVhdGVkX2F0IGRlc2MgbGltaXQgMWApO1xuICAgICAgICBjb25zdCBsYXN0RGJNaWdyYXRpb24gPSBkYk1pZ3JhdGlvbnNbMF07XG4gICAgICAgIGF3YWl0IHNlc3Npb24udHJhbnNhY3Rpb24oYXN5bmMgKHR4KSA9PiB7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1pZ3JhdGlvbiBvZiBtaWdyYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFsYXN0RGJNaWdyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgfHwgTnVtYmVyKGxhc3REYk1pZ3JhdGlvbi5jcmVhdGVkX2F0KSA8IG1pZ3JhdGlvbi5mb2xkZXJNaWxsaXMpIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBzdG10IG9mIG1pZ3JhdGlvbi5zcWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHR4LmV4ZWN1dGUoc3FsLnJhdyhzdG10KSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdHguZXhlY3V0ZShzcWwgYGluc2VydCBpbnRvICR7c3FsLmlkZW50aWZpZXIobWlncmF0aW9uc1RhYmxlKX0gKFxcYGhhc2hcXGAsIFxcYGNyZWF0ZWRfYXRcXGApIHZhbHVlcygke21pZ3JhdGlvbi5oYXNofSwgJHttaWdyYXRpb24uZm9sZGVyTWlsbGlzfSlgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlc2NhcGVOYW1lKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGBcXGAke25hbWV9XFxgYDtcbiAgICB9XG4gICAgZXNjYXBlUGFyYW0oX251bSkge1xuICAgICAgICByZXR1cm4gYD9gO1xuICAgIH1cbiAgICBlc2NhcGVTdHJpbmcoc3RyKSB7XG4gICAgICAgIHJldHVybiBgJyR7c3RyLnJlcGxhY2UoLycvZywgXCInJ1wiKX0nYDtcbiAgICB9XG4gICAgYnVpbGREZWxldGVRdWVyeSh7IHRhYmxlLCB3aGVyZSwgcmV0dXJuaW5nIH0pIHtcbiAgICAgICAgY29uc3QgcmV0dXJuaW5nU3FsID0gcmV0dXJuaW5nXG4gICAgICAgICAgICA/IHNxbCBgIHJldHVybmluZyAke3RoaXMuYnVpbGRTZWxlY3Rpb24ocmV0dXJuaW5nLCB7IGlzU2luZ2xlVGFibGU6IHRydWUgfSl9YFxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHdoZXJlU3FsID0gd2hlcmUgPyBzcWwgYCB3aGVyZSAke3doZXJlfWAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBzcWwgYGRlbGV0ZSBmcm9tICR7dGFibGV9JHt3aGVyZVNxbH0ke3JldHVybmluZ1NxbH1gO1xuICAgIH1cbiAgICBidWlsZFVwZGF0ZVNldCh0YWJsZSwgc2V0KSB7XG4gICAgICAgIGNvbnN0IHNldEVudHJpZXMgPSBPYmplY3QuZW50cmllcyhzZXQpO1xuICAgICAgICBjb25zdCBzZXRTaXplID0gc2V0RW50cmllcy5sZW5ndGg7XG4gICAgICAgIHJldHVybiBzcWwuam9pbihzZXRFbnRyaWVzXG4gICAgICAgICAgICAuZmxhdE1hcCgoW2NvbE5hbWUsIHZhbHVlXSwgaSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY29sID0gdGFibGVbVGFibGUuU3ltYm9sLkNvbHVtbnNdW2NvbE5hbWVdO1xuICAgICAgICAgICAgY29uc3QgcmVzID0gc3FsIGAke3NxbC5pZGVudGlmaWVyKGNvbC5uYW1lKX0gPSAke3ZhbHVlfWA7XG4gICAgICAgICAgICBpZiAoaSA8IHNldFNpemUgLSAxKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtyZXMsIHNxbC5yYXcoJywgJyldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtyZXNdO1xuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGJ1aWxkVXBkYXRlUXVlcnkoeyB0YWJsZSwgc2V0LCB3aGVyZSwgcmV0dXJuaW5nIH0pIHtcbiAgICAgICAgY29uc3Qgc2V0U3FsID0gdGhpcy5idWlsZFVwZGF0ZVNldCh0YWJsZSwgc2V0KTtcbiAgICAgICAgY29uc3QgcmV0dXJuaW5nU3FsID0gcmV0dXJuaW5nXG4gICAgICAgICAgICA/IHNxbCBgIHJldHVybmluZyAke3RoaXMuYnVpbGRTZWxlY3Rpb24ocmV0dXJuaW5nLCB7IGlzU2luZ2xlVGFibGU6IHRydWUgfSl9YFxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHdoZXJlU3FsID0gd2hlcmUgPyBzcWwgYCB3aGVyZSAke3doZXJlfWAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBzcWwgYHVwZGF0ZSAke3RhYmxlfSBzZXQgJHtzZXRTcWx9JHt3aGVyZVNxbH0ke3JldHVybmluZ1NxbH1gO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBCdWlsZHMgc2VsZWN0aW9uIFNRTCB3aXRoIHByb3ZpZGVkIGZpZWxkcy9leHByZXNzaW9uc1xuICAgICAqXG4gICAgICogRXhhbXBsZXM6XG4gICAgICpcbiAgICAgKiBgc2VsZWN0IDxzZWxlY3Rpb24+IGZyb21gXG4gICAgICpcbiAgICAgKiBgaW5zZXJ0IC4uLiByZXR1cm5pbmcgPHNlbGVjdGlvbj5gXG4gICAgICpcbiAgICAgKiBJZiBgaXNTaW5nbGVUYWJsZWAgaXMgdHJ1ZSwgdGhlbiBjb2x1bW5zIHdvbid0IGJlIHByZWZpeGVkIHdpdGggdGFibGUgbmFtZVxuICAgICAqL1xuICAgIGJ1aWxkU2VsZWN0aW9uKGZpZWxkcywgeyBpc1NpbmdsZVRhYmxlID0gZmFsc2UgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IGNvbHVtbnNMZW4gPSBmaWVsZHMubGVuZ3RoO1xuICAgICAgICBjb25zdCBjaHVua3MgPSBmaWVsZHNcbiAgICAgICAgICAgIC5mbGF0TWFwKCh7IGZpZWxkIH0sIGkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNodW5rID0gW107XG4gICAgICAgICAgICBpZiAoaXMoZmllbGQsIFNRTC5BbGlhc2VkKSAmJiBmaWVsZC5pc1NlbGVjdGlvbkZpZWxkKSB7XG4gICAgICAgICAgICAgICAgY2h1bmsucHVzaChzcWwuaWRlbnRpZmllcihmaWVsZC5maWVsZEFsaWFzKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpcyhmaWVsZCwgU1FMLkFsaWFzZWQpIHx8IGlzKGZpZWxkLCBTUUwpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcXVlcnkgPSBpcyhmaWVsZCwgU1FMLkFsaWFzZWQpID8gZmllbGQuc3FsIDogZmllbGQ7XG4gICAgICAgICAgICAgICAgaWYgKGlzU2luZ2xlVGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2h1bmsucHVzaChuZXcgU1FMKHF1ZXJ5LnF1ZXJ5Q2h1bmtzLm1hcCgoYykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzKGMsIE15U3FsQ29sdW1uKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzcWwuaWRlbnRpZmllcihjLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGM7XG4gICAgICAgICAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjaHVuay5wdXNoKHF1ZXJ5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGlzKGZpZWxkLCBTUUwuQWxpYXNlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY2h1bmsucHVzaChzcWwgYCBhcyAke3NxbC5pZGVudGlmaWVyKGZpZWxkLmZpZWxkQWxpYXMpfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzKGZpZWxkLCBDb2x1bW4pKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzU2luZ2xlVGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY2h1bmsucHVzaChzcWwuaWRlbnRpZmllcihmaWVsZC5uYW1lKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjaHVuay5wdXNoKGZpZWxkKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaSA8IGNvbHVtbnNMZW4gLSAxKSB7XG4gICAgICAgICAgICAgICAgY2h1bmsucHVzaChzcWwgYCwgYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2h1bms7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc3FsLmpvaW4oY2h1bmtzKTtcbiAgICB9XG4gICAgYnVpbGRTZWxlY3RRdWVyeSh7IHdpdGhMaXN0LCBmaWVsZHMsIGZpZWxkc0ZsYXQsIHdoZXJlLCBoYXZpbmcsIHRhYmxlLCBqb2lucywgb3JkZXJCeSwgZ3JvdXBCeSwgbGltaXQsIG9mZnNldCwgbG9ja2luZ0NsYXVzZSwgZGlzdGluY3QsIH0pIHtcbiAgICAgICAgY29uc3QgZmllbGRzTGlzdCA9IGZpZWxkc0ZsYXQgPz8gb3JkZXJTZWxlY3RlZEZpZWxkcyhmaWVsZHMpO1xuICAgICAgICBmb3IgKGNvbnN0IGYgb2YgZmllbGRzTGlzdCkge1xuICAgICAgICAgICAgaWYgKGlzKGYuZmllbGQsIENvbHVtbilcbiAgICAgICAgICAgICAgICAmJiBnZXRUYWJsZU5hbWUoZi5maWVsZC50YWJsZSlcbiAgICAgICAgICAgICAgICAgICAgIT09IChpcyh0YWJsZSwgU3VicXVlcnkpXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHRhYmxlW1N1YnF1ZXJ5Q29uZmlnXS5hbGlhc1xuICAgICAgICAgICAgICAgICAgICAgICAgOiBpcyh0YWJsZSwgTXlTcWxWaWV3QmFzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHRhYmxlW1ZpZXdCYXNlQ29uZmlnXS5uYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBpcyh0YWJsZSwgU1FMKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IGdldFRhYmxlTmFtZSh0YWJsZSkpXG4gICAgICAgICAgICAgICAgJiYgISgodGFibGUpID0+IGpvaW5zPy5zb21lKCh7IGFsaWFzIH0pID0+IGFsaWFzID09PSAodGFibGVbVGFibGUuU3ltYm9sLklzQWxpYXNdID8gZ2V0VGFibGVOYW1lKHRhYmxlKSA6IHRhYmxlW1RhYmxlLlN5bWJvbC5CYXNlTmFtZV0pKSkoZi5maWVsZC50YWJsZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0YWJsZU5hbWUgPSBnZXRUYWJsZU5hbWUoZi5maWVsZC50YWJsZSk7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBZb3VyIFwiJHtmLnBhdGguam9pbignLT4nKX1cIiBmaWVsZCByZWZlcmVuY2VzIGEgY29sdW1uIFwiJHt0YWJsZU5hbWV9XCIuXCIke2YuZmllbGQubmFtZX1cIiwgYnV0IHRoZSB0YWJsZSBcIiR7dGFibGVOYW1lfVwiIGlzIG5vdCBwYXJ0IG9mIHRoZSBxdWVyeSEgRGlkIHlvdSBmb3JnZXQgdG8gam9pbiBpdD9gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpc1NpbmdsZVRhYmxlID0gIWpvaW5zIHx8IGpvaW5zLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgbGV0IHdpdGhTcWw7XG4gICAgICAgIGlmICh3aXRoTGlzdD8ubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCB3aXRoU3FsQ2h1bmtzID0gW3NxbCBgd2l0aCBgXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2ksIHddIG9mIHdpdGhMaXN0LmVudHJpZXMoKSkge1xuICAgICAgICAgICAgICAgIHdpdGhTcWxDaHVua3MucHVzaChzcWwgYCR7c3FsLmlkZW50aWZpZXIod1tTdWJxdWVyeUNvbmZpZ10uYWxpYXMpfSBhcyAoJHt3W1N1YnF1ZXJ5Q29uZmlnXS5zcWx9KWApO1xuICAgICAgICAgICAgICAgIGlmIChpIDwgd2l0aExpc3QubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICB3aXRoU3FsQ2h1bmtzLnB1c2goc3FsIGAsIGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdpdGhTcWxDaHVua3MucHVzaChzcWwgYCBgKTtcbiAgICAgICAgICAgIHdpdGhTcWwgPSBzcWwuam9pbih3aXRoU3FsQ2h1bmtzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkaXN0aW5jdFNxbCA9IGRpc3RpbmN0ID8gc3FsIGAgZGlzdGluY3RgIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBzZWxlY3Rpb24gPSB0aGlzLmJ1aWxkU2VsZWN0aW9uKGZpZWxkc0xpc3QsIHsgaXNTaW5nbGVUYWJsZSB9KTtcbiAgICAgICAgY29uc3QgdGFibGVTcWwgPSAoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzKHRhYmxlLCBUYWJsZSkgJiYgdGFibGVbVGFibGUuU3ltYm9sLk9yaWdpbmFsTmFtZV0gIT09IHRhYmxlW1RhYmxlLlN5bWJvbC5OYW1lXSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzcWwgYCR7c3FsLmlkZW50aWZpZXIodGFibGVbVGFibGUuU3ltYm9sLk9yaWdpbmFsTmFtZV0pfSAke3NxbC5pZGVudGlmaWVyKHRhYmxlW1RhYmxlLlN5bWJvbC5OYW1lXSl9YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0YWJsZTtcbiAgICAgICAgfSkoKTtcbiAgICAgICAgY29uc3Qgam9pbnNBcnJheSA9IFtdO1xuICAgICAgICBpZiAoam9pbnMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2luZGV4LCBqb2luTWV0YV0gb2Ygam9pbnMuZW50cmllcygpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGpvaW5zQXJyYXkucHVzaChzcWwgYCBgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdGFibGUgPSBqb2luTWV0YS50YWJsZTtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXRlcmFsU3FsID0gam9pbk1ldGEubGF0ZXJhbCA/IHNxbCBgIGxhdGVyYWxgIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGlmIChpcyh0YWJsZSwgTXlTcWxUYWJsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFibGVOYW1lID0gdGFibGVbTXlTcWxUYWJsZS5TeW1ib2wuTmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhYmxlU2NoZW1hID0gdGFibGVbTXlTcWxUYWJsZS5TeW1ib2wuU2NoZW1hXTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgb3JpZ1RhYmxlTmFtZSA9IHRhYmxlW015U3FsVGFibGUuU3ltYm9sLk9yaWdpbmFsTmFtZV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsaWFzID0gdGFibGVOYW1lID09PSBvcmlnVGFibGVOYW1lID8gdW5kZWZpbmVkIDogam9pbk1ldGEuYWxpYXM7XG4gICAgICAgICAgICAgICAgICAgIGpvaW5zQXJyYXkucHVzaChzcWwgYCR7c3FsLnJhdyhqb2luTWV0YS5qb2luVHlwZSl9IGpvaW4ke2xhdGVyYWxTcWx9ICR7dGFibGVTY2hlbWEgPyBzcWwgYCR7c3FsLmlkZW50aWZpZXIodGFibGVTY2hlbWEpfS5gIDogdW5kZWZpbmVkfSR7c3FsLmlkZW50aWZpZXIob3JpZ1RhYmxlTmFtZSl9JHthbGlhcyAmJiBzcWwgYCAke3NxbC5pZGVudGlmaWVyKGFsaWFzKX1gfSBvbiAke2pvaW5NZXRhLm9ufWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpcyh0YWJsZSwgVmlldykpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgdmlld05hbWUgPSB0YWJsZVtWaWV3QmFzZUNvbmZpZ10ubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgdmlld1NjaGVtYSA9IHRhYmxlW1ZpZXdCYXNlQ29uZmlnXS5zY2hlbWE7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG9yaWdWaWV3TmFtZSA9IHRhYmxlW1ZpZXdCYXNlQ29uZmlnXS5vcmlnaW5hbE5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGFsaWFzID0gdmlld05hbWUgPT09IG9yaWdWaWV3TmFtZSA/IHVuZGVmaW5lZCA6IGpvaW5NZXRhLmFsaWFzO1xuICAgICAgICAgICAgICAgICAgICBqb2luc0FycmF5LnB1c2goc3FsIGAke3NxbC5yYXcoam9pbk1ldGEuam9pblR5cGUpfSBqb2luJHtsYXRlcmFsU3FsfSAke3ZpZXdTY2hlbWEgPyBzcWwgYCR7c3FsLmlkZW50aWZpZXIodmlld1NjaGVtYSl9LmAgOiB1bmRlZmluZWR9JHtzcWwuaWRlbnRpZmllcihvcmlnVmlld05hbWUpfSR7YWxpYXMgJiYgc3FsIGAgJHtzcWwuaWRlbnRpZmllcihhbGlhcyl9YH0gb24gJHtqb2luTWV0YS5vbn1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGpvaW5zQXJyYXkucHVzaChzcWwgYCR7c3FsLnJhdyhqb2luTWV0YS5qb2luVHlwZSl9IGpvaW4ke2xhdGVyYWxTcWx9ICR7dGFibGV9IG9uICR7am9pbk1ldGEub259YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpbmRleCA8IGpvaW5zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICAgICAgam9pbnNBcnJheS5wdXNoKHNxbCBgIGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBqb2luc1NxbCA9IHNxbC5qb2luKGpvaW5zQXJyYXkpO1xuICAgICAgICBjb25zdCB3aGVyZVNxbCA9IHdoZXJlID8gc3FsIGAgd2hlcmUgJHt3aGVyZX1gIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBoYXZpbmdTcWwgPSBoYXZpbmcgPyBzcWwgYCBoYXZpbmcgJHtoYXZpbmd9YCA6IHVuZGVmaW5lZDtcbiAgICAgICAgbGV0IG9yZGVyQnlTcWw7XG4gICAgICAgIGlmIChvcmRlckJ5ICYmIG9yZGVyQnkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgb3JkZXJCeVNxbCA9IHNxbCBgIG9yZGVyIGJ5ICR7c3FsLmpvaW4ob3JkZXJCeSwgc3FsIGAsIGApfWA7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGdyb3VwQnlTcWw7XG4gICAgICAgIGlmIChncm91cEJ5ICYmIGdyb3VwQnkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZ3JvdXBCeVNxbCA9IHNxbCBgIGdyb3VwIGJ5ICR7c3FsLmpvaW4oZ3JvdXBCeSwgc3FsIGAsIGApfWA7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGltaXRTcWwgPSBsaW1pdCA/IHNxbCBgIGxpbWl0ICR7bGltaXR9YCA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3Qgb2Zmc2V0U3FsID0gb2Zmc2V0ID8gc3FsIGAgb2Zmc2V0ICR7b2Zmc2V0fWAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGxldCBsb2NraW5nQ2xhdXNlc1NxbDtcbiAgICAgICAgaWYgKGxvY2tpbmdDbGF1c2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgY29uZmlnLCBzdHJlbmd0aCB9ID0gbG9ja2luZ0NsYXVzZTtcbiAgICAgICAgICAgIGxvY2tpbmdDbGF1c2VzU3FsID0gc3FsIGAgZm9yICR7c3FsLnJhdyhzdHJlbmd0aCl9YDtcbiAgICAgICAgICAgIGlmIChjb25maWcubm9XYWl0KSB7XG4gICAgICAgICAgICAgICAgbG9ja2luZ0NsYXVzZXNTcWwuYXBwZW5kKHNxbCBgIG5vIHdhaXRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNvbmZpZy5za2lwTG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgbG9ja2luZ0NsYXVzZXNTcWwuYXBwZW5kKHNxbCBgIHNraXAgbG9ja2VkYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNxbCBgJHt3aXRoU3FsfXNlbGVjdCR7ZGlzdGluY3RTcWx9ICR7c2VsZWN0aW9ufSBmcm9tICR7dGFibGVTcWx9JHtqb2luc1NxbH0ke3doZXJlU3FsfSR7Z3JvdXBCeVNxbH0ke2hhdmluZ1NxbH0ke29yZGVyQnlTcWx9JHtsaW1pdFNxbH0ke29mZnNldFNxbH0ke2xvY2tpbmdDbGF1c2VzU3FsfWA7XG4gICAgfVxuICAgIGJ1aWxkSW5zZXJ0UXVlcnkoeyB0YWJsZSwgdmFsdWVzLCBpZ25vcmUsIG9uQ29uZmxpY3QgfSkge1xuICAgICAgICAvLyBjb25zdCBpc1NpbmdsZVZhbHVlID0gdmFsdWVzLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgY29uc3QgdmFsdWVzU3FsTGlzdCA9IFtdO1xuICAgICAgICBjb25zdCBjb2x1bW5zID0gdGFibGVbVGFibGUuU3ltYm9sLkNvbHVtbnNdO1xuICAgICAgICBjb25zdCBjb2xFbnRyaWVzID0gT2JqZWN0LmVudHJpZXMoY29sdW1ucyk7XG4gICAgICAgIGNvbnN0IGluc2VydE9yZGVyID0gY29sRW50cmllcy5tYXAoKFssIGNvbHVtbl0pID0+IHNxbC5pZGVudGlmaWVyKGNvbHVtbi5uYW1lKSk7XG4gICAgICAgIGZvciAoY29uc3QgW3ZhbHVlSW5kZXgsIHZhbHVlXSBvZiB2YWx1ZXMuZW50cmllcygpKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZUxpc3QgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW2ZpZWxkTmFtZSwgY29sXSBvZiBjb2xFbnRyaWVzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sVmFsdWUgPSB2YWx1ZVtmaWVsZE5hbWVdO1xuICAgICAgICAgICAgICAgIGlmIChjb2xWYWx1ZSA9PT0gdW5kZWZpbmVkIHx8IChpcyhjb2xWYWx1ZSwgUGFyYW0pICYmIGNvbFZhbHVlLnZhbHVlID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSB1bmljb3JuL25vLW5lZ2F0ZWQtY29uZGl0aW9uXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb2wuZGVmYXVsdEZuICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRGblJlc3VsdCA9IGNvbC5kZWZhdWx0Rm4oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZmF1bHRWYWx1ZSA9IGlzKGRlZmF1bHRGblJlc3VsdCwgU1FMKSA/IGRlZmF1bHRGblJlc3VsdCA6IHNxbC5wYXJhbShkZWZhdWx0Rm5SZXN1bHQsIGNvbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZUxpc3QucHVzaChkZWZhdWx0VmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVMaXN0LnB1c2goc3FsIGBkZWZhdWx0YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlTGlzdC5wdXNoKGNvbFZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YWx1ZXNTcWxMaXN0LnB1c2godmFsdWVMaXN0KTtcbiAgICAgICAgICAgIGlmICh2YWx1ZUluZGV4IDwgdmFsdWVzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXNTcWxMaXN0LnB1c2goc3FsIGAsIGApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbHVlc1NxbCA9IHNxbC5qb2luKHZhbHVlc1NxbExpc3QpO1xuICAgICAgICBjb25zdCBpZ25vcmVTcWwgPSBpZ25vcmUgPyBzcWwgYCBpZ25vcmVgIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBvbkNvbmZsaWN0U3FsID0gb25Db25mbGljdCA/IHNxbCBgIG9uIGR1cGxpY2F0ZSBrZXkgJHtvbkNvbmZsaWN0fWAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHJldHVybiBzcWwgYGluc2VydCR7aWdub3JlU3FsfSBpbnRvICR7dGFibGV9ICR7aW5zZXJ0T3JkZXJ9IHZhbHVlcyAke3ZhbHVlc1NxbH0ke29uQ29uZmxpY3RTcWx9YDtcbiAgICB9XG4gICAgc3FsVG9RdWVyeShzcWwpIHtcbiAgICAgICAgcmV0dXJuIHNxbC50b1F1ZXJ5KHtcbiAgICAgICAgICAgIGVzY2FwZU5hbWU6IHRoaXMuZXNjYXBlTmFtZSxcbiAgICAgICAgICAgIGVzY2FwZVBhcmFtOiB0aGlzLmVzY2FwZVBhcmFtLFxuICAgICAgICAgICAgZXNjYXBlU3RyaW5nOiB0aGlzLmVzY2FwZVN0cmluZyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGJ1aWxkUmVsYXRpb25hbFF1ZXJ5KHsgZnVsbFNjaGVtYSwgc2NoZW1hLCB0YWJsZU5hbWVzTWFwLCB0YWJsZSwgdGFibGVDb25maWcsIHF1ZXJ5Q29uZmlnOiBjb25maWcsIHRhYmxlQWxpYXMsIG5lc3RlZFF1ZXJ5UmVsYXRpb24sIGpvaW5PbiwgfSkge1xuICAgICAgICBsZXQgc2VsZWN0aW9uID0gW107XG4gICAgICAgIGxldCBsaW1pdCwgb2Zmc2V0LCBvcmRlckJ5LCB3aGVyZTtcbiAgICAgICAgY29uc3Qgam9pbnMgPSBbXTtcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uRW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHRhYmxlQ29uZmlnLmNvbHVtbnMpO1xuICAgICAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uRW50cmllcy5tYXAoKFtrZXksIHZhbHVlXSkgPT4gKHtcbiAgICAgICAgICAgICAgICBkYktleTogdmFsdWUubmFtZSxcbiAgICAgICAgICAgICAgICB0c0tleToga2V5LFxuICAgICAgICAgICAgICAgIGZpZWxkOiBhbGlhc2VkVGFibGVDb2x1bW4odmFsdWUsIHRhYmxlQWxpYXMpLFxuICAgICAgICAgICAgICAgIHJlbGF0aW9uVGFibGVUc0tleTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGlzSnNvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbXSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGFsaWFzZWRDb2x1bW5zID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHRhYmxlQ29uZmlnLmNvbHVtbnMpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBba2V5LCBhbGlhc2VkVGFibGVDb2x1bW4odmFsdWUsIHRhYmxlQWxpYXMpXSkpO1xuICAgICAgICAgICAgaWYgKGNvbmZpZy53aGVyZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdoZXJlU3FsID0gdHlwZW9mIGNvbmZpZy53aGVyZSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICA/IGNvbmZpZy53aGVyZShhbGlhc2VkQ29sdW1ucywgZ2V0T3BlcmF0b3JzKCkpXG4gICAgICAgICAgICAgICAgICAgIDogY29uZmlnLndoZXJlO1xuICAgICAgICAgICAgICAgIHdoZXJlID0gd2hlcmVTcWwgJiYgbWFwQ29sdW1uc0luU1FMVG9BbGlhcyh3aGVyZVNxbCwgdGFibGVBbGlhcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaWVsZHNTZWxlY3Rpb24gPSBbXTtcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZENvbHVtbnMgPSBbXTtcbiAgICAgICAgICAgIC8vIEZpZ3VyZSBvdXQgd2hpY2ggY29sdW1ucyB0byBzZWxlY3RcbiAgICAgICAgICAgIGlmIChjb25maWcuY29sdW1ucykge1xuICAgICAgICAgICAgICAgIGxldCBpc0luY2x1ZGVNb2RlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbZmllbGQsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhjb25maWcuY29sdW1ucykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZCBpbiB0YWJsZUNvbmZpZy5jb2x1bW5zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzSW5jbHVkZU1vZGUgJiYgdmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0luY2x1ZGVNb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ29sdW1ucy5wdXNoKGZpZWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRDb2x1bW5zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDb2x1bW5zID0gaXNJbmNsdWRlTW9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBzZWxlY3RlZENvbHVtbnMuZmlsdGVyKChjKSA9PiBjb25maWcuY29sdW1ucz8uW2NdID09PSB0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBPYmplY3Qua2V5cyh0YWJsZUNvbmZpZy5jb2x1bW5zKS5maWx0ZXIoKGtleSkgPT4gIXNlbGVjdGVkQ29sdW1ucy5pbmNsdWRlcyhrZXkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBTZWxlY3QgYWxsIGNvbHVtbnMgaWYgc2VsZWN0aW9uIGlzIG5vdCBzcGVjaWZpZWRcbiAgICAgICAgICAgICAgICBzZWxlY3RlZENvbHVtbnMgPSBPYmplY3Qua2V5cyh0YWJsZUNvbmZpZy5jb2x1bW5zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgZmllbGQgb2Ygc2VsZWN0ZWRDb2x1bW5zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sdW1uID0gdGFibGVDb25maWcuY29sdW1uc1tmaWVsZF07XG4gICAgICAgICAgICAgICAgZmllbGRzU2VsZWN0aW9uLnB1c2goeyB0c0tleTogZmllbGQsIHZhbHVlOiBjb2x1bW4gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRSZWxhdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIC8vIEZpZ3VyZSBvdXQgd2hpY2ggcmVsYXRpb25zIHRvIHNlbGVjdFxuICAgICAgICAgICAgaWYgKGNvbmZpZy53aXRoKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRSZWxhdGlvbnMgPSBPYmplY3QuZW50cmllcyhjb25maWcud2l0aClcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoZW50cnkpID0+ICEhZW50cnlbMV0pXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKFt0c0tleSwgcXVlcnlDb25maWddKSA9PiAoeyB0c0tleSwgcXVlcnlDb25maWcsIHJlbGF0aW9uOiB0YWJsZUNvbmZpZy5yZWxhdGlvbnNbdHNLZXldIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBleHRyYXM7XG4gICAgICAgICAgICAvLyBGaWd1cmUgb3V0IHdoaWNoIGV4dHJhcyB0byBzZWxlY3RcbiAgICAgICAgICAgIGlmIChjb25maWcuZXh0cmFzKSB7XG4gICAgICAgICAgICAgICAgZXh0cmFzID0gdHlwZW9mIGNvbmZpZy5leHRyYXMgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgPyBjb25maWcuZXh0cmFzKGFsaWFzZWRDb2x1bW5zLCB7IHNxbCB9KVxuICAgICAgICAgICAgICAgICAgICA6IGNvbmZpZy5leHRyYXM7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbdHNLZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhleHRyYXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkc1NlbGVjdGlvbi5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRzS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG1hcENvbHVtbnNJbkFsaWFzZWRTUUxUb0FsaWFzKHZhbHVlLCB0YWJsZUFsaWFzKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVHJhbnNmb3JtIGBmaWVsZHNTZWxlY3Rpb25gIGludG8gYHNlbGVjdGlvbmBcbiAgICAgICAgICAgIC8vIGBmaWVsZHNTZWxlY3Rpb25gIHNob3VsZG4ndCBiZSB1c2VkIGFmdGVyIHRoaXMgcG9pbnRcbiAgICAgICAgICAgIGZvciAoY29uc3QgeyB0c0tleSwgdmFsdWUgfSBvZiBmaWVsZHNTZWxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGRiS2V5OiBpcyh2YWx1ZSwgU1FMLkFsaWFzZWQpID8gdmFsdWUuZmllbGRBbGlhcyA6IHRhYmxlQ29uZmlnLmNvbHVtbnNbdHNLZXldLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHRzS2V5LFxuICAgICAgICAgICAgICAgICAgICBmaWVsZDogaXModmFsdWUsIENvbHVtbikgPyBhbGlhc2VkVGFibGVDb2x1bW4odmFsdWUsIHRhYmxlQWxpYXMpIDogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uVGFibGVUc0tleTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBpc0pzb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb246IFtdLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG9yZGVyQnlPcmlnID0gdHlwZW9mIGNvbmZpZy5vcmRlckJ5ID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgPyBjb25maWcub3JkZXJCeShhbGlhc2VkQ29sdW1ucywgZ2V0T3JkZXJCeU9wZXJhdG9ycygpKVxuICAgICAgICAgICAgICAgIDogY29uZmlnLm9yZGVyQnkgPz8gW107XG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkob3JkZXJCeU9yaWcpKSB7XG4gICAgICAgICAgICAgICAgb3JkZXJCeU9yaWcgPSBbb3JkZXJCeU9yaWddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3JkZXJCeSA9IG9yZGVyQnlPcmlnLm1hcCgob3JkZXJCeVZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGlzKG9yZGVyQnlWYWx1ZSwgQ29sdW1uKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxpYXNlZFRhYmxlQ29sdW1uKG9yZGVyQnlWYWx1ZSwgdGFibGVBbGlhcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBtYXBDb2x1bW5zSW5TUUxUb0FsaWFzKG9yZGVyQnlWYWx1ZSwgdGFibGVBbGlhcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxpbWl0ID0gY29uZmlnLmxpbWl0O1xuICAgICAgICAgICAgb2Zmc2V0ID0gY29uZmlnLm9mZnNldDtcbiAgICAgICAgICAgIC8vIFByb2Nlc3MgYWxsIHJlbGF0aW9uc1xuICAgICAgICAgICAgZm9yIChjb25zdCB7IHRzS2V5OiBzZWxlY3RlZFJlbGF0aW9uVHNLZXksIHF1ZXJ5Q29uZmlnOiBzZWxlY3RlZFJlbGF0aW9uQ29uZmlnVmFsdWUsIHJlbGF0aW9uLCB9IG9mIHNlbGVjdGVkUmVsYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFJlbGF0aW9uID0gbm9ybWFsaXplUmVsYXRpb24oc2NoZW1hLCB0YWJsZU5hbWVzTWFwLCByZWxhdGlvbik7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVsYXRpb25UYWJsZU5hbWUgPSByZWxhdGlvbi5yZWZlcmVuY2VkVGFibGVbVGFibGUuU3ltYm9sLk5hbWVdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbGF0aW9uVGFibGVUc05hbWUgPSB0YWJsZU5hbWVzTWFwW3JlbGF0aW9uVGFibGVOYW1lXTtcbiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGlvblRhYmxlQWxpYXMgPSBgJHt0YWJsZUFsaWFzfV8ke3NlbGVjdGVkUmVsYXRpb25Uc0tleX1gO1xuICAgICAgICAgICAgICAgIGNvbnN0IGpvaW5PbiA9IGFuZCguLi5ub3JtYWxpemVkUmVsYXRpb24uZmllbGRzLm1hcCgoZmllbGQsIGkpID0+IGVxKGFsaWFzZWRUYWJsZUNvbHVtbihub3JtYWxpemVkUmVsYXRpb24ucmVmZXJlbmNlc1tpXSwgcmVsYXRpb25UYWJsZUFsaWFzKSwgYWxpYXNlZFRhYmxlQ29sdW1uKGZpZWxkLCB0YWJsZUFsaWFzKSkpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBidWlsdFJlbGF0aW9uID0gdGhpcy5idWlsZFJlbGF0aW9uYWxRdWVyeSh7XG4gICAgICAgICAgICAgICAgICAgIGZ1bGxTY2hlbWEsXG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYSxcbiAgICAgICAgICAgICAgICAgICAgdGFibGVOYW1lc01hcCxcbiAgICAgICAgICAgICAgICAgICAgdGFibGU6IGZ1bGxTY2hlbWFbcmVsYXRpb25UYWJsZVRzTmFtZV0sXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlQ29uZmlnOiBzY2hlbWFbcmVsYXRpb25UYWJsZVRzTmFtZV0sXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5Q29uZmlnOiBpcyhyZWxhdGlvbiwgT25lKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyAoc2VsZWN0ZWRSZWxhdGlvbkNvbmZpZ1ZhbHVlID09PSB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7IGxpbWl0OiAxIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHsgLi4uc2VsZWN0ZWRSZWxhdGlvbkNvbmZpZ1ZhbHVlLCBsaW1pdDogMSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBzZWxlY3RlZFJlbGF0aW9uQ29uZmlnVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlQWxpYXM6IHJlbGF0aW9uVGFibGVBbGlhcyxcbiAgICAgICAgICAgICAgICAgICAgam9pbk9uLFxuICAgICAgICAgICAgICAgICAgICBuZXN0ZWRRdWVyeVJlbGF0aW9uOiByZWxhdGlvbixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZCA9IHNxbCBgJHtzcWwuaWRlbnRpZmllcihyZWxhdGlvblRhYmxlQWxpYXMpfS4ke3NxbC5pZGVudGlmaWVyKCdkYXRhJyl9YC5hcyhzZWxlY3RlZFJlbGF0aW9uVHNLZXkpO1xuICAgICAgICAgICAgICAgIGpvaW5zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBvbjogc3FsIGB0cnVlYCxcbiAgICAgICAgICAgICAgICAgICAgdGFibGU6IG5ldyBTdWJxdWVyeShidWlsdFJlbGF0aW9uLnNxbCwge30sIHJlbGF0aW9uVGFibGVBbGlhcyksXG4gICAgICAgICAgICAgICAgICAgIGFsaWFzOiByZWxhdGlvblRhYmxlQWxpYXMsXG4gICAgICAgICAgICAgICAgICAgIGpvaW5UeXBlOiAnbGVmdCcsXG4gICAgICAgICAgICAgICAgICAgIGxhdGVyYWw6IHRydWUsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBkYktleTogc2VsZWN0ZWRSZWxhdGlvblRzS2V5LFxuICAgICAgICAgICAgICAgICAgICB0c0tleTogc2VsZWN0ZWRSZWxhdGlvblRzS2V5LFxuICAgICAgICAgICAgICAgICAgICBmaWVsZCxcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25UYWJsZVRzS2V5OiByZWxhdGlvblRhYmxlVHNOYW1lLFxuICAgICAgICAgICAgICAgICAgICBpc0pzb246IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbjogYnVpbHRSZWxhdGlvbi5zZWxlY3Rpb24sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHNlbGVjdGlvbi5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBEcml6emxlRXJyb3IoYE5vIGZpZWxkcyBzZWxlY3RlZCBmb3IgdGFibGUgXCIke3RhYmxlQ29uZmlnLnRzTmFtZX1cIiAoXCIke3RhYmxlQWxpYXN9XCIpYCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgd2hlcmUgPSBhbmQoam9pbk9uLCB3aGVyZSk7XG4gICAgICAgIGlmIChuZXN0ZWRRdWVyeVJlbGF0aW9uKSB7XG4gICAgICAgICAgICBsZXQgZmllbGQgPSBzcWwgYGpzb25fYXJyYXkoJHtzcWwuam9pbihzZWxlY3Rpb24ubWFwKCh7IGZpZWxkLCB0c0tleSwgaXNKc29uIH0pID0+IGlzSnNvblxuICAgICAgICAgICAgICAgID8gc3FsIGAke3NxbC5pZGVudGlmaWVyKGAke3RhYmxlQWxpYXN9XyR7dHNLZXl9YCl9LiR7c3FsLmlkZW50aWZpZXIoJ2RhdGEnKX1gXG4gICAgICAgICAgICAgICAgOiBpcyhmaWVsZCwgU1FMLkFsaWFzZWQpXG4gICAgICAgICAgICAgICAgICAgID8gZmllbGQuc3FsXG4gICAgICAgICAgICAgICAgICAgIDogZmllbGQpLCBzcWwgYCwgYCl9KWA7XG4gICAgICAgICAgICBpZiAoaXMobmVzdGVkUXVlcnlSZWxhdGlvbiwgTWFueSkpIHtcbiAgICAgICAgICAgICAgICBmaWVsZCA9IHNxbCBgY29hbGVzY2UoanNvbl9hcnJheWFnZygke2ZpZWxkfSksIGpzb25fYXJyYXkoKSlgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbmVzdGVkU2VsZWN0aW9uID0gW3tcbiAgICAgICAgICAgICAgICAgICAgZGJLZXk6ICdkYXRhJyxcbiAgICAgICAgICAgICAgICAgICAgdHNLZXk6ICdkYXRhJyxcbiAgICAgICAgICAgICAgICAgICAgZmllbGQ6IGZpZWxkLmFzKCdkYXRhJyksXG4gICAgICAgICAgICAgICAgICAgIGlzSnNvbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcmVsYXRpb25UYWJsZVRzS2V5OiB0YWJsZUNvbmZpZy50c05hbWUsXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdGlvbixcbiAgICAgICAgICAgICAgICB9XTtcbiAgICAgICAgICAgIGNvbnN0IG5lZWRzU3VicXVlcnkgPSBsaW1pdCAhPT0gdW5kZWZpbmVkIHx8IG9mZnNldCAhPT0gdW5kZWZpbmVkIHx8IChvcmRlckJ5Py5sZW5ndGggPz8gMCkgPiAwO1xuICAgICAgICAgICAgaWYgKG5lZWRzU3VicXVlcnkpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0aGlzLmJ1aWxkU2VsZWN0UXVlcnkoe1xuICAgICAgICAgICAgICAgICAgICB0YWJsZTogYWxpYXNlZFRhYmxlKHRhYmxlLCB0YWJsZUFsaWFzKSxcbiAgICAgICAgICAgICAgICAgICAgZmllbGRzOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgZmllbGRzRmxhdDogW1xuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkOiBzcWwucmF3KCcqJyksXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uKCgob3JkZXJCeT8ubGVuZ3RoID8/IDApID4gMClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkOiBzcWwgYHJvd19udW1iZXIoKSBvdmVyIChvcmRlciBieSAke3NxbC5qb2luKG9yZGVyQnksIHNxbCBgLCBgKX0pYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfV1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IFtdKSxcbiAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgd2hlcmUsXG4gICAgICAgICAgICAgICAgICAgIGxpbWl0LFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgd2hlcmUgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgbGltaXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgb2Zmc2V0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIG9yZGVyQnkgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgPSBhbGlhc2VkVGFibGUodGFibGUsIHRhYmxlQWxpYXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5idWlsZFNlbGVjdFF1ZXJ5KHtcbiAgICAgICAgICAgICAgICB0YWJsZTogaXMocmVzdWx0LCBNeVNxbFRhYmxlKSA/IHJlc3VsdCA6IG5ldyBTdWJxdWVyeShyZXN1bHQsIHt9LCB0YWJsZUFsaWFzKSxcbiAgICAgICAgICAgICAgICBmaWVsZHM6IHt9LFxuICAgICAgICAgICAgICAgIGZpZWxkc0ZsYXQ6IG5lc3RlZFNlbGVjdGlvbi5tYXAoKHsgZmllbGQgfSkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogW10sXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkOiBpcyhmaWVsZCwgQ29sdW1uKSA/IGFsaWFzZWRUYWJsZUNvbHVtbihmaWVsZCwgdGFibGVBbGlhcykgOiBmaWVsZCxcbiAgICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgICAgICAgam9pbnMsXG4gICAgICAgICAgICAgICAgd2hlcmUsXG4gICAgICAgICAgICAgICAgbGltaXQsXG4gICAgICAgICAgICAgICAgb2Zmc2V0LFxuICAgICAgICAgICAgICAgIG9yZGVyQnksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuYnVpbGRTZWxlY3RRdWVyeSh7XG4gICAgICAgICAgICAgICAgdGFibGU6IGFsaWFzZWRUYWJsZSh0YWJsZSwgdGFibGVBbGlhcyksXG4gICAgICAgICAgICAgICAgZmllbGRzOiB7fSxcbiAgICAgICAgICAgICAgICBmaWVsZHNGbGF0OiBzZWxlY3Rpb24ubWFwKCh7IGZpZWxkIH0pID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IFtdLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZDogaXMoZmllbGQsIENvbHVtbikgPyBhbGlhc2VkVGFibGVDb2x1bW4oZmllbGQsIHRhYmxlQWxpYXMpIDogZmllbGQsXG4gICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgIGpvaW5zLFxuICAgICAgICAgICAgICAgIHdoZXJlLFxuICAgICAgICAgICAgICAgIGxpbWl0LFxuICAgICAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICAgICAgICBvcmRlckJ5LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRhYmxlVHNLZXk6IHRhYmxlQ29uZmlnLnRzTmFtZSxcbiAgICAgICAgICAgIHNxbDogcmVzdWx0LFxuICAgICAgICAgICAgc2VsZWN0aW9uLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBidWlsZFJlbGF0aW9uYWxRdWVyeVdpdGhvdXRMYXRlcmFsU3VicXVlcmllcyh7IGZ1bGxTY2hlbWEsIHNjaGVtYSwgdGFibGVOYW1lc01hcCwgdGFibGUsIHRhYmxlQ29uZmlnLCBxdWVyeUNvbmZpZzogY29uZmlnLCB0YWJsZUFsaWFzLCBuZXN0ZWRRdWVyeVJlbGF0aW9uLCBqb2luT24sIH0pIHtcbiAgICAgICAgbGV0IHNlbGVjdGlvbiA9IFtdO1xuICAgICAgICBsZXQgbGltaXQsIG9mZnNldCwgb3JkZXJCeSA9IFtdLCB3aGVyZTtcbiAgICAgICAgaWYgKGNvbmZpZyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uRW50cmllcyA9IE9iamVjdC5lbnRyaWVzKHRhYmxlQ29uZmlnLmNvbHVtbnMpO1xuICAgICAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uRW50cmllcy5tYXAoKFtrZXksIHZhbHVlXSkgPT4gKHtcbiAgICAgICAgICAgICAgICBkYktleTogdmFsdWUubmFtZSxcbiAgICAgICAgICAgICAgICB0c0tleToga2V5LFxuICAgICAgICAgICAgICAgIGZpZWxkOiBhbGlhc2VkVGFibGVDb2x1bW4odmFsdWUsIHRhYmxlQWxpYXMpLFxuICAgICAgICAgICAgICAgIHJlbGF0aW9uVGFibGVUc0tleTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGlzSnNvbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uOiBbXSxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGFsaWFzZWRDb2x1bW5zID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5lbnRyaWVzKHRhYmxlQ29uZmlnLmNvbHVtbnMpLm1hcCgoW2tleSwgdmFsdWVdKSA9PiBba2V5LCBhbGlhc2VkVGFibGVDb2x1bW4odmFsdWUsIHRhYmxlQWxpYXMpXSkpO1xuICAgICAgICAgICAgaWYgKGNvbmZpZy53aGVyZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHdoZXJlU3FsID0gdHlwZW9mIGNvbmZpZy53aGVyZSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICA/IGNvbmZpZy53aGVyZShhbGlhc2VkQ29sdW1ucywgZ2V0T3BlcmF0b3JzKCkpXG4gICAgICAgICAgICAgICAgICAgIDogY29uZmlnLndoZXJlO1xuICAgICAgICAgICAgICAgIHdoZXJlID0gd2hlcmVTcWwgJiYgbWFwQ29sdW1uc0luU1FMVG9BbGlhcyh3aGVyZVNxbCwgdGFibGVBbGlhcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmaWVsZHNTZWxlY3Rpb24gPSBbXTtcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZENvbHVtbnMgPSBbXTtcbiAgICAgICAgICAgIC8vIEZpZ3VyZSBvdXQgd2hpY2ggY29sdW1ucyB0byBzZWxlY3RcbiAgICAgICAgICAgIGlmIChjb25maWcuY29sdW1ucykge1xuICAgICAgICAgICAgICAgIGxldCBpc0luY2x1ZGVNb2RlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbZmllbGQsIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhjb25maWcuY29sdW1ucykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZCBpbiB0YWJsZUNvbmZpZy5jb2x1bW5zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzSW5jbHVkZU1vZGUgJiYgdmFsdWUgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0luY2x1ZGVNb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkQ29sdW1ucy5wdXNoKGZpZWxkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2VsZWN0ZWRDb2x1bW5zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRDb2x1bW5zID0gaXNJbmNsdWRlTW9kZVxuICAgICAgICAgICAgICAgICAgICAgICAgPyBzZWxlY3RlZENvbHVtbnMuZmlsdGVyKChjKSA9PiBjb25maWcuY29sdW1ucz8uW2NdID09PSB0cnVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBPYmplY3Qua2V5cyh0YWJsZUNvbmZpZy5jb2x1bW5zKS5maWx0ZXIoKGtleSkgPT4gIXNlbGVjdGVkQ29sdW1ucy5pbmNsdWRlcyhrZXkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBTZWxlY3QgYWxsIGNvbHVtbnMgaWYgc2VsZWN0aW9uIGlzIG5vdCBzcGVjaWZpZWRcbiAgICAgICAgICAgICAgICBzZWxlY3RlZENvbHVtbnMgPSBPYmplY3Qua2V5cyh0YWJsZUNvbmZpZy5jb2x1bW5zKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgZmllbGQgb2Ygc2VsZWN0ZWRDb2x1bW5zKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29sdW1uID0gdGFibGVDb25maWcuY29sdW1uc1tmaWVsZF07XG4gICAgICAgICAgICAgICAgZmllbGRzU2VsZWN0aW9uLnB1c2goeyB0c0tleTogZmllbGQsIHZhbHVlOiBjb2x1bW4gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgc2VsZWN0ZWRSZWxhdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIC8vIEZpZ3VyZSBvdXQgd2hpY2ggcmVsYXRpb25zIHRvIHNlbGVjdFxuICAgICAgICAgICAgaWYgKGNvbmZpZy53aXRoKSB7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRSZWxhdGlvbnMgPSBPYmplY3QuZW50cmllcyhjb25maWcud2l0aClcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcigoZW50cnkpID0+ICEhZW50cnlbMV0pXG4gICAgICAgICAgICAgICAgICAgIC5tYXAoKFt0c0tleSwgcXVlcnlDb25maWddKSA9PiAoeyB0c0tleSwgcXVlcnlDb25maWcsIHJlbGF0aW9uOiB0YWJsZUNvbmZpZy5yZWxhdGlvbnNbdHNLZXldIH0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBleHRyYXM7XG4gICAgICAgICAgICAvLyBGaWd1cmUgb3V0IHdoaWNoIGV4dHJhcyB0byBzZWxlY3RcbiAgICAgICAgICAgIGlmIChjb25maWcuZXh0cmFzKSB7XG4gICAgICAgICAgICAgICAgZXh0cmFzID0gdHlwZW9mIGNvbmZpZy5leHRyYXMgPT09ICdmdW5jdGlvbidcbiAgICAgICAgICAgICAgICAgICAgPyBjb25maWcuZXh0cmFzKGFsaWFzZWRDb2x1bW5zLCB7IHNxbCB9KVxuICAgICAgICAgICAgICAgICAgICA6IGNvbmZpZy5leHRyYXM7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBbdHNLZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhleHRyYXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpZWxkc1NlbGVjdGlvbi5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRzS2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG1hcENvbHVtbnNJbkFsaWFzZWRTUUxUb0FsaWFzKHZhbHVlLCB0YWJsZUFsaWFzKSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVHJhbnNmb3JtIGBmaWVsZHNTZWxlY3Rpb25gIGludG8gYHNlbGVjdGlvbmBcbiAgICAgICAgICAgIC8vIGBmaWVsZHNTZWxlY3Rpb25gIHNob3VsZG4ndCBiZSB1c2VkIGFmdGVyIHRoaXMgcG9pbnRcbiAgICAgICAgICAgIGZvciAoY29uc3QgeyB0c0tleSwgdmFsdWUgfSBvZiBmaWVsZHNTZWxlY3Rpb24pIHtcbiAgICAgICAgICAgICAgICBzZWxlY3Rpb24ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIGRiS2V5OiBpcyh2YWx1ZSwgU1FMLkFsaWFzZWQpID8gdmFsdWUuZmllbGRBbGlhcyA6IHRhYmxlQ29uZmlnLmNvbHVtbnNbdHNLZXldLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgIHRzS2V5LFxuICAgICAgICAgICAgICAgICAgICBmaWVsZDogaXModmFsdWUsIENvbHVtbikgPyBhbGlhc2VkVGFibGVDb2x1bW4odmFsdWUsIHRhYmxlQWxpYXMpIDogdmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uVGFibGVUc0tleTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBpc0pzb246IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb246IFtdLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IG9yZGVyQnlPcmlnID0gdHlwZW9mIGNvbmZpZy5vcmRlckJ5ID09PSAnZnVuY3Rpb24nXG4gICAgICAgICAgICAgICAgPyBjb25maWcub3JkZXJCeShhbGlhc2VkQ29sdW1ucywgZ2V0T3JkZXJCeU9wZXJhdG9ycygpKVxuICAgICAgICAgICAgICAgIDogY29uZmlnLm9yZGVyQnkgPz8gW107XG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkob3JkZXJCeU9yaWcpKSB7XG4gICAgICAgICAgICAgICAgb3JkZXJCeU9yaWcgPSBbb3JkZXJCeU9yaWddO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3JkZXJCeSA9IG9yZGVyQnlPcmlnLm1hcCgob3JkZXJCeVZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGlzKG9yZGVyQnlWYWx1ZSwgQ29sdW1uKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWxpYXNlZFRhYmxlQ29sdW1uKG9yZGVyQnlWYWx1ZSwgdGFibGVBbGlhcyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBtYXBDb2x1bW5zSW5TUUxUb0FsaWFzKG9yZGVyQnlWYWx1ZSwgdGFibGVBbGlhcyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxpbWl0ID0gY29uZmlnLmxpbWl0O1xuICAgICAgICAgICAgb2Zmc2V0ID0gY29uZmlnLm9mZnNldDtcbiAgICAgICAgICAgIC8vIFByb2Nlc3MgYWxsIHJlbGF0aW9uc1xuICAgICAgICAgICAgZm9yIChjb25zdCB7IHRzS2V5OiBzZWxlY3RlZFJlbGF0aW9uVHNLZXksIHF1ZXJ5Q29uZmlnOiBzZWxlY3RlZFJlbGF0aW9uQ29uZmlnVmFsdWUsIHJlbGF0aW9uLCB9IG9mIHNlbGVjdGVkUmVsYXRpb25zKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgbm9ybWFsaXplZFJlbGF0aW9uID0gbm9ybWFsaXplUmVsYXRpb24oc2NoZW1hLCB0YWJsZU5hbWVzTWFwLCByZWxhdGlvbik7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVsYXRpb25UYWJsZU5hbWUgPSByZWxhdGlvbi5yZWZlcmVuY2VkVGFibGVbVGFibGUuU3ltYm9sLk5hbWVdO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbGF0aW9uVGFibGVUc05hbWUgPSB0YWJsZU5hbWVzTWFwW3JlbGF0aW9uVGFibGVOYW1lXTtcbiAgICAgICAgICAgICAgICBjb25zdCByZWxhdGlvblRhYmxlQWxpYXMgPSBgJHt0YWJsZUFsaWFzfV8ke3NlbGVjdGVkUmVsYXRpb25Uc0tleX1gO1xuICAgICAgICAgICAgICAgIGNvbnN0IGpvaW5PbiA9IGFuZCguLi5ub3JtYWxpemVkUmVsYXRpb24uZmllbGRzLm1hcCgoZmllbGQsIGkpID0+IGVxKGFsaWFzZWRUYWJsZUNvbHVtbihub3JtYWxpemVkUmVsYXRpb24ucmVmZXJlbmNlc1tpXSwgcmVsYXRpb25UYWJsZUFsaWFzKSwgYWxpYXNlZFRhYmxlQ29sdW1uKGZpZWxkLCB0YWJsZUFsaWFzKSkpKTtcbiAgICAgICAgICAgICAgICBjb25zdCBidWlsdFJlbGF0aW9uID0gdGhpcy5idWlsZFJlbGF0aW9uYWxRdWVyeVdpdGhvdXRMYXRlcmFsU3VicXVlcmllcyh7XG4gICAgICAgICAgICAgICAgICAgIGZ1bGxTY2hlbWEsXG4gICAgICAgICAgICAgICAgICAgIHNjaGVtYSxcbiAgICAgICAgICAgICAgICAgICAgdGFibGVOYW1lc01hcCxcbiAgICAgICAgICAgICAgICAgICAgdGFibGU6IGZ1bGxTY2hlbWFbcmVsYXRpb25UYWJsZVRzTmFtZV0sXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlQ29uZmlnOiBzY2hlbWFbcmVsYXRpb25UYWJsZVRzTmFtZV0sXG4gICAgICAgICAgICAgICAgICAgIHF1ZXJ5Q29uZmlnOiBpcyhyZWxhdGlvbiwgT25lKVxuICAgICAgICAgICAgICAgICAgICAgICAgPyAoc2VsZWN0ZWRSZWxhdGlvbkNvbmZpZ1ZhbHVlID09PSB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB7IGxpbWl0OiAxIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHsgLi4uc2VsZWN0ZWRSZWxhdGlvbkNvbmZpZ1ZhbHVlLCBsaW1pdDogMSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBzZWxlY3RlZFJlbGF0aW9uQ29uZmlnVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHRhYmxlQWxpYXM6IHJlbGF0aW9uVGFibGVBbGlhcyxcbiAgICAgICAgICAgICAgICAgICAgam9pbk9uLFxuICAgICAgICAgICAgICAgICAgICBuZXN0ZWRRdWVyeVJlbGF0aW9uOiByZWxhdGlvbixcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBsZXQgZmllbGRTcWwgPSBzcWwgYCgke2J1aWx0UmVsYXRpb24uc3FsfSlgO1xuICAgICAgICAgICAgICAgIGlmIChpcyhyZWxhdGlvbiwgTWFueSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGRTcWwgPSBzcWwgYGNvYWxlc2NlKCR7ZmllbGRTcWx9LCBqc29uX2FycmF5KCkpYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZmllbGQgPSBmaWVsZFNxbC5hcyhzZWxlY3RlZFJlbGF0aW9uVHNLZXkpO1xuICAgICAgICAgICAgICAgIHNlbGVjdGlvbi5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgZGJLZXk6IHNlbGVjdGVkUmVsYXRpb25Uc0tleSxcbiAgICAgICAgICAgICAgICAgICAgdHNLZXk6IHNlbGVjdGVkUmVsYXRpb25Uc0tleSxcbiAgICAgICAgICAgICAgICAgICAgZmllbGQsXG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uVGFibGVUc0tleTogcmVsYXRpb25UYWJsZVRzTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgaXNKc29uOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb246IGJ1aWx0UmVsYXRpb24uc2VsZWN0aW9uLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzZWxlY3Rpb24ubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRHJpenpsZUVycm9yKGBObyBmaWVsZHMgc2VsZWN0ZWQgZm9yIHRhYmxlIFwiJHt0YWJsZUNvbmZpZy50c05hbWV9XCIgKFwiJHt0YWJsZUFsaWFzfVwiKS4gWW91IG5lZWQgdG8gaGF2ZSBhdCBsZWFzdCBvbmUgaXRlbSBpbiBcImNvbHVtbnNcIiwgXCJ3aXRoXCIgb3IgXCJleHRyYXNcIi4gSWYgeW91IG5lZWQgdG8gc2VsZWN0IGFsbCBjb2x1bW5zLCBvbWl0IHRoZSBcImNvbHVtbnNcIiBrZXkgb3Igc2V0IGl0IHRvIHVuZGVmaW5lZC5gKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgcmVzdWx0O1xuICAgICAgICB3aGVyZSA9IGFuZChqb2luT24sIHdoZXJlKTtcbiAgICAgICAgaWYgKG5lc3RlZFF1ZXJ5UmVsYXRpb24pIHtcbiAgICAgICAgICAgIGxldCBmaWVsZCA9IHNxbCBganNvbl9hcnJheSgke3NxbC5qb2luKHNlbGVjdGlvbi5tYXAoKHsgZmllbGQgfSkgPT4gaXMoZmllbGQsIE15U3FsQ29sdW1uKSA/IHNxbC5pZGVudGlmaWVyKGZpZWxkLm5hbWUpIDogaXMoZmllbGQsIFNRTC5BbGlhc2VkKSA/IGZpZWxkLnNxbCA6IGZpZWxkKSwgc3FsIGAsIGApfSlgO1xuICAgICAgICAgICAgaWYgKGlzKG5lc3RlZFF1ZXJ5UmVsYXRpb24sIE1hbnkpKSB7XG4gICAgICAgICAgICAgICAgZmllbGQgPSBzcWwgYGpzb25fYXJyYXlhZ2coJHtmaWVsZH0pYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG5lc3RlZFNlbGVjdGlvbiA9IFt7XG4gICAgICAgICAgICAgICAgICAgIGRiS2V5OiAnZGF0YScsXG4gICAgICAgICAgICAgICAgICAgIHRzS2V5OiAnZGF0YScsXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkLFxuICAgICAgICAgICAgICAgICAgICBpc0pzb246IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aW9uVGFibGVUc0tleTogdGFibGVDb25maWcudHNOYW1lLFxuICAgICAgICAgICAgICAgICAgICBzZWxlY3Rpb24sXG4gICAgICAgICAgICAgICAgfV07XG4gICAgICAgICAgICBjb25zdCBuZWVkc1N1YnF1ZXJ5ID0gbGltaXQgIT09IHVuZGVmaW5lZCB8fCBvZmZzZXQgIT09IHVuZGVmaW5lZCB8fCBvcmRlckJ5Lmxlbmd0aCA+IDA7XG4gICAgICAgICAgICBpZiAobmVlZHNTdWJxdWVyeSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuYnVpbGRTZWxlY3RRdWVyeSh7XG4gICAgICAgICAgICAgICAgICAgIHRhYmxlOiBhbGlhc2VkVGFibGUodGFibGUsIHRhYmxlQWxpYXMpLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZHM6IHt9LFxuICAgICAgICAgICAgICAgICAgICBmaWVsZHNGbGF0OiBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogW10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQ6IHNxbC5yYXcoJyonKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4ob3JkZXJCeS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IFtdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmllbGQ6IHNxbCBgcm93X251bWJlcigpIG92ZXIgKG9yZGVyIGJ5ICR7c3FsLmpvaW4ob3JkZXJCeSwgc3FsIGAsIGApfSlgLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogW10sXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIHdoZXJlLFxuICAgICAgICAgICAgICAgICAgICBsaW1pdCxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHdoZXJlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGxpbWl0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIG9mZnNldCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBvcmRlckJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gYWxpYXNlZFRhYmxlKHRhYmxlLCB0YWJsZUFsaWFzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdCA9IHRoaXMuYnVpbGRTZWxlY3RRdWVyeSh7XG4gICAgICAgICAgICAgICAgdGFibGU6IGlzKHJlc3VsdCwgTXlTcWxUYWJsZSkgPyByZXN1bHQgOiBuZXcgU3VicXVlcnkocmVzdWx0LCB7fSwgdGFibGVBbGlhcyksXG4gICAgICAgICAgICAgICAgZmllbGRzOiB7fSxcbiAgICAgICAgICAgICAgICBmaWVsZHNGbGF0OiBuZXN0ZWRTZWxlY3Rpb24ubWFwKCh7IGZpZWxkIH0pID0+ICh7XG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IFtdLFxuICAgICAgICAgICAgICAgICAgICBmaWVsZDogaXMoZmllbGQsIENvbHVtbikgPyBhbGlhc2VkVGFibGVDb2x1bW4oZmllbGQsIHRhYmxlQWxpYXMpIDogZmllbGQsXG4gICAgICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgICAgIHdoZXJlLFxuICAgICAgICAgICAgICAgIGxpbWl0LFxuICAgICAgICAgICAgICAgIG9mZnNldCxcbiAgICAgICAgICAgICAgICBvcmRlckJ5LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmJ1aWxkU2VsZWN0UXVlcnkoe1xuICAgICAgICAgICAgICAgIHRhYmxlOiBhbGlhc2VkVGFibGUodGFibGUsIHRhYmxlQWxpYXMpLFxuICAgICAgICAgICAgICAgIGZpZWxkczoge30sXG4gICAgICAgICAgICAgICAgZmllbGRzRmxhdDogc2VsZWN0aW9uLm1hcCgoeyBmaWVsZCB9KSA9PiAoe1xuICAgICAgICAgICAgICAgICAgICBwYXRoOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgZmllbGQ6IGlzKGZpZWxkLCBDb2x1bW4pID8gYWxpYXNlZFRhYmxlQ29sdW1uKGZpZWxkLCB0YWJsZUFsaWFzKSA6IGZpZWxkLFxuICAgICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgICAgICB3aGVyZSxcbiAgICAgICAgICAgICAgICBsaW1pdCxcbiAgICAgICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgICAgICAgb3JkZXJCeSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0YWJsZVRzS2V5OiB0YWJsZUNvbmZpZy50c05hbWUsXG4gICAgICAgICAgICBzcWw6IHJlc3VsdCxcbiAgICAgICAgICAgIHNlbGVjdGlvbixcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbmNsYXNzIE15U3FsU2VsZWN0QnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbFNlbGVjdEJ1aWxkZXInO1xuICAgIGZpZWxkcztcbiAgICBzZXNzaW9uO1xuICAgIGRpYWxlY3Q7XG4gICAgd2l0aExpc3QgPSBbXTtcbiAgICBkaXN0aW5jdDtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgdGhpcy5maWVsZHMgPSBjb25maWcuZmllbGRzO1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBjb25maWcuc2Vzc2lvbjtcbiAgICAgICAgdGhpcy5kaWFsZWN0ID0gY29uZmlnLmRpYWxlY3Q7XG4gICAgICAgIGlmIChjb25maWcud2l0aExpc3QpIHtcbiAgICAgICAgICAgIHRoaXMud2l0aExpc3QgPSBjb25maWcud2l0aExpc3Q7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXN0aW5jdCA9IGNvbmZpZy5kaXN0aW5jdDtcbiAgICB9XG4gICAgZnJvbShzb3VyY2UpIHtcbiAgICAgICAgY29uc3QgaXNQYXJ0aWFsU2VsZWN0ID0gISF0aGlzLmZpZWxkcztcbiAgICAgICAgbGV0IGZpZWxkcztcbiAgICAgICAgaWYgKHRoaXMuZmllbGRzKSB7XG4gICAgICAgICAgICBmaWVsZHMgPSB0aGlzLmZpZWxkcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpcyhzb3VyY2UsIFN1YnF1ZXJ5KSkge1xuICAgICAgICAgICAgLy8gVGhpcyBpcyByZXF1aXJlZCB0byB1c2UgdGhlIHByb3h5IGhhbmRsZXIgdG8gZ2V0IHRoZSBjb3JyZWN0IGZpZWxkIHZhbHVlcyBmcm9tIHRoZSBzdWJxdWVyeVxuICAgICAgICAgICAgZmllbGRzID0gT2JqZWN0LmZyb21FbnRyaWVzKE9iamVjdC5rZXlzKHNvdXJjZVtTdWJxdWVyeUNvbmZpZ10uc2VsZWN0aW9uKS5tYXAoKGtleSkgPT4gW2tleSwgc291cmNlW2tleV1dKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXMoc291cmNlLCBNeVNxbFZpZXdCYXNlKSkge1xuICAgICAgICAgICAgZmllbGRzID0gc291cmNlW1ZpZXdCYXNlQ29uZmlnXS5zZWxlY3RlZEZpZWxkcztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChpcyhzb3VyY2UsIFNRTCkpIHtcbiAgICAgICAgICAgIGZpZWxkcyA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZmllbGRzID0gZ2V0VGFibGVDb2x1bW5zKHNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBNeVNxbFNlbGVjdCh7XG4gICAgICAgICAgICB0YWJsZTogc291cmNlLFxuICAgICAgICAgICAgZmllbGRzLFxuICAgICAgICAgICAgaXNQYXJ0aWFsU2VsZWN0LFxuICAgICAgICAgICAgc2Vzc2lvbjogdGhpcy5zZXNzaW9uLFxuICAgICAgICAgICAgZGlhbGVjdDogdGhpcy5kaWFsZWN0LFxuICAgICAgICAgICAgd2l0aExpc3Q6IHRoaXMud2l0aExpc3QsXG4gICAgICAgICAgICBkaXN0aW5jdDogdGhpcy5kaXN0aW5jdCxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuY2xhc3MgTXlTcWxTZWxlY3RRdWVyeUJ1aWxkZXIgZXh0ZW5kcyBUeXBlZFF1ZXJ5QnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbFNlbGVjdFF1ZXJ5QnVpbGRlcic7XG4gICAgXztcbiAgICBjb25maWc7XG4gICAgam9pbnNOb3ROdWxsYWJsZU1hcDtcbiAgICB0YWJsZU5hbWU7XG4gICAgaXNQYXJ0aWFsU2VsZWN0O1xuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBzZXNzaW9uO1xuICAgIGRpYWxlY3Q7XG4gICAgY29uc3RydWN0b3IoeyB0YWJsZSwgZmllbGRzLCBpc1BhcnRpYWxTZWxlY3QsIHNlc3Npb24sIGRpYWxlY3QsIHdpdGhMaXN0LCBkaXN0aW5jdCB9KSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuY29uZmlnID0ge1xuICAgICAgICAgICAgd2l0aExpc3QsXG4gICAgICAgICAgICB0YWJsZSxcbiAgICAgICAgICAgIGZpZWxkczogeyAuLi5maWVsZHMgfSxcbiAgICAgICAgICAgIGRpc3RpbmN0LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmlzUGFydGlhbFNlbGVjdCA9IGlzUGFydGlhbFNlbGVjdDtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgdGhpcy5kaWFsZWN0ID0gZGlhbGVjdDtcbiAgICAgICAgdGhpcy5fID0ge1xuICAgICAgICAgICAgc2VsZWN0ZWRGaWVsZHM6IGZpZWxkcyxcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy50YWJsZU5hbWUgPSBnZXRUYWJsZUxpa2VOYW1lKHRhYmxlKTtcbiAgICAgICAgdGhpcy5qb2luc05vdE51bGxhYmxlTWFwID0gdHlwZW9mIHRoaXMudGFibGVOYW1lID09PSAnc3RyaW5nJyA/IHsgW3RoaXMudGFibGVOYW1lXTogdHJ1ZSB9IDoge307XG4gICAgfVxuICAgIGNyZWF0ZUpvaW4oam9pblR5cGUpIHtcbiAgICAgICAgcmV0dXJuICh0YWJsZSwgb24pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGJhc2VUYWJsZU5hbWUgPSB0aGlzLnRhYmxlTmFtZTtcbiAgICAgICAgICAgIGNvbnN0IHRhYmxlTmFtZSA9IGdldFRhYmxlTGlrZU5hbWUodGFibGUpO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB0YWJsZU5hbWUgPT09ICdzdHJpbmcnICYmIHRoaXMuY29uZmlnLmpvaW5zPy5zb21lKChqb2luKSA9PiBqb2luLmFsaWFzID09PSB0YWJsZU5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBbGlhcyBcIiR7dGFibGVOYW1lfVwiIGlzIGFscmVhZHkgdXNlZCBpbiB0aGlzIHF1ZXJ5YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNQYXJ0aWFsU2VsZWN0KSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyB0aGUgZmlyc3Qgam9pbiBhbmQgdGhpcyBpcyBub3QgYSBwYXJ0aWFsIHNlbGVjdCBhbmQgd2UncmUgbm90IHNlbGVjdGluZyBmcm9tIHJhdyBTUUwsIFwibW92ZVwiIHRoZSBmaWVsZHMgZnJvbSB0aGUgbWFpbiB0YWJsZSB0byB0aGUgbmVzdGVkIG9iamVjdFxuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLmpvaW5zTm90TnVsbGFibGVNYXApLmxlbmd0aCA9PT0gMSAmJiB0eXBlb2YgYmFzZVRhYmxlTmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25maWcuZmllbGRzID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgW2Jhc2VUYWJsZU5hbWVdOiB0aGlzLmNvbmZpZy5maWVsZHMsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFibGVOYW1lID09PSAnc3RyaW5nJyAmJiAhaXModGFibGUsIFNRTCkpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0aW9uID0gaXModGFibGUsIFN1YnF1ZXJ5KVxuICAgICAgICAgICAgICAgICAgICAgICAgPyB0YWJsZVtTdWJxdWVyeUNvbmZpZ10uc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICA6IGlzKHRhYmxlLCBWaWV3KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGFibGVbVmlld0Jhc2VDb25maWddLnNlbGVjdGVkRmllbGRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiB0YWJsZVtUYWJsZS5TeW1ib2wuQ29sdW1uc107XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnLmZpZWxkc1t0YWJsZU5hbWVdID0gc2VsZWN0aW9uO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygb24gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBvbiA9IG9uKG5ldyBQcm94eSh0aGlzLmNvbmZpZy5maWVsZHMsIG5ldyBTZWxlY3Rpb25Qcm94eUhhbmRsZXIoeyBzcWxBbGlhc2VkQmVoYXZpb3I6ICdzcWwnLCBzcWxCZWhhdmlvcjogJ3NxbCcgfSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghdGhpcy5jb25maWcuam9pbnMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbmZpZy5qb2lucyA9IFtdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5jb25maWcuam9pbnMucHVzaCh7IG9uLCB0YWJsZSwgam9pblR5cGUsIGFsaWFzOiB0YWJsZU5hbWUgfSk7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHRhYmxlTmFtZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGpvaW5UeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2xlZnQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmpvaW5zTm90TnVsbGFibGVNYXBbdGFibGVOYW1lXSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAncmlnaHQnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmpvaW5zTm90TnVsbGFibGVNYXAgPSBPYmplY3QuZnJvbUVudHJpZXMoT2JqZWN0LmVudHJpZXModGhpcy5qb2luc05vdE51bGxhYmxlTWFwKS5tYXAoKFtrZXldKSA9PiBba2V5LCBmYWxzZV0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuam9pbnNOb3ROdWxsYWJsZU1hcFt0YWJsZU5hbWVdID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgJ2lubmVyJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5qb2luc05vdE51bGxhYmxlTWFwW3RhYmxlTmFtZV0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSAnZnVsbCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuam9pbnNOb3ROdWxsYWJsZU1hcCA9IE9iamVjdC5mcm9tRW50cmllcyhPYmplY3QuZW50cmllcyh0aGlzLmpvaW5zTm90TnVsbGFibGVNYXApLm1hcCgoW2tleV0pID0+IFtrZXksIGZhbHNlXSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5qb2luc05vdE51bGxhYmxlTWFwW3RhYmxlTmFtZV0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH07XG4gICAgfVxuICAgIGxlZnRKb2luID0gdGhpcy5jcmVhdGVKb2luKCdsZWZ0Jyk7XG4gICAgcmlnaHRKb2luID0gdGhpcy5jcmVhdGVKb2luKCdyaWdodCcpO1xuICAgIGlubmVySm9pbiA9IHRoaXMuY3JlYXRlSm9pbignaW5uZXInKTtcbiAgICBmdWxsSm9pbiA9IHRoaXMuY3JlYXRlSm9pbignZnVsbCcpO1xuICAgIHdoZXJlKHdoZXJlKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2hlcmUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHdoZXJlID0gd2hlcmUobmV3IFByb3h5KHRoaXMuY29uZmlnLmZpZWxkcywgbmV3IFNlbGVjdGlvblByb3h5SGFuZGxlcih7IHNxbEFsaWFzZWRCZWhhdmlvcjogJ3NxbCcsIHNxbEJlaGF2aW9yOiAnc3FsJyB9KSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29uZmlnLndoZXJlID0gd2hlcmU7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBoYXZpbmcoaGF2aW5nKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaGF2aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBoYXZpbmcgPSBoYXZpbmcobmV3IFByb3h5KHRoaXMuY29uZmlnLmZpZWxkcywgbmV3IFNlbGVjdGlvblByb3h5SGFuZGxlcih7IHNxbEFsaWFzZWRCZWhhdmlvcjogJ3NxbCcsIHNxbEJlaGF2aW9yOiAnc3FsJyB9KSkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29uZmlnLmhhdmluZyA9IGhhdmluZztcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGdyb3VwQnkoLi4uY29sdW1ucykge1xuICAgICAgICBpZiAodHlwZW9mIGNvbHVtbnNbMF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnN0IGdyb3VwQnkgPSBjb2x1bW5zWzBdKG5ldyBQcm94eSh0aGlzLmNvbmZpZy5maWVsZHMsIG5ldyBTZWxlY3Rpb25Qcm94eUhhbmRsZXIoeyBzcWxBbGlhc2VkQmVoYXZpb3I6ICdhbGlhcycsIHNxbEJlaGF2aW9yOiAnc3FsJyB9KSkpO1xuICAgICAgICAgICAgdGhpcy5jb25maWcuZ3JvdXBCeSA9IEFycmF5LmlzQXJyYXkoZ3JvdXBCeSkgPyBncm91cEJ5IDogW2dyb3VwQnldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb25maWcuZ3JvdXBCeSA9IGNvbHVtbnM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIG9yZGVyQnkoLi4uY29sdW1ucykge1xuICAgICAgICBpZiAodHlwZW9mIGNvbHVtbnNbMF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnN0IG9yZGVyQnkgPSBjb2x1bW5zWzBdKG5ldyBQcm94eSh0aGlzLmNvbmZpZy5maWVsZHMsIG5ldyBTZWxlY3Rpb25Qcm94eUhhbmRsZXIoeyBzcWxBbGlhc2VkQmVoYXZpb3I6ICdhbGlhcycsIHNxbEJlaGF2aW9yOiAnc3FsJyB9KSkpO1xuICAgICAgICAgICAgdGhpcy5jb25maWcub3JkZXJCeSA9IEFycmF5LmlzQXJyYXkob3JkZXJCeSkgPyBvcmRlckJ5IDogW29yZGVyQnldO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5jb25maWcub3JkZXJCeSA9IGNvbHVtbnM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGxpbWl0KGxpbWl0KSB7XG4gICAgICAgIHRoaXMuY29uZmlnLmxpbWl0ID0gbGltaXQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBvZmZzZXQob2Zmc2V0KSB7XG4gICAgICAgIHRoaXMuY29uZmlnLm9mZnNldCA9IG9mZnNldDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGZvcihzdHJlbmd0aCwgY29uZmlnID0ge30pIHtcbiAgICAgICAgdGhpcy5jb25maWcubG9ja2luZ0NsYXVzZSA9IHsgc3RyZW5ndGgsIGNvbmZpZyB9O1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGdldFNRTCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlhbGVjdC5idWlsZFNlbGVjdFF1ZXJ5KHRoaXMuY29uZmlnKTtcbiAgICB9XG4gICAgdG9TUUwoKSB7XG4gICAgICAgIGNvbnN0IHsgdHlwaW5nczogX3R5cGluZ3MsIC4uLnJlc3QgfSA9IHRoaXMuZGlhbGVjdC5zcWxUb1F1ZXJ5KHRoaXMuZ2V0U1FMKCkpO1xuICAgICAgICByZXR1cm4gcmVzdDtcbiAgICB9XG4gICAgYXMoYWxpYXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eShuZXcgU3VicXVlcnkodGhpcy5nZXRTUUwoKSwgdGhpcy5jb25maWcuZmllbGRzLCBhbGlhcyksIG5ldyBTZWxlY3Rpb25Qcm94eUhhbmRsZXIoeyBhbGlhcywgc3FsQWxpYXNlZEJlaGF2aW9yOiAnYWxpYXMnLCBzcWxCZWhhdmlvcjogJ2Vycm9yJyB9KSk7XG4gICAgfVxufVxuY2xhc3MgTXlTcWxTZWxlY3QgZXh0ZW5kcyBNeVNxbFNlbGVjdFF1ZXJ5QnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbFNlbGVjdCc7XG4gICAgcHJlcGFyZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlc3Npb24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGV4ZWN1dGUgYSBxdWVyeSBvbiBhIHF1ZXJ5IGJ1aWxkZXIuIFBsZWFzZSB1c2UgYSBkYXRhYmFzZSBpbnN0YW5jZSBpbnN0ZWFkLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGZpZWxkc0xpc3QgPSBvcmRlclNlbGVjdGVkRmllbGRzKHRoaXMuY29uZmlnLmZpZWxkcyk7XG4gICAgICAgIGNvbnN0IHF1ZXJ5ID0gdGhpcy5zZXNzaW9uLnByZXBhcmVRdWVyeSh0aGlzLmRpYWxlY3Quc3FsVG9RdWVyeSh0aGlzLmdldFNRTCgpKSwgZmllbGRzTGlzdCk7XG4gICAgICAgIHF1ZXJ5LmpvaW5zTm90TnVsbGFibGVNYXAgPSB0aGlzLmpvaW5zTm90TnVsbGFibGVNYXA7XG4gICAgICAgIHJldHVybiBxdWVyeTtcbiAgICB9XG4gICAgZXhlY3V0ZSA9ICgocGxhY2Vob2xkZXJWYWx1ZXMpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlcGFyZSgpLmV4ZWN1dGUocGxhY2Vob2xkZXJWYWx1ZXMpO1xuICAgIH0pO1xuICAgIGNyZWF0ZUl0ZXJhdG9yID0gKCkgPT4ge1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uKiAocGxhY2Vob2xkZXJWYWx1ZXMpIHtcbiAgICAgICAgICAgIHlpZWxkKiBzZWxmLnByZXBhcmUoKS5pdGVyYXRvcihwbGFjZWhvbGRlclZhbHVlcyk7XG4gICAgICAgIH07XG4gICAgfTtcbiAgICBpdGVyYXRvciA9IHRoaXMuY3JlYXRlSXRlcmF0b3IoKTtcbn1cbmFwcGx5TWl4aW5zKE15U3FsU2VsZWN0LCBbUXVlcnlQcm9taXNlXSk7XG5cbmNsYXNzIFF1ZXJ5QnVpbGRlciB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbFF1ZXJ5QnVpbGRlcic7XG4gICAgZGlhbGVjdDtcbiAgICAkd2l0aChhbGlhcykge1xuICAgICAgICBjb25zdCBxdWVyeUJ1aWxkZXIgPSB0aGlzO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYXMocWIpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHFiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHFiID0gcWIocXVlcnlCdWlsZGVyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm94eShuZXcgV2l0aFN1YnF1ZXJ5KHFiLmdldFNRTCgpLCBxYi5nZXRTZWxlY3RlZEZpZWxkcygpLCBhbGlhcywgdHJ1ZSksIG5ldyBTZWxlY3Rpb25Qcm94eUhhbmRsZXIoeyBhbGlhcywgc3FsQWxpYXNlZEJlaGF2aW9yOiAnYWxpYXMnLCBzcWxCZWhhdmlvcjogJ2Vycm9yJyB9KSk7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICB3aXRoKC4uLnF1ZXJpZXMpIHtcbiAgICAgICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgICAgIGZ1bmN0aW9uIHNlbGVjdChmaWVsZHMpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTXlTcWxTZWxlY3RCdWlsZGVyKHtcbiAgICAgICAgICAgICAgICBmaWVsZHM6IGZpZWxkcyA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbjogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIGRpYWxlY3Q6IHNlbGYuZ2V0RGlhbGVjdCgpLFxuICAgICAgICAgICAgICAgIHdpdGhMaXN0OiBxdWVyaWVzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc2VsZWN0RGlzdGluY3QoZmllbGRzKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE15U3FsU2VsZWN0QnVpbGRlcih7XG4gICAgICAgICAgICAgICAgZmllbGRzOiBmaWVsZHMgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHNlc3Npb246IHVuZGVmaW5lZCxcbiAgICAgICAgICAgICAgICBkaWFsZWN0OiBzZWxmLmdldERpYWxlY3QoKSxcbiAgICAgICAgICAgICAgICB3aXRoTGlzdDogcXVlcmllcyxcbiAgICAgICAgICAgICAgICBkaXN0aW5jdDogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHNlbGVjdCwgc2VsZWN0RGlzdGluY3QgfTtcbiAgICB9XG4gICAgc2VsZWN0KGZpZWxkcykge1xuICAgICAgICByZXR1cm4gbmV3IE15U3FsU2VsZWN0QnVpbGRlcih7IGZpZWxkczogZmllbGRzID8/IHVuZGVmaW5lZCwgc2Vzc2lvbjogdW5kZWZpbmVkLCBkaWFsZWN0OiB0aGlzLmdldERpYWxlY3QoKSB9KTtcbiAgICB9XG4gICAgc2VsZWN0RGlzdGluY3QoZmllbGRzKSB7XG4gICAgICAgIHJldHVybiBuZXcgTXlTcWxTZWxlY3RCdWlsZGVyKHtcbiAgICAgICAgICAgIGZpZWxkczogZmllbGRzID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHNlc3Npb246IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGRpYWxlY3Q6IHRoaXMuZ2V0RGlhbGVjdCgpLFxuICAgICAgICAgICAgZGlzdGluY3Q6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBMYXp5IGxvYWQgZGlhbGVjdCB0byBhdm9pZCBjaXJjdWxhciBkZXBlbmRlbmN5XG4gICAgZ2V0RGlhbGVjdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmRpYWxlY3QpIHtcbiAgICAgICAgICAgIHRoaXMuZGlhbGVjdCA9IG5ldyBNeVNxbERpYWxlY3QoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5kaWFsZWN0O1xuICAgIH1cbn1cblxuY2xhc3MgUmVsYXRpb25hbFF1ZXJ5QnVpbGRlciB7XG4gICAgZnVsbFNjaGVtYTtcbiAgICBzY2hlbWE7XG4gICAgdGFibGVOYW1lc01hcDtcbiAgICB0YWJsZTtcbiAgICB0YWJsZUNvbmZpZztcbiAgICBkaWFsZWN0O1xuICAgIHNlc3Npb247XG4gICAgbW9kZTtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsUmVsYXRpb25hbFF1ZXJ5QnVpbGRlcic7XG4gICAgY29uc3RydWN0b3IoZnVsbFNjaGVtYSwgc2NoZW1hLCB0YWJsZU5hbWVzTWFwLCB0YWJsZSwgdGFibGVDb25maWcsIGRpYWxlY3QsIHNlc3Npb24sIG1vZGUpIHtcbiAgICAgICAgdGhpcy5mdWxsU2NoZW1hID0gZnVsbFNjaGVtYTtcbiAgICAgICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgICAgIHRoaXMudGFibGVOYW1lc01hcCA9IHRhYmxlTmFtZXNNYXA7XG4gICAgICAgIHRoaXMudGFibGUgPSB0YWJsZTtcbiAgICAgICAgdGhpcy50YWJsZUNvbmZpZyA9IHRhYmxlQ29uZmlnO1xuICAgICAgICB0aGlzLmRpYWxlY3QgPSBkaWFsZWN0O1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgICAgICB0aGlzLm1vZGUgPSBtb2RlO1xuICAgIH1cbiAgICBmaW5kTWFueShjb25maWcpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNeVNxbFJlbGF0aW9uYWxRdWVyeSh0aGlzLmZ1bGxTY2hlbWEsIHRoaXMuc2NoZW1hLCB0aGlzLnRhYmxlTmFtZXNNYXAsIHRoaXMudGFibGUsIHRoaXMudGFibGVDb25maWcsIHRoaXMuZGlhbGVjdCwgdGhpcy5zZXNzaW9uLCBjb25maWcgPyBjb25maWcgOiB7fSwgJ21hbnknLCB0aGlzLm1vZGUpO1xuICAgIH1cbiAgICBmaW5kRmlyc3QoY29uZmlnKSB7XG4gICAgICAgIHJldHVybiBuZXcgTXlTcWxSZWxhdGlvbmFsUXVlcnkodGhpcy5mdWxsU2NoZW1hLCB0aGlzLnNjaGVtYSwgdGhpcy50YWJsZU5hbWVzTWFwLCB0aGlzLnRhYmxlLCB0aGlzLnRhYmxlQ29uZmlnLCB0aGlzLmRpYWxlY3QsIHRoaXMuc2Vzc2lvbiwgY29uZmlnID8geyAuLi5jb25maWcsIGxpbWl0OiAxIH0gOiB7IGxpbWl0OiAxIH0sICdmaXJzdCcsIHRoaXMubW9kZSk7XG4gICAgfVxufVxuY2xhc3MgTXlTcWxSZWxhdGlvbmFsUXVlcnkgZXh0ZW5kcyBRdWVyeVByb21pc2Uge1xuICAgIGZ1bGxTY2hlbWE7XG4gICAgc2NoZW1hO1xuICAgIHRhYmxlTmFtZXNNYXA7XG4gICAgdGFibGU7XG4gICAgdGFibGVDb25maWc7XG4gICAgZGlhbGVjdDtcbiAgICBzZXNzaW9uO1xuICAgIGNvbmZpZztcbiAgICBxdWVyeU1vZGU7XG4gICAgbW9kZTtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsUmVsYXRpb25hbFF1ZXJ5JztcbiAgICBjb25zdHJ1Y3RvcihmdWxsU2NoZW1hLCBzY2hlbWEsIHRhYmxlTmFtZXNNYXAsIHRhYmxlLCB0YWJsZUNvbmZpZywgZGlhbGVjdCwgc2Vzc2lvbiwgY29uZmlnLCBxdWVyeU1vZGUsIG1vZGUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5mdWxsU2NoZW1hID0gZnVsbFNjaGVtYTtcbiAgICAgICAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gICAgICAgIHRoaXMudGFibGVOYW1lc01hcCA9IHRhYmxlTmFtZXNNYXA7XG4gICAgICAgIHRoaXMudGFibGUgPSB0YWJsZTtcbiAgICAgICAgdGhpcy50YWJsZUNvbmZpZyA9IHRhYmxlQ29uZmlnO1xuICAgICAgICB0aGlzLmRpYWxlY3QgPSBkaWFsZWN0O1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgICAgICB0aGlzLmNvbmZpZyA9IGNvbmZpZztcbiAgICAgICAgdGhpcy5xdWVyeU1vZGUgPSBxdWVyeU1vZGU7XG4gICAgICAgIHRoaXMubW9kZSA9IG1vZGU7XG4gICAgfVxuICAgIHByZXBhcmUoKSB7XG4gICAgICAgIGNvbnN0IHsgcXVlcnksIGJ1aWx0UXVlcnkgfSA9IHRoaXMuX3RvU1FMKCk7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24ucHJlcGFyZVF1ZXJ5KGJ1aWx0UXVlcnksIHVuZGVmaW5lZCwgKHJhd1Jvd3MpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJvd3MgPSByYXdSb3dzLm1hcCgocm93KSA9PiBtYXBSZWxhdGlvbmFsUm93KHRoaXMuc2NoZW1hLCB0aGlzLnRhYmxlQ29uZmlnLCByb3csIHF1ZXJ5LnNlbGVjdGlvbikpO1xuICAgICAgICAgICAgaWYgKHRoaXMucXVlcnlNb2RlID09PSAnZmlyc3QnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJvd3NbMF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcm93cztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF90b1NRTCgpIHtcbiAgICAgICAgY29uc3QgcXVlcnkgPSB0aGlzLm1vZGUgPT09ICdwbGFuZXRzY2FsZSdcbiAgICAgICAgICAgID8gdGhpcy5kaWFsZWN0LmJ1aWxkUmVsYXRpb25hbFF1ZXJ5V2l0aG91dExhdGVyYWxTdWJxdWVyaWVzKHtcbiAgICAgICAgICAgICAgICBmdWxsU2NoZW1hOiB0aGlzLmZ1bGxTY2hlbWEsXG4gICAgICAgICAgICAgICAgc2NoZW1hOiB0aGlzLnNjaGVtYSxcbiAgICAgICAgICAgICAgICB0YWJsZU5hbWVzTWFwOiB0aGlzLnRhYmxlTmFtZXNNYXAsXG4gICAgICAgICAgICAgICAgdGFibGU6IHRoaXMudGFibGUsXG4gICAgICAgICAgICAgICAgdGFibGVDb25maWc6IHRoaXMudGFibGVDb25maWcsXG4gICAgICAgICAgICAgICAgcXVlcnlDb25maWc6IHRoaXMuY29uZmlnLFxuICAgICAgICAgICAgICAgIHRhYmxlQWxpYXM6IHRoaXMudGFibGVDb25maWcudHNOYW1lLFxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIDogdGhpcy5kaWFsZWN0LmJ1aWxkUmVsYXRpb25hbFF1ZXJ5KHtcbiAgICAgICAgICAgICAgICBmdWxsU2NoZW1hOiB0aGlzLmZ1bGxTY2hlbWEsXG4gICAgICAgICAgICAgICAgc2NoZW1hOiB0aGlzLnNjaGVtYSxcbiAgICAgICAgICAgICAgICB0YWJsZU5hbWVzTWFwOiB0aGlzLnRhYmxlTmFtZXNNYXAsXG4gICAgICAgICAgICAgICAgdGFibGU6IHRoaXMudGFibGUsXG4gICAgICAgICAgICAgICAgdGFibGVDb25maWc6IHRoaXMudGFibGVDb25maWcsXG4gICAgICAgICAgICAgICAgcXVlcnlDb25maWc6IHRoaXMuY29uZmlnLFxuICAgICAgICAgICAgICAgIHRhYmxlQWxpYXM6IHRoaXMudGFibGVDb25maWcudHNOYW1lLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGJ1aWx0UXVlcnkgPSB0aGlzLmRpYWxlY3Quc3FsVG9RdWVyeShxdWVyeS5zcWwpO1xuICAgICAgICByZXR1cm4geyBidWlsdFF1ZXJ5LCBxdWVyeSB9O1xuICAgIH1cbiAgICB0b1NRTCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RvU1FMKCkuYnVpbHRRdWVyeTtcbiAgICB9XG4gICAgZXhlY3V0ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlcGFyZSgpLmV4ZWN1dGUoKTtcbiAgICB9XG59XG5cbmNsYXNzIE15U3FsRGF0YWJhc2Uge1xuICAgIGRpYWxlY3Q7XG4gICAgc2Vzc2lvbjtcbiAgICBtb2RlO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxEYXRhYmFzZSc7XG4gICAgcXVlcnk7XG4gICAgY29uc3RydWN0b3IoXG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGRpYWxlY3QsIFxuICAgIC8qKiBAaW50ZXJuYWwgKi9cbiAgICBzZXNzaW9uLCBzY2hlbWEsIG1vZGUpIHtcbiAgICAgICAgdGhpcy5kaWFsZWN0ID0gZGlhbGVjdDtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgdGhpcy5tb2RlID0gbW9kZTtcbiAgICAgICAgdGhpcy5fID0gc2NoZW1hXG4gICAgICAgICAgICA/IHsgc2NoZW1hOiBzY2hlbWEuc2NoZW1hLCB0YWJsZU5hbWVzTWFwOiBzY2hlbWEudGFibGVOYW1lc01hcCB9XG4gICAgICAgICAgICA6IHsgc2NoZW1hOiB1bmRlZmluZWQsIHRhYmxlTmFtZXNNYXA6IHt9IH07XG4gICAgICAgIHRoaXMucXVlcnkgPSB7fTtcbiAgICAgICAgaWYgKHRoaXMuXy5zY2hlbWEpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgW3RhYmxlTmFtZSwgY29sdW1uc10gb2YgT2JqZWN0LmVudHJpZXModGhpcy5fLnNjaGVtYSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnF1ZXJ5W3RhYmxlTmFtZV0gPVxuICAgICAgICAgICAgICAgICAgICBuZXcgUmVsYXRpb25hbFF1ZXJ5QnVpbGRlcihzY2hlbWEuZnVsbFNjaGVtYSwgdGhpcy5fLnNjaGVtYSwgdGhpcy5fLnRhYmxlTmFtZXNNYXAsIHNjaGVtYS5mdWxsU2NoZW1hW3RhYmxlTmFtZV0sIGNvbHVtbnMsIGRpYWxlY3QsIHNlc3Npb24sIHRoaXMubW9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgJHdpdGgoYWxpYXMpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGFzKHFiKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBxYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICBxYiA9IHFiKG5ldyBRdWVyeUJ1aWxkZXIoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJveHkobmV3IFdpdGhTdWJxdWVyeShxYi5nZXRTUUwoKSwgcWIuZ2V0U2VsZWN0ZWRGaWVsZHMoKSwgYWxpYXMsIHRydWUpLCBuZXcgU2VsZWN0aW9uUHJveHlIYW5kbGVyKHsgYWxpYXMsIHNxbEFsaWFzZWRCZWhhdmlvcjogJ2FsaWFzJywgc3FsQmVoYXZpb3I6ICdlcnJvcicgfSkpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgd2l0aCguLi5xdWVyaWVzKSB7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBmdW5jdGlvbiBzZWxlY3QoZmllbGRzKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE15U3FsU2VsZWN0QnVpbGRlcih7XG4gICAgICAgICAgICAgICAgZmllbGRzOiBmaWVsZHMgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHNlc3Npb246IHNlbGYuc2Vzc2lvbixcbiAgICAgICAgICAgICAgICBkaWFsZWN0OiBzZWxmLmRpYWxlY3QsXG4gICAgICAgICAgICAgICAgd2l0aExpc3Q6IHF1ZXJpZXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBzZWxlY3REaXN0aW5jdChmaWVsZHMpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTXlTcWxTZWxlY3RCdWlsZGVyKHtcbiAgICAgICAgICAgICAgICBmaWVsZHM6IGZpZWxkcyA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgc2Vzc2lvbjogc2VsZi5zZXNzaW9uLFxuICAgICAgICAgICAgICAgIGRpYWxlY3Q6IHNlbGYuZGlhbGVjdCxcbiAgICAgICAgICAgICAgICB3aXRoTGlzdDogcXVlcmllcyxcbiAgICAgICAgICAgICAgICBkaXN0aW5jdDogdHJ1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHNlbGVjdCwgc2VsZWN0RGlzdGluY3QgfTtcbiAgICB9XG4gICAgc2VsZWN0KGZpZWxkcykge1xuICAgICAgICByZXR1cm4gbmV3IE15U3FsU2VsZWN0QnVpbGRlcih7IGZpZWxkczogZmllbGRzID8/IHVuZGVmaW5lZCwgc2Vzc2lvbjogdGhpcy5zZXNzaW9uLCBkaWFsZWN0OiB0aGlzLmRpYWxlY3QgfSk7XG4gICAgfVxuICAgIHNlbGVjdERpc3RpbmN0KGZpZWxkcykge1xuICAgICAgICByZXR1cm4gbmV3IE15U3FsU2VsZWN0QnVpbGRlcih7XG4gICAgICAgICAgICBmaWVsZHM6IGZpZWxkcyA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICBzZXNzaW9uOiB0aGlzLnNlc3Npb24sXG4gICAgICAgICAgICBkaWFsZWN0OiB0aGlzLmRpYWxlY3QsXG4gICAgICAgICAgICBkaXN0aW5jdDogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHVwZGF0ZSh0YWJsZSkge1xuICAgICAgICByZXR1cm4gbmV3IE15U3FsVXBkYXRlQnVpbGRlcih0YWJsZSwgdGhpcy5zZXNzaW9uLCB0aGlzLmRpYWxlY3QpO1xuICAgIH1cbiAgICBpbnNlcnQodGFibGUpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNeVNxbEluc2VydEJ1aWxkZXIodGFibGUsIHRoaXMuc2Vzc2lvbiwgdGhpcy5kaWFsZWN0KTtcbiAgICB9XG4gICAgZGVsZXRlKHRhYmxlKSB7XG4gICAgICAgIHJldHVybiBuZXcgTXlTcWxEZWxldGUodGFibGUsIHRoaXMuc2Vzc2lvbiwgdGhpcy5kaWFsZWN0KTtcbiAgICB9XG4gICAgZXhlY3V0ZShxdWVyeSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXNzaW9uLmV4ZWN1dGUocXVlcnkuZ2V0U1FMKCkpO1xuICAgIH1cbiAgICB0cmFuc2FjdGlvbih0cmFuc2FjdGlvbiwgY29uZmlnKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlc3Npb24udHJhbnNhY3Rpb24odHJhbnNhY3Rpb24sIGNvbmZpZyk7XG4gICAgfVxufVxuXG5jbGFzcyBQcmVwYXJlZFF1ZXJ5IHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsUHJlcGFyZWRRdWVyeSc7XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGpvaW5zTm90TnVsbGFibGVNYXA7XG59XG5jbGFzcyBNeVNxbFNlc3Npb24ge1xuICAgIGRpYWxlY3Q7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbFNlc3Npb24nO1xuICAgIGNvbnN0cnVjdG9yKGRpYWxlY3QpIHtcbiAgICAgICAgdGhpcy5kaWFsZWN0ID0gZGlhbGVjdDtcbiAgICB9XG4gICAgZXhlY3V0ZShxdWVyeSkge1xuICAgICAgICByZXR1cm4gdGhpcy5wcmVwYXJlUXVlcnkodGhpcy5kaWFsZWN0LnNxbFRvUXVlcnkocXVlcnkpLCB1bmRlZmluZWQpLmV4ZWN1dGUoKTtcbiAgICB9XG4gICAgZ2V0U2V0VHJhbnNhY3Rpb25TUUwoY29uZmlnKSB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gW107XG4gICAgICAgIGlmIChjb25maWcuaXNvbGF0aW9uTGV2ZWwpIHtcbiAgICAgICAgICAgIHBhcnRzLnB1c2goYGlzb2xhdGlvbiBsZXZlbCAke2NvbmZpZy5pc29sYXRpb25MZXZlbH1gKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFydHMubGVuZ3RoID8gc3FsLmpvaW4oWydzZXQgdHJhbnNhY3Rpb24gJywgcGFydHMuam9pbignICcpXSkgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGdldFN0YXJ0VHJhbnNhY3Rpb25TUUwoY29uZmlnKSB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gW107XG4gICAgICAgIGlmIChjb25maWcud2l0aENvbnNpc3RlbnRTbmFwc2hvdCkge1xuICAgICAgICAgICAgcGFydHMucHVzaCgnd2l0aCBjb25zaXN0ZW50IHNuYXBzaG90Jyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbmZpZy5hY2Nlc3NNb2RlKSB7XG4gICAgICAgICAgICBwYXJ0cy5wdXNoKGNvbmZpZy5hY2Nlc3NNb2RlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGFydHMubGVuZ3RoID8gc3FsLmpvaW4oWydzdGFydCB0cmFuc2FjdGlvbiAnLCBwYXJ0cy5qb2luKCcgJyldKSA6IHVuZGVmaW5lZDtcbiAgICB9XG59XG5jbGFzcyBNeVNxbFRyYW5zYWN0aW9uIGV4dGVuZHMgTXlTcWxEYXRhYmFzZSB7XG4gICAgc2NoZW1hO1xuICAgIG5lc3RlZEluZGV4O1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxUcmFuc2FjdGlvbic7XG4gICAgY29uc3RydWN0b3IoZGlhbGVjdCwgc2Vzc2lvbiwgc2NoZW1hLCBuZXN0ZWRJbmRleCwgbW9kZSkge1xuICAgICAgICBzdXBlcihkaWFsZWN0LCBzZXNzaW9uLCBzY2hlbWEsIG1vZGUpO1xuICAgICAgICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgdGhpcy5uZXN0ZWRJbmRleCA9IG5lc3RlZEluZGV4O1xuICAgIH1cbiAgICByb2xsYmFjaygpIHtcbiAgICAgICAgdGhyb3cgbmV3IFRyYW5zYWN0aW9uUm9sbGJhY2tFcnJvcigpO1xuICAgIH1cbn1cblxuY2xhc3MgTXlTcWxVcGRhdGVCdWlsZGVyIHtcbiAgICB0YWJsZTtcbiAgICBzZXNzaW9uO1xuICAgIGRpYWxlY3Q7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbFVwZGF0ZUJ1aWxkZXInO1xuICAgIGNvbnN0cnVjdG9yKHRhYmxlLCBzZXNzaW9uLCBkaWFsZWN0KSB7XG4gICAgICAgIHRoaXMudGFibGUgPSB0YWJsZTtcbiAgICAgICAgdGhpcy5zZXNzaW9uID0gc2Vzc2lvbjtcbiAgICAgICAgdGhpcy5kaWFsZWN0ID0gZGlhbGVjdDtcbiAgICB9XG4gICAgc2V0KHZhbHVlcykge1xuICAgICAgICByZXR1cm4gbmV3IE15U3FsVXBkYXRlKHRoaXMudGFibGUsIG1hcFVwZGF0ZVNldCh0aGlzLnRhYmxlLCB2YWx1ZXMpLCB0aGlzLnNlc3Npb24sIHRoaXMuZGlhbGVjdCk7XG4gICAgfVxufVxuY2xhc3MgTXlTcWxVcGRhdGUgZXh0ZW5kcyBRdWVyeVByb21pc2Uge1xuICAgIHNlc3Npb247XG4gICAgZGlhbGVjdDtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsVXBkYXRlJztcbiAgICBjb25maWc7XG4gICAgY29uc3RydWN0b3IodGFibGUsIHNldCwgc2Vzc2lvbiwgZGlhbGVjdCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnNlc3Npb24gPSBzZXNzaW9uO1xuICAgICAgICB0aGlzLmRpYWxlY3QgPSBkaWFsZWN0O1xuICAgICAgICB0aGlzLmNvbmZpZyA9IHsgc2V0LCB0YWJsZSB9O1xuICAgIH1cbiAgICB3aGVyZSh3aGVyZSkge1xuICAgICAgICB0aGlzLmNvbmZpZy53aGVyZSA9IHdoZXJlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqIEBpbnRlcm5hbCAqL1xuICAgIGdldFNRTCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlhbGVjdC5idWlsZFVwZGF0ZVF1ZXJ5KHRoaXMuY29uZmlnKTtcbiAgICB9XG4gICAgdG9TUUwoKSB7XG4gICAgICAgIGNvbnN0IHsgdHlwaW5nczogX3R5cGluZ3MsIC4uLnJlc3QgfSA9IHRoaXMuZGlhbGVjdC5zcWxUb1F1ZXJ5KHRoaXMuZ2V0U1FMKCkpO1xuICAgICAgICByZXR1cm4gcmVzdDtcbiAgICB9XG4gICAgcHJlcGFyZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2Vzc2lvbi5wcmVwYXJlUXVlcnkodGhpcy5kaWFsZWN0LnNxbFRvUXVlcnkodGhpcy5nZXRTUUwoKSksIHRoaXMuY29uZmlnLnJldHVybmluZyk7XG4gICAgfVxuICAgIGV4ZWN1dGUgPSAocGxhY2Vob2xkZXJWYWx1ZXMpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJlcGFyZSgpLmV4ZWN1dGUocGxhY2Vob2xkZXJWYWx1ZXMpO1xuICAgIH07XG4gICAgY3JlYXRlSXRlcmF0b3IgPSAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICByZXR1cm4gYXN5bmMgZnVuY3Rpb24qIChwbGFjZWhvbGRlclZhbHVlcykge1xuICAgICAgICAgICAgeWllbGQqIHNlbGYucHJlcGFyZSgpLml0ZXJhdG9yKHBsYWNlaG9sZGVyVmFsdWVzKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGl0ZXJhdG9yID0gdGhpcy5jcmVhdGVJdGVyYXRvcigpO1xufVxuXG5jbGFzcyBWaWV3QnVpbGRlckNvcmUge1xuICAgIG5hbWU7XG4gICAgc2NoZW1hO1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxWaWV3QnVpbGRlcic7XG4gICAgY29uc3RydWN0b3IobmFtZSwgc2NoZW1hKSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuc2NoZW1hID0gc2NoZW1hO1xuICAgIH1cbiAgICBjb25maWcgPSB7fTtcbiAgICBhbGdvcml0aG0oYWxnb3JpdGhtKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLmFsZ29yaXRobSA9IGFsZ29yaXRobTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGRlZmluZXIoZGVmaW5lcikge1xuICAgICAgICB0aGlzLmNvbmZpZy5kZWZpbmVyID0gZGVmaW5lcjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIHNxbFNlY3VyaXR5KHNxbFNlY3VyaXR5KSB7XG4gICAgICAgIHRoaXMuY29uZmlnLnNxbFNlY3VyaXR5ID0gc3FsU2VjdXJpdHk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICB3aXRoQ2hlY2tPcHRpb24od2l0aENoZWNrT3B0aW9uKSB7XG4gICAgICAgIHRoaXMuY29uZmlnLndpdGhDaGVja09wdGlvbiA9IHdpdGhDaGVja09wdGlvbiA/PyAnY2FzY2FkZWQnO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59XG5jbGFzcyBWaWV3QnVpbGRlciBleHRlbmRzIFZpZXdCdWlsZGVyQ29yZSB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbFZpZXdCdWlsZGVyJztcbiAgICBhcyhxYikge1xuICAgICAgICBpZiAodHlwZW9mIHFiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBxYiA9IHFiKG5ldyBRdWVyeUJ1aWxkZXIoKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uUHJveHkgPSBuZXcgU2VsZWN0aW9uUHJveHlIYW5kbGVyKHtcbiAgICAgICAgICAgIGFsaWFzOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICBzcWxCZWhhdmlvcjogJ2Vycm9yJyxcbiAgICAgICAgICAgIHNxbEFsaWFzZWRCZWhhdmlvcjogJ2FsaWFzJyxcbiAgICAgICAgICAgIHJlcGxhY2VPcmlnaW5hbE5hbWU6IHRydWUsXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBhbGlhc2VkU2VsZWN0aW9uID0gbmV3IFByb3h5KHFiLmdldFNlbGVjdGVkRmllbGRzKCksIHNlbGVjdGlvblByb3h5KTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eShuZXcgTXlTcWxWaWV3KHtcbiAgICAgICAgICAgIG15c3FsQ29uZmlnOiB0aGlzLmNvbmZpZyxcbiAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICAgICAgICAgICAgICBzY2hlbWE6IHRoaXMuc2NoZW1hLFxuICAgICAgICAgICAgICAgIHNlbGVjdGVkRmllbGRzOiBhbGlhc2VkU2VsZWN0aW9uLFxuICAgICAgICAgICAgICAgIHF1ZXJ5OiBxYi5nZXRTUUwoKS5pbmxpbmVQYXJhbXMoKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pLCBzZWxlY3Rpb25Qcm94eSk7XG4gICAgfVxufVxuY2xhc3MgTWFudWFsVmlld0J1aWxkZXIgZXh0ZW5kcyBWaWV3QnVpbGRlckNvcmUge1xuICAgIHN0YXRpYyBbZW50aXR5S2luZF0gPSAnTXlTcWxNYW51YWxWaWV3QnVpbGRlcic7XG4gICAgY29sdW1ucztcbiAgICBjb25zdHJ1Y3RvcihuYW1lLCBjb2x1bW5zLCBzY2hlbWEpIHtcbiAgICAgICAgc3VwZXIobmFtZSwgc2NoZW1hKTtcbiAgICAgICAgdGhpcy5jb2x1bW5zID0gZ2V0VGFibGVDb2x1bW5zKG15c3FsVGFibGUobmFtZSwgY29sdW1ucykpO1xuICAgIH1cbiAgICBleGlzdGluZygpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm94eShuZXcgTXlTcWxWaWV3KHtcbiAgICAgICAgICAgIG15c3FsQ29uZmlnOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAgICAgc2NoZW1hOiB0aGlzLnNjaGVtYSxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEZpZWxkczogdGhpcy5jb2x1bW5zLFxuICAgICAgICAgICAgICAgIHF1ZXJ5OiB1bmRlZmluZWQsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KSwgbmV3IFNlbGVjdGlvblByb3h5SGFuZGxlcih7XG4gICAgICAgICAgICBhbGlhczogdGhpcy5uYW1lLFxuICAgICAgICAgICAgc3FsQmVoYXZpb3I6ICdlcnJvcicsXG4gICAgICAgICAgICBzcWxBbGlhc2VkQmVoYXZpb3I6ICdhbGlhcycsXG4gICAgICAgICAgICByZXBsYWNlT3JpZ2luYWxOYW1lOiB0cnVlLFxuICAgICAgICB9KSk7XG4gICAgfVxuICAgIGFzKHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJveHkobmV3IE15U3FsVmlldyh7XG4gICAgICAgICAgICBteXNxbENvbmZpZzogdGhpcy5jb25maWcsXG4gICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICAgICAgc2NoZW1hOiB0aGlzLnNjaGVtYSxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZEZpZWxkczogdGhpcy5jb2x1bW5zLFxuICAgICAgICAgICAgICAgIHF1ZXJ5OiBxdWVyeS5pbmxpbmVQYXJhbXMoKSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pLCBuZXcgU2VsZWN0aW9uUHJveHlIYW5kbGVyKHtcbiAgICAgICAgICAgIGFsaWFzOiB0aGlzLm5hbWUsXG4gICAgICAgICAgICBzcWxCZWhhdmlvcjogJ2Vycm9yJyxcbiAgICAgICAgICAgIHNxbEFsaWFzZWRCZWhhdmlvcjogJ2FsaWFzJyxcbiAgICAgICAgICAgIHJlcGxhY2VPcmlnaW5hbE5hbWU6IHRydWUsXG4gICAgICAgIH0pKTtcbiAgICB9XG59XG5jbGFzcyBNeVNxbFZpZXdCYXNlIGV4dGVuZHMgVmlldyB7XG4gICAgc3RhdGljIFtlbnRpdHlLaW5kXSA9ICdNeVNxbFZpZXdCYXNlJztcbn1cbmNvbnN0IE15U3FsVmlld0NvbmZpZyA9IFN5bWJvbC5mb3IoJ2RyaXp6bGU6TXlTcWxWaWV3Q29uZmlnJyk7XG5jbGFzcyBNeVNxbFZpZXcgZXh0ZW5kcyBNeVNxbFZpZXdCYXNlIHtcbiAgICBzdGF0aWMgW2VudGl0eUtpbmRdID0gJ015U3FsVmlldyc7XG4gICAgW015U3FsVmlld0NvbmZpZ107XG4gICAgY29uc3RydWN0b3IoeyBteXNxbENvbmZpZywgY29uZmlnIH0pIHtcbiAgICAgICAgc3VwZXIoY29uZmlnKTtcbiAgICAgICAgdGhpc1tNeVNxbFZpZXdDb25maWddID0gbXlzcWxDb25maWc7XG4gICAgfVxufVxuLyoqIEBpbnRlcm5hbCAqL1xuZnVuY3Rpb24gbXlzcWxWaWV3V2l0aFNjaGVtYShuYW1lLCBzZWxlY3Rpb24sIHNjaGVtYSkge1xuICAgIGlmIChzZWxlY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYW51YWxWaWV3QnVpbGRlcihuYW1lLCBzZWxlY3Rpb24sIHNjaGVtYSk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgVmlld0J1aWxkZXIobmFtZSwgc2NoZW1hKTtcbn1cbmZ1bmN0aW9uIG15c3FsVmlldyhuYW1lLCBzZWxlY3Rpb24pIHtcbiAgICByZXR1cm4gbXlzcWxWaWV3V2l0aFNjaGVtYShuYW1lLCBzZWxlY3Rpb24sIHVuZGVmaW5lZCk7XG59XG5cbmV4cG9ydCB7IFVuaXF1ZUNvbnN0cmFpbnQgYXMgQSwgVmlld0J1aWxkZXIgYXMgQiwgTWFudWFsVmlld0J1aWxkZXIgYXMgQywgTXlTcWxWaWV3QmFzZSBhcyBELCBNeVNxbFZpZXcgYXMgRSwgRm9yZWlnbktleUJ1aWxkZXIgYXMgRiwgbXlzcWxWaWV3IGFzIEcsIElubGluZUZvcmVpZ25LZXlzIGFzIEksIE15U3FsU2Vzc2lvbiBhcyBNLCBQcmVwYXJlZFF1ZXJ5IGFzIFAsIFF1ZXJ5QnVpbGRlciBhcyBRLCBVbmlxdWVDb25zdHJhaW50QnVpbGRlciBhcyBVLCBWaWV3QnVpbGRlckNvcmUgYXMgViwgTXlTcWxUcmFuc2FjdGlvbiBhcyBhLCBNeVNxbERhdGFiYXNlIGFzIGIsIE15U3FsRGlhbGVjdCBhcyBjLCBNeVNxbENvbHVtbkJ1aWxkZXJXaXRoQXV0b0luY3JlbWVudCBhcyBkLCBNeVNxbENvbHVtbldpdGhBdXRvSW5jcmVtZW50IGFzIGUsIE15U3FsQ29sdW1uQnVpbGRlciBhcyBmLCBNeVNxbENvbHVtbiBhcyBnLCBNeVNxbFRhYmxlIGFzIGgsIG15c3FsVmlld1dpdGhTY2hlbWEgYXMgaSwgTXlTcWxWaWV3Q29uZmlnIGFzIGosIEZvcmVpZ25LZXkgYXMgaywgZm9yZWlnbktleSBhcyBsLCBteXNxbFRhYmxlV2l0aFNjaGVtYSBhcyBtLCBNeVNxbERlbGV0ZSBhcyBuLCBNeVNxbEluc2VydEJ1aWxkZXIgYXMgbywgTXlTcWxJbnNlcnQgYXMgcCwgTXlTcWxTZWxlY3RCdWlsZGVyIGFzIHEsIE15U3FsU2VsZWN0UXVlcnlCdWlsZGVyIGFzIHIsIE15U3FsU2VsZWN0IGFzIHMsIE15U3FsVXBkYXRlQnVpbGRlciBhcyB0LCBNeVNxbFVwZGF0ZSBhcyB1LCBteXNxbFRhYmxlIGFzIHYsIG15c3FsVGFibGVDcmVhdG9yIGFzIHcsIHVuaXF1ZSBhcyB4LCB1bmlxdWVLZXlOYW1lIGFzIHksIFVuaXF1ZU9uQ29uc3RyYWludEJ1aWxkZXIgYXMgeiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmlldy0yMzg5OGYyMS5tanMubWFwXG4iXSwibmFtZXMiOlsiVCIsIlRhYmxlIiwiZSIsImVudGl0eUtpbmQiLCJDIiwiQ29sdW1uQnVpbGRlciIsInAiLCJDb2x1bW4iLCJRIiwiUXVlcnlQcm9taXNlIiwiaSIsImlzIiwiUyIsIlNRTCIsImIiLCJQYXJhbSIsImQiLCJtYXBVcGRhdGVTZXQiLCJzIiwic3FsIiwibyIsIm9yZGVyU2VsZWN0ZWRGaWVsZHMiLCJxIiwiZ2V0VGFibGVOYW1lIiwiciIsIlN1YnF1ZXJ5IiwidSIsIlN1YnF1ZXJ5Q29uZmlnIiwiViIsIlZpZXdCYXNlQ29uZmlnIiwidiIsIlZpZXciLCJ3IiwiYWxpYXNlZFRhYmxlQ29sdW1uIiwieCIsImdldE9wZXJhdG9ycyIsInkiLCJtYXBDb2x1bW5zSW5TUUxUb0FsaWFzIiwieiIsIm1hcENvbHVtbnNJbkFsaWFzZWRTUUxUb0FsaWFzIiwiQSIsImdldE9yZGVyQnlPcGVyYXRvcnMiLCJCIiwibm9ybWFsaXplUmVsYXRpb24iLCJFIiwiYW5kIiwiRiIsImVxIiwiTyIsIk9uZSIsIkQiLCJEcml6emxlRXJyb3IiLCJNIiwiTWFueSIsIkciLCJhbGlhc2VkVGFibGUiLCJIIiwiYXBwbHlNaXhpbnMiLCJJIiwiZ2V0VGFibGVDb2x1bW5zIiwiSiIsIlR5cGVkUXVlcnlCdWlsZGVyIiwiSyIsImdldFRhYmxlTGlrZU5hbWUiLCJqIiwiU2VsZWN0aW9uUHJveHlIYW5kbGVyIiwiVyIsIldpdGhTdWJxdWVyeSIsImciLCJtYXBSZWxhdGlvbmFsUm93IiwibCIsIlRyYW5zYWN0aW9uUm9sbGJhY2tFcnJvciIsIklubGluZUZvcmVpZ25LZXlzIiwiU3ltYm9sIiwiZm9yIiwiTXlTcWxUYWJsZSIsIkNvbHVtbnMiLCJFeHRyYUNvbmZpZ0J1aWxkZXIiLCJPYmplY3QiLCJhc3NpZ24iLCJ1bmRlZmluZWQiLCJteXNxbFRhYmxlV2l0aFNjaGVtYSIsIm5hbWUiLCJjb2x1bW5zIiwiZXh0cmFDb25maWciLCJzY2hlbWEiLCJiYXNlTmFtZSIsInJhd1RhYmxlIiwiYnVpbHRDb2x1bW5zIiwiZnJvbUVudHJpZXMiLCJlbnRyaWVzIiwibWFwIiwiY29sQnVpbGRlckJhc2UiLCJjb2xCdWlsZGVyIiwiY29sdW1uIiwiYnVpbGQiLCJwdXNoIiwiYnVpbGRGb3JlaWduS2V5cyIsInRhYmxlIiwibXlzcWxUYWJsZSIsIm15c3FsVGFibGVDcmVhdG9yIiwiY3VzdG9taXplVGFibGVOYW1lIiwiRm9yZWlnbktleUJ1aWxkZXIiLCJjb25zdHJ1Y3RvciIsImNvbmZpZyIsImFjdGlvbnMiLCJyZWZlcmVuY2UiLCJmb3JlaWduQ29sdW1ucyIsImZvcmVpZ25UYWJsZSIsIl9vblVwZGF0ZSIsIm9uVXBkYXRlIiwiX29uRGVsZXRlIiwib25EZWxldGUiLCJhY3Rpb24iLCJGb3JlaWduS2V5IiwiYnVpbGRlciIsImdldE5hbWUiLCJjb2x1bW5OYW1lcyIsImZvcmVpZ25Db2x1bW5OYW1lcyIsImNodW5rcyIsIk5hbWUiLCJqb2luIiwiZm9yZWlnbktleSIsIm1hcHBlZENvbmZpZyIsInVuaXF1ZSIsIlVuaXF1ZU9uQ29uc3RyYWludEJ1aWxkZXIiLCJ1bmlxdWVLZXlOYW1lIiwiVW5pcXVlQ29uc3RyYWludEJ1aWxkZXIiLCJVbmlxdWVDb25zdHJhaW50Iiwib24iLCJudWxsc05vdERpc3RpbmN0IiwiTXlTcWxDb2x1bW5CdWlsZGVyIiwicmVmZXJlbmNlcyIsInJlZiIsImZvcmVpZ25LZXlDb25maWdzIiwiaXNVbmlxdWUiLCJ1bmlxdWVOYW1lIiwiZm9yZWlnbkNvbHVtbiIsIk15U3FsQ29sdW1uIiwiTXlTcWxDb2x1bW5CdWlsZGVyV2l0aEF1dG9JbmNyZW1lbnQiLCJkYXRhVHlwZSIsImNvbHVtblR5cGUiLCJhdXRvSW5jcmVtZW50IiwiYXV0b2luY3JlbWVudCIsImhhc0RlZmF1bHQiLCJNeVNxbENvbHVtbldpdGhBdXRvSW5jcmVtZW50IiwiTXlTcWxEZWxldGUiLCJzZXNzaW9uIiwiZGlhbGVjdCIsImV4ZWN1dGUiLCJwbGFjZWhvbGRlclZhbHVlcyIsInByZXBhcmUiLCJjcmVhdGVJdGVyYXRvciIsInNlbGYiLCJpdGVyYXRvciIsIndoZXJlIiwiZ2V0U1FMIiwiYnVpbGREZWxldGVRdWVyeSIsInRvU1FMIiwidHlwaW5ncyIsIl90eXBpbmdzIiwicmVzdCIsInNxbFRvUXVlcnkiLCJwcmVwYXJlUXVlcnkiLCJyZXR1cm5pbmciLCJNeVNxbEluc2VydEJ1aWxkZXIiLCJzaG91bGRJZ25vcmUiLCJpZ25vcmUiLCJ2YWx1ZXMiLCJBcnJheSIsImlzQXJyYXkiLCJsZW5ndGgiLCJFcnJvciIsIm1hcHBlZFZhbHVlcyIsImVudHJ5IiwicmVzdWx0IiwiY29scyIsImNvbEtleSIsImtleXMiLCJjb2xWYWx1ZSIsIk15U3FsSW5zZXJ0Iiwib25EdXBsaWNhdGVLZXlVcGRhdGUiLCJzZXRTcWwiLCJidWlsZFVwZGF0ZVNldCIsInNldCIsIm9uQ29uZmxpY3QiLCJidWlsZEluc2VydFF1ZXJ5IiwiTXlTcWxEaWFsZWN0IiwibWlncmF0ZSIsIm1pZ3JhdGlvbnMiLCJtaWdyYXRpb25zVGFibGUiLCJtaWdyYXRpb25UYWJsZUNyZWF0ZSIsImlkZW50aWZpZXIiLCJkYk1pZ3JhdGlvbnMiLCJhbGwiLCJsYXN0RGJNaWdyYXRpb24iLCJ0cmFuc2FjdGlvbiIsInR4IiwibWlncmF0aW9uIiwiTnVtYmVyIiwiY3JlYXRlZF9hdCIsImZvbGRlck1pbGxpcyIsInN0bXQiLCJyYXciLCJoYXNoIiwiZXNjYXBlTmFtZSIsImVzY2FwZVBhcmFtIiwiX251bSIsImVzY2FwZVN0cmluZyIsInN0ciIsInJlcGxhY2UiLCJyZXR1cm5pbmdTcWwiLCJidWlsZFNlbGVjdGlvbiIsImlzU2luZ2xlVGFibGUiLCJ3aGVyZVNxbCIsInNldEVudHJpZXMiLCJzZXRTaXplIiwiZmxhdE1hcCIsImNvbE5hbWUiLCJ2YWx1ZSIsImNvbCIsInJlcyIsImJ1aWxkVXBkYXRlUXVlcnkiLCJmaWVsZHMiLCJjb2x1bW5zTGVuIiwiZmllbGQiLCJjaHVuayIsIkFsaWFzZWQiLCJpc1NlbGVjdGlvbkZpZWxkIiwiZmllbGRBbGlhcyIsInF1ZXJ5IiwicXVlcnlDaHVua3MiLCJjIiwiYnVpbGRTZWxlY3RRdWVyeSIsIndpdGhMaXN0IiwiZmllbGRzRmxhdCIsImhhdmluZyIsImpvaW5zIiwib3JkZXJCeSIsImdyb3VwQnkiLCJsaW1pdCIsIm9mZnNldCIsImxvY2tpbmdDbGF1c2UiLCJkaXN0aW5jdCIsImZpZWxkc0xpc3QiLCJmIiwiYWxpYXMiLCJNeVNxbFZpZXdCYXNlIiwic29tZSIsIklzQWxpYXMiLCJCYXNlTmFtZSIsInRhYmxlTmFtZSIsInBhdGgiLCJ3aXRoU3FsIiwid2l0aFNxbENodW5rcyIsImRpc3RpbmN0U3FsIiwic2VsZWN0aW9uIiwidGFibGVTcWwiLCJPcmlnaW5hbE5hbWUiLCJqb2luc0FycmF5IiwiaW5kZXgiLCJqb2luTWV0YSIsImxhdGVyYWxTcWwiLCJsYXRlcmFsIiwidGFibGVTY2hlbWEiLCJTY2hlbWEiLCJvcmlnVGFibGVOYW1lIiwiam9pblR5cGUiLCJ2aWV3TmFtZSIsInZpZXdTY2hlbWEiLCJvcmlnVmlld05hbWUiLCJvcmlnaW5hbE5hbWUiLCJqb2luc1NxbCIsImhhdmluZ1NxbCIsIm9yZGVyQnlTcWwiLCJncm91cEJ5U3FsIiwibGltaXRTcWwiLCJvZmZzZXRTcWwiLCJsb2NraW5nQ2xhdXNlc1NxbCIsInN0cmVuZ3RoIiwibm9XYWl0IiwiYXBwZW5kIiwic2tpcExvY2tlZCIsInZhbHVlc1NxbExpc3QiLCJjb2xFbnRyaWVzIiwiaW5zZXJ0T3JkZXIiLCJ2YWx1ZUluZGV4IiwidmFsdWVMaXN0IiwiZmllbGROYW1lIiwiZGVmYXVsdEZuIiwiZGVmYXVsdEZuUmVzdWx0IiwiZGVmYXVsdFZhbHVlIiwicGFyYW0iLCJ2YWx1ZXNTcWwiLCJpZ25vcmVTcWwiLCJvbkNvbmZsaWN0U3FsIiwidG9RdWVyeSIsImJ1aWxkUmVsYXRpb25hbFF1ZXJ5IiwiZnVsbFNjaGVtYSIsInRhYmxlTmFtZXNNYXAiLCJ0YWJsZUNvbmZpZyIsInF1ZXJ5Q29uZmlnIiwidGFibGVBbGlhcyIsIm5lc3RlZFF1ZXJ5UmVsYXRpb24iLCJqb2luT24iLCJzZWxlY3Rpb25FbnRyaWVzIiwia2V5IiwiZGJLZXkiLCJ0c0tleSIsInJlbGF0aW9uVGFibGVUc0tleSIsImlzSnNvbiIsImFsaWFzZWRDb2x1bW5zIiwiZmllbGRzU2VsZWN0aW9uIiwic2VsZWN0ZWRDb2x1bW5zIiwiaXNJbmNsdWRlTW9kZSIsImZpbHRlciIsImluY2x1ZGVzIiwic2VsZWN0ZWRSZWxhdGlvbnMiLCJ3aXRoIiwicmVsYXRpb24iLCJyZWxhdGlvbnMiLCJleHRyYXMiLCJvcmRlckJ5T3JpZyIsIm9yZGVyQnlWYWx1ZSIsInNlbGVjdGVkUmVsYXRpb25Uc0tleSIsInNlbGVjdGVkUmVsYXRpb25Db25maWdWYWx1ZSIsIm5vcm1hbGl6ZWRSZWxhdGlvbiIsInJlbGF0aW9uVGFibGVOYW1lIiwicmVmZXJlbmNlZFRhYmxlIiwicmVsYXRpb25UYWJsZVRzTmFtZSIsInJlbGF0aW9uVGFibGVBbGlhcyIsImJ1aWx0UmVsYXRpb24iLCJhcyIsInRzTmFtZSIsIm5lc3RlZFNlbGVjdGlvbiIsIm5lZWRzU3VicXVlcnkiLCJ0YWJsZVRzS2V5IiwiYnVpbGRSZWxhdGlvbmFsUXVlcnlXaXRob3V0TGF0ZXJhbFN1YnF1ZXJpZXMiLCJmaWVsZFNxbCIsIk15U3FsU2VsZWN0QnVpbGRlciIsImZyb20iLCJzb3VyY2UiLCJpc1BhcnRpYWxTZWxlY3QiLCJzZWxlY3RlZEZpZWxkcyIsIk15U3FsU2VsZWN0IiwiTXlTcWxTZWxlY3RRdWVyeUJ1aWxkZXIiLCJsZWZ0Sm9pbiIsImNyZWF0ZUpvaW4iLCJyaWdodEpvaW4iLCJpbm5lckpvaW4iLCJmdWxsSm9pbiIsIl8iLCJqb2luc05vdE51bGxhYmxlTWFwIiwiYmFzZVRhYmxlTmFtZSIsIlByb3h5Iiwic3FsQWxpYXNlZEJlaGF2aW9yIiwic3FsQmVoYXZpb3IiLCJRdWVyeUJ1aWxkZXIiLCIkd2l0aCIsInF1ZXJ5QnVpbGRlciIsInFiIiwiZ2V0U2VsZWN0ZWRGaWVsZHMiLCJxdWVyaWVzIiwic2VsZWN0IiwiZ2V0RGlhbGVjdCIsInNlbGVjdERpc3RpbmN0IiwiUmVsYXRpb25hbFF1ZXJ5QnVpbGRlciIsIm1vZGUiLCJmaW5kTWFueSIsIk15U3FsUmVsYXRpb25hbFF1ZXJ5IiwiZmluZEZpcnN0IiwicXVlcnlNb2RlIiwiYnVpbHRRdWVyeSIsIl90b1NRTCIsInJhd1Jvd3MiLCJyb3dzIiwicm93IiwiTXlTcWxEYXRhYmFzZSIsInVwZGF0ZSIsIk15U3FsVXBkYXRlQnVpbGRlciIsImluc2VydCIsImRlbGV0ZSIsIlByZXBhcmVkUXVlcnkiLCJNeVNxbFNlc3Npb24iLCJnZXRTZXRUcmFuc2FjdGlvblNRTCIsInBhcnRzIiwiaXNvbGF0aW9uTGV2ZWwiLCJnZXRTdGFydFRyYW5zYWN0aW9uU1FMIiwid2l0aENvbnNpc3RlbnRTbmFwc2hvdCIsImFjY2Vzc01vZGUiLCJNeVNxbFRyYW5zYWN0aW9uIiwibmVzdGVkSW5kZXgiLCJyb2xsYmFjayIsIk15U3FsVXBkYXRlIiwiVmlld0J1aWxkZXJDb3JlIiwiYWxnb3JpdGhtIiwiZGVmaW5lciIsInNxbFNlY3VyaXR5Iiwid2l0aENoZWNrT3B0aW9uIiwiVmlld0J1aWxkZXIiLCJzZWxlY3Rpb25Qcm94eSIsInJlcGxhY2VPcmlnaW5hbE5hbWUiLCJhbGlhc2VkU2VsZWN0aW9uIiwiTXlTcWxWaWV3IiwibXlzcWxDb25maWciLCJpbmxpbmVQYXJhbXMiLCJNYW51YWxWaWV3QnVpbGRlciIsImV4aXN0aW5nIiwiTXlTcWxWaWV3Q29uZmlnIiwibXlzcWxWaWV3V2l0aFNjaGVtYSIsIm15c3FsVmlldyIsIlAiLCJVIiwiYSIsImgiLCJrIiwibSIsIm4iLCJ0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/drizzle-orm/view-23898f21.mjs\n");

/***/ })

};
;